[{"categories":["AWS"],"content":"AWS Lambda Web Adapter React Router v7ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚’è©¦ã™ ã§ä½œæˆã—ãŸã‚µãƒ³ãƒ—ãƒ«ã‚’AWS Lambda Web Adapter ã‚’ä½¿ã£ã¦AWSã®Lambdaä¸Šã§å‹•ã‹ã™ã€‚\nAWS Lambda Web Adapterã®GitHubã‚’ã¿ã‚‹ã¨Remix example ãŒã‚ã‚‹ã®ã§å‚è€ƒã«ã—ã¦é€²ã‚ã‚‹ã€‚\nè¨­å®š devcontainer.json ã€é–‹ç™ºç’°å¢ƒã€‘VSC+Dev Containers+AWS SAM+Lambda ã‚’å‚è€ƒã«13-17è¡Œç›®ã€20-22è¡Œç›®ã‚’è¿½åŠ ã™ã‚‹\n.devcontainer/devcontainer.json 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 // For format details, see https://aka.ms/devcontainer.json. For config options, see the // README at: https://github.com/devcontainers/templates/tree/main/src/typescript-node { \u0026#34;name\u0026#34;: \u0026#34;React Router v7\u0026#34;, // Or use a Dockerfile or Docker Compose file. More info: https://containers.dev/guide/dockerfile \u0026#34;image\u0026#34;: \u0026#34;mcr.microsoft.com/devcontainers/typescript-node:1-22-bullseye\u0026#34;, \u0026#34;runArgs\u0026#34;: [\u0026#34;--name\u0026#34;, \u0026#34;react_router_v7-address-book\u0026#34;], // Features to add to the dev container. More info: https://containers.dev/features. \u0026#34;features\u0026#34;: { \u0026#34;node\u0026#34;: { \u0026#34;version\u0026#34;: \u0026#34;v22.13.1\u0026#34; }, \u0026#34;ghcr.io/devcontainers/features/docker-in-docker:2.12.0\u0026#34;: { \u0026#34;enableNonRootDocker\u0026#34;: \u0026#34;true\u0026#34;, \u0026#34;moby\u0026#34;: \u0026#34;true\u0026#34; }, \u0026#34;ghcr.io/audacioustux/devcontainers/aws-sam-cli:1.0.1\u0026#34;: {} }, \u0026#34;mounts\u0026#34;: [ \u0026#34;source=${localEnv:HOME}${localEnv:USERPROFILE}/.aws/,target=/home/node/.aws/,type=bind,consistency=cached\u0026#34; ], // Use \u0026#39;forwardPorts\u0026#39; to make a list of ports inside the container available locally. // \u0026#34;forwardPorts\u0026#34;: [], // Use \u0026#39;postCreateCommand\u0026#39; to run commands after the container is created. \u0026#34;postCreateCommand\u0026#34;: \u0026#34;yarn install\u0026#34;, // Configure tool-specific properties. \u0026#34;customizations\u0026#34;: { // Configure properties specific to VS Code. \u0026#34;vscode\u0026#34;: { \u0026#34;settings\u0026#34;: { \u0026#34;eslint.nodePath\u0026#34;: \u0026#34;./node_modules\u0026#34;, \u0026#34;editor.defaultFormatter\u0026#34;: \u0026#34;esbenp.prettier-vscode\u0026#34;, \u0026#34;[typescript]\u0026#34;: { \u0026#34;editor.defaultFormatter\u0026#34;: \u0026#34;esbenp.prettier-vscode\u0026#34; }, \u0026#34;editor.formatOnSave\u0026#34;: true, \u0026#34;editor.codeActionsOnSave\u0026#34;: { \u0026#34;source.fixAll.eslint\u0026#34;: \u0026#34;explicit\u0026#34;, \u0026#34;source.organizeImports\u0026#34;: \u0026#34;explicit\u0026#34; }, // github coplot setting \u0026#34;github.copilot.chat.completionContext.typescript.mode\u0026#34;: \u0026#34;on\u0026#34;, \u0026#34;github.copilot.chat.languageContext.typescript.enabled\u0026#34;: true, // typescript setting \u0026#34;typescript.inlayHints.enumMemberValues.enabled\u0026#34;: true, \u0026#34;typescript.inlayHints.functionLikeReturnTypes.enabled\u0026#34;: true, \u0026#34;typescript.inlayHints.parameterNames.enabled\u0026#34;: \u0026#34;all\u0026#34;, \u0026#34;typescript.inlayHints.parameterNames.suppressWhenArgumentMatchesName\u0026#34;: true, \u0026#34;typescript.inlayHints.parameterTypes.enabled\u0026#34;: true, \u0026#34;typescript.inlayHints.propertyDeclarationTypes.enabled\u0026#34;: true, \u0026#34;typescript.inlayHints.variableTypes.enabled\u0026#34;: true, \u0026#34;typescript.inlayHints.variableTypes.suppressWhenExpressionIsLiteral\u0026#34;: true, \u0026#34;typescript.inlayHints.enabled\u0026#34;: true, \u0026#34;cSpell.files\u0026#34;: [\u0026#34;!package.json\u0026#34;] }, // Add the IDs of extensions you want installed when the container is created. \u0026#34;extensions\u0026#34;: [ \u0026#34;dbaeumer.vscode-eslint\u0026#34;, // å…±é€š \u0026#34;esbenp.prettier-vscode\u0026#34;, \u0026#34;mhutchie.git-graph\u0026#34;, \u0026#34;eamodio.gitlens\u0026#34;, \u0026#34;usernamehw.errorlens\u0026#34;, \u0026#34;oderwat.indent-rainbow\u0026#34;, \u0026#34;aaron-bond.better-comments\u0026#34;, \u0026#34;streetsidesoftware.code-spell-checker\u0026#34; ] } } // Uncomment to connect as root instead. More info: https://aka.ms/dev-containers-non-root. // \u0026#34;remoteUser\u0026#34;: \u0026#34;root\u0026#34; } Dockerfile yarnã‚’ä½¿ã£ã¦ã„ã‚‹ã®ã§ã€11-13è¡Œç›®ã®yarné–¢é€£ã®COPYã‚’è¿½åŠ ã™ã‚‹\nDockerfile 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 FROM public.ecr.aws/docker/library/node:22.13.1-bookworm-slim as builder WORKDIR \u0026#34;/var/task\u0026#34; ADD . . RUN yarn set version 4.6.0 \u0026amp;\u0026amp; yarn install \u0026amp;\u0026amp; yarn build FROM public.ecr.aws/docker/library/node:22.13.1-bookworm-slim COPY --from=public.ecr.aws/awsguru/aws-lambda-adapter:0.9.0 /lambda-adapter /opt/extensions/lambda-adapter WORKDIR \u0026#34;/var/task\u0026#34; COPY --from=builder /var/task/build /var/task/build COPY --from=builder /var/task/node_modules /var/task/node_modules COPY --from=builder /var/task/yarn.lock /var/task/yarn.lock COPY --from=builder /var/task/.yarn /var/task/.yarn COPY --from=builder /var/task/.yarnrc.yml /var/task/.yarnrc.yml COPY --from=builder /var/task/package.json /var/task/package.json ENV NODE_ENV=production PORT=3000 CMD [\u0026#34;yarn\u0026#34;, \u0026#34;start\u0026#34;] template.yaml(AWS SAM) Architecturesã§arm64ã‚’æŒ‡å®šã™ã‚‹ï¼ˆå¿…é ˆã§ã¯ãªã„ï¼‰\ntemplate.yaml 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 AWSTemplateFormatVersion: \u0026#34;2010-09-09\u0026#34; Transform: AWS::Serverless-2016-10-31 Description: \u0026gt; Remix Demo Sample SAM Template for Remix Demo # More info about Globals: https://github.com/awslabs/serverless-application-model/blob/master/docs/globals.rst Globals: Function: Timeout: 29 Resources: Function: Type: AWS::Serverless::Function Properties: PackageType: Image MemorySize: 1024 Architectures: - arm64 Environment: Variables: RUST_LOG: info Events: Root: Type: HttpApi Metadata: DockerTag: v1 DockerContext: . Dockerfile: Dockerfile Outputs: FunctionApi: Description: \u0026#34;API Gateway endpoint URL for Prod stage for Express function\u0026#34; Value: !Sub \u0026#34;https://${ServerlessHttpApi}.execute-api.${AWS::Region}.${AWS::URLSuffix}/\u0026#34; ãƒ‡ãƒ—ãƒ­ã‚¤ ãƒ‡ãƒ—ãƒ­ã‚¤ã¯READMEã®Deploy to Lambda ã©ãŠã‚Šé€²ã‚ã‚Œã°å•é¡Œãªãé€²ã¿ã¾ã™\nãƒ‡ãƒ—ãƒ­ã‚¤çµ‚äº†æ™‚ã«è¡¨ç¤ºã•ã‚Œã‚‹URLã‚’ãƒ–ãƒ©ã‚¦ã‚¶ã§é–‹ã‘ã°ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã¨åŒã˜ã‚‚ã®ãŒè¡¨ç¤ºã•ã‚Œã¾ã™\nå‚è€ƒ Amazon ECR Public Gallery(awsguru/aws-lambda-adapter) ","permalink":"https://techteco.github.io/2025/02/10/aws-lambda-web-adapter/","tags":["AWS SAM","Lambda","Remix","React Router"],"title":"AWS Lambda Web Adapterã‚’ä½¿ã£ã¦React Routerã‚’Lambdaã§å‹•ã‹ã™"},{"categories":["Front"],"content":"VSC(Visual Studio Code)ã€€TypeScript Inlay hints Inlay hintsï¼ˆå…¬å¼ãƒšãƒ¼ã‚¸ï¼‰ è¨­å®šã—ãŸãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ è¨­å®š èª¬æ˜ typescript.inlayHints.enumMemberValues.enabled åˆ—æŒ™å‹ãƒ¡ãƒ³ãƒãƒ¼ã®å€¤ã‚’ã‚¨ãƒ‡ã‚£ã‚¿ä¸Šã«ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã§è¡¨ç¤ºã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€åˆ—æŒ™å€¤ã®å®Ÿéš›ã®å€¤ãŒç¢ºèªã—ã‚„ã™ããªã‚Šã¾ã™ã€‚ typescript.inlayHints.functionLikeReturnTypes.enabled é–¢æ•°ã‚„ãƒ¡ã‚½ãƒƒãƒ‰ãªã©ã€é–¢æ•°ãƒ©ã‚¤ã‚¯ãªã‚³ãƒ¼ãƒ‰è¦ç´ ã®æˆ»ã‚Šå€¤ã®ã‚¿ã‚¤ãƒ—ã‚’ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã§è¡¨ç¤ºã—ã¾ã™ã€‚å‹æ¨è«–ã«ã‚ˆã‚‹æˆ»ã‚Šå€¤ã‚‚æ˜ç¤ºçš„ã«ç¢ºèªã§ãã‚‹ãŸã‚ã€ã‚³ãƒ¼ãƒ‰ã®èª­ã¿ã‚„ã™ã•ãŒå‘ä¸Šã—ã¾ã™ã€‚ typescript.inlayHints.parameterNames.enabled é–¢æ•°å‘¼ã³å‡ºã—æ™‚ã«å¼•æ•°ã®æ¨ªã«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿åã‚’ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã§è¡¨ç¤ºã—ã¾ã™ã€‚ã“ã“ã§ã¯å…¨ã¦ã®å¼•æ•°ã«å¯¾ã—ã¦åå‰ãŒè¡¨ç¤ºã•ã‚Œã€ã©ã®å€¤ãŒã©ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã«å¯¾å¿œã—ã¦ã„ã‚‹ã‹ã‚’æŠŠæ¡ã—ã‚„ã™ããªã‚Šã¾ã™ã€‚ typescript.inlayHints.parameterNames.suppressWhenArgumentMatchesName é–¢æ•°å‘¼ã³å‡ºã—æ™‚ã€å¼•æ•°ã®åå‰ã¨ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿åãŒä¸€è‡´ã™ã‚‹å ´åˆã¯ãã®ãƒ’ãƒ³ãƒˆè¡¨ç¤ºã‚’æŠ‘åˆ¶ã—ã¾ã™ã€‚å†—é•·ãªè¡¨ç¤ºã‚’é¿ã‘ã€å¿…è¦ãªå ´åˆã®ã¿è¿½åŠ æƒ…å ±ã‚’æä¾›ã—ã¾ã™ã€‚ typescript.inlayHints.parameterTypes.enabled é–¢æ•°å®£è¨€æ™‚ã«å„ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®å‹æƒ…å ±ã‚’ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã§è¡¨ç¤ºã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€é–¢æ•°å®šç¾©ã®æ™‚ã«å„ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®å‹ã‚’ã™ãã«ç¢ºèªã§ãã¾ã™ã€‚ typescript.inlayHints.propertyDeclarationTypes.enabled ã‚¯ãƒ©ã‚¹ã‚„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£å®£è¨€ã®å‹æƒ…å ±ã‚’ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã§è¡¨ç¤ºã—ã¾ã™ã€‚å‹ãŒæ˜ç¤ºã•ã‚Œã¦ã„ãªã„å ´åˆã§ã‚‚æ¨è«–ã•ã‚ŒãŸå‹ãŒç¢ºèªã§ãã¾ã™ã€‚ typescript.inlayHints.variableTypes.enabled å¤‰æ•°å®£è¨€æ™‚ã«å‹æƒ…å ±ã‚’ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã§è¡¨ç¤ºã—ã¾ã™ã€‚å¤‰æ•°ã®å‹ãŒæ˜ç¤ºã•ã‚Œã¦ã„ãªãã¦ã‚‚è£œåŠ©çš„ãªæƒ…å ±ã¨ã—ã¦è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚ typescript.inlayHints.variableTypes.suppressWhenExpressionIsLiteral ãƒªãƒ†ãƒ©ãƒ«ï¼ˆä¾‹ãˆã°ã€æ–‡å­—åˆ—ã‚„æ•°å€¤ãªã©ï¼‰ã®å ´åˆã€å†—é•·ãªå‹ã®ãƒ’ãƒ³ãƒˆè¡¨ç¤ºã‚’æŠ‘åˆ¶ã—ã¾ã™ã€‚ã‚ˆã‚Šã‚·ãƒ³ãƒ—ãƒ«ã«ã—ã¦ä¸è¦ãªæƒ…å ±ã®è¡¨ç¤ºã‚’é˜²ãã¾ã™ã€‚ typescript.inlayHints.enabled ä¸Šè¨˜ã®å„ç¨® inlay hint æ©Ÿèƒ½å…¨ä½“ã‚’æœ‰åŠ¹ã«ã—ã¾ã™ã€‚ è¨­å®šãƒ•ã‚¡ã‚¤ãƒ« DevContainerã‚’åˆ©ç”¨ã™ã‚‹å‰æã§ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ã«è¿½åŠ ã™ã‚‹ã€‚ .devcontainer/devcontainer.json\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 // For format details, see https://aka.ms/devcontainer.json. For config options, see the // README at: https://github.com/devcontainers/templates/tree/main/src/typescript-node { \u0026#34;name\u0026#34;: \u0026#34;React Router v7\u0026#34;, // Or use a Dockerfile or Docker Compose file. More info: https://containers.dev/guide/dockerfile \u0026#34;image\u0026#34;: \u0026#34;mcr.microsoft.com/devcontainers/typescript-node:1-22-bullseye\u0026#34;, \u0026#34;runArgs\u0026#34;: [\u0026#34;--name\u0026#34;, \u0026#34;vsc-typescript-inlay-hints\u0026#34;], // Features to add to the dev container. More info: https://containers.dev/features. \u0026#34;features\u0026#34;: { \u0026#34;node\u0026#34;: { \u0026#34;version\u0026#34;: \u0026#34;v22.13.0\u0026#34; } }, // Use \u0026#39;forwardPorts\u0026#39; to make a list of ports inside the container available locally. // \u0026#34;forwardPorts\u0026#34;: [], // Use \u0026#39;postCreateCommand\u0026#39; to run commands after the container is created. \u0026#34;postCreateCommand\u0026#34;: \u0026#34;yarn install\u0026#34;, // Configure tool-specific properties. \u0026#34;customizations\u0026#34;: { // Configure properties specific to VS Code. \u0026#34;vscode\u0026#34;: { \u0026#34;settings\u0026#34;: { \u0026#34;eslint.nodePath\u0026#34;: \u0026#34;./node_modules\u0026#34;, \u0026#34;editor.defaultFormatter\u0026#34;: \u0026#34;esbenp.prettier-vscode\u0026#34;, \u0026#34;[typescript]\u0026#34;: { \u0026#34;editor.defaultFormatter\u0026#34;: \u0026#34;esbenp.prettier-vscode\u0026#34; }, \u0026#34;editor.formatOnSave\u0026#34;: true, \u0026#34;editor.codeActionsOnSave\u0026#34;: { \u0026#34;source.fixAll.eslint\u0026#34;: \u0026#34;explicit\u0026#34;, \u0026#34;source.organizeImports\u0026#34;: \u0026#34;explicit\u0026#34; }, // github coplot setting \u0026#34;github.copilot.chat.completionContext.typescript.mode\u0026#34;: \u0026#34;on\u0026#34;, \u0026#34;github.copilot.chat.languageContext.typescript.enabled\u0026#34;: true, // typescript setting \u0026#34;typescript.inlayHints.enumMemberValues.enabled\u0026#34;: true, \u0026#34;typescript.inlayHints.functionLikeReturnTypes.enabled\u0026#34;: true, \u0026#34;typescript.inlayHints.parameterNames.enabled\u0026#34;: \u0026#34;all\u0026#34;, \u0026#34;typescript.inlayHints.parameterNames.suppressWhenArgumentMatchesName\u0026#34;: true, \u0026#34;typescript.inlayHints.parameterTypes.enabled\u0026#34;: true, \u0026#34;typescript.inlayHints.propertyDeclarationTypes.enabled\u0026#34;: true, \u0026#34;typescript.inlayHints.variableTypes.enabled\u0026#34;: true, \u0026#34;typescript.inlayHints.variableTypes.suppressWhenExpressionIsLiteral\u0026#34;: true, \u0026#34;typescript.inlayHints.enabled\u0026#34;: true, \u0026#34;cSpell.files\u0026#34;: [\u0026#34;!package.json\u0026#34;] }, // Add the IDs of extensions you want installed when the container is created. \u0026#34;extensions\u0026#34;: [ \u0026#34;dbaeumer.vscode-eslint\u0026#34;, // å…±é€š \u0026#34;esbenp.prettier-vscode\u0026#34;, \u0026#34;mhutchie.git-graph\u0026#34;, \u0026#34;eamodio.gitlens\u0026#34;, \u0026#34;usernamehw.errorlens\u0026#34;, \u0026#34;oderwat.indent-rainbow\u0026#34;, \u0026#34;aaron-bond.better-comments\u0026#34;, \u0026#34;streetsidesoftware.code-spell-checker\u0026#34; ] } } // Uncomment to connect as root instead. More info: https://aka.ms/dev-containers-non-root. // \u0026#34;remoteUser\u0026#34;: \u0026#34;root\u0026#34; } ","permalink":"https://techteco.github.io/2025/02/07/vsc-typescript-inlay-hints/","tags":["VSC","TypeScript"],"title":"ã€é–‹ç™ºç’°å¢ƒã€‘Visual Studio Codeã®TypeScript Inlay hintsã‚’è¨­å®šã™ã‚‹"},{"categories":["Front"],"content":"React Router v7ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ« Remixã‚’ä½¿ã£ã¦ã„ãŸã®ã§ã€React Router v7ã«ãªã£ã¦ã©ã†ãªã‚‹ã®ã‹ã‚’ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚’è§¦ã£ã¦ã¿ã‚‹\nåŸºæœ¬çš„ã«ã¯å…¬å¼ ã®æ‰‹é †ã©ãŠã‚Šã‚„ã£ã¦ã¿ã‚‹ã ã‘\nâ€»é–‹ç™ºç’°å¢ƒ ã®è¨­å®šã¯æœ€å¾Œã«ã€‚\nã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— ã“ã“ã§ã¯yarnã‚’ä½¿ã†\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 $ yarn create react-router@latest --template remix-run/react-router/tutorials/address-book â¤ YN0000: Â· Yarn 4.6.0 â¤ YN0000: â”Œ Resolution step â¤ YN0085: â”‚ + create-react-router@npm:7.1.5, @nodelib/fs.scandir@npm:2.1.5, @nodelib/fs.stat@npm:2.0.5, @nodelib/fs.walk@npm:1.2.8, @remix-run/web-blob@npm:3.1.0, @remix-run/web-fetch@npm:4.4.2, and 191 more. â¤ YN0000: â”” Completed in 4s 603ms â¤ YN0000: â”Œ Fetch step â¤ YN0013: â”‚ 197 packages were added to the project (+ 28.45 MiB). â¤ YN0000: â”” Completed in 0s 822ms â¤ YN0000: â”Œ Link step â¤ YN0000: â”” Completed in 0s 498ms â¤ YN0000: Â· Done in 5s 952ms create-react-router v7.1.5 dir Where should we create your new project? . â—¼ Template: Using remix-run/react-router/tutorials/address-book... âœ” Template copied overwrite Your project directory contains files that will be overwritten by this template (you can force with `--overwrite`) Files that would be overwritten: .gitignore package.json README.md Do you wish to continue? Yes â—¼ Nice! Git has already been initialized deps Install dependencies with yarn? Yes âœ” Dependencies installed done That\u0026#39;s it! Check out README.md for development and deploy instructions. Join the community at https://rmx.as/discord ç”Ÿæˆã•ã‚ŒãŸpackage.jsonã¯ä»¥ä¸‹ã®ã¨ãŠã‚Šã€‚ reactã¯19ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 { \u0026#34;private\u0026#34;: true, \u0026#34;type\u0026#34;: \u0026#34;module\u0026#34;, \u0026#34;scripts\u0026#34;: { \u0026#34;build\u0026#34;: \u0026#34;cross-env NODE_ENV=production react-router build\u0026#34;, \u0026#34;dev\u0026#34;: \u0026#34;react-router dev\u0026#34;, \u0026#34;start\u0026#34;: \u0026#34;cross-env NODE_ENV=production react-router-serve ./build/server/index.js\u0026#34;, \u0026#34;typecheck\u0026#34;: \u0026#34;react-router typegen \u0026amp;\u0026amp; tsc\u0026#34; }, \u0026#34;dependencies\u0026#34;: { \u0026#34;@react-router/node\u0026#34;: \u0026#34;^7.1.5\u0026#34;, \u0026#34;@react-router/serve\u0026#34;: \u0026#34;^7.1.5\u0026#34;, \u0026#34;isbot\u0026#34;: \u0026#34;^5.1.17\u0026#34;, \u0026#34;match-sorter\u0026#34;: \u0026#34;^8.0.0\u0026#34;, \u0026#34;react\u0026#34;: \u0026#34;^19.0.0\u0026#34;, \u0026#34;react-dom\u0026#34;: \u0026#34;^19.0.0\u0026#34;, \u0026#34;react-router\u0026#34;: \u0026#34;^7.1.5\u0026#34;, \u0026#34;sort-by\u0026#34;: \u0026#34;^1.2.0\u0026#34;, \u0026#34;tiny-invariant\u0026#34;: \u0026#34;^1.3.3\u0026#34; }, \u0026#34;devDependencies\u0026#34;: { \u0026#34;@react-router/dev\u0026#34;: \u0026#34;^7.1.5\u0026#34;, \u0026#34;@types/node\u0026#34;: \u0026#34;^20\u0026#34;, \u0026#34;@types/react\u0026#34;: \u0026#34;^19.0.1\u0026#34;, \u0026#34;@types/react-dom\u0026#34;: \u0026#34;^19.0.1\u0026#34;, \u0026#34;cross-env\u0026#34;: \u0026#34;^7.0.3\u0026#34;, \u0026#34;typescript\u0026#34;: \u0026#34;^5.7.2\u0026#34;, \u0026#34;vite\u0026#34;: \u0026#34;^5.4.11\u0026#34; }, \u0026#34;engines\u0026#34;: { \u0026#34;node\u0026#34;: \u0026#34;\u0026gt;=20.0.0\u0026#34; }, \u0026#34;packageManager\u0026#34;: \u0026#34;yarn@4.6.0\u0026#34; } å‹•ä½œç¢ºèªã§ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ãŒã€ãƒ–ãƒ©ã‚¦ã‚¶ã§è¡¨ç¤ºã§ããªã„ã€‚\n$ yarn dev âœ Local: http://localhost:5173/ âœ press h + enter to show help http://localhost:5173/ DevContainerä¸Šã§Viteã‚’å‹•ã‹ã™ã¨ã€ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‰ãŒå‹•ä½œã—ãªã„ã‚ˆã†ãªã®ã§è¨­å®šè¿½åŠ \nViteå…¬å¼ï¼ˆServer Optionsï¼‰ vite.config.ts 1 2 3 4 5 6 7 8 9 10 11 import { reactRouter } from \u0026#34;@react-router/dev/vite\u0026#34;; import { defineConfig } from \u0026#34;vite\u0026#34;; export default defineConfig({ plugins: [ reactRouter() ], server: { host: \u0026#39;127.0.0.1\u0026#39;, }, }); å†åº¦å®Ÿè¡Œã™ã‚‹\n$ yarn dev âœ Local: http://127.0.0.1:5173/ âœ press h + enter to show help http://127.0.0.1:5173/ ç„¡äº‹è¡¨ç¤ºã•ã‚Œã¾ã—ãŸã€‚\nèº“ããƒã‚¤ãƒ³ãƒˆã¯ã“ã“ã ã‘ã§ã€ã‚ã¨ã¯ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã©ãŠã‚Šå•é¡Œãªãé€²ã¿ã¾ã—ãŸã€‚\né–‹ç™ºç’°å¢ƒ VSCã®Dev Containersã‚’ä½¿ã£ã¦ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æœ€çµ‚çš„ãªè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã¯ä»¥ä¸‹ã®é€šã‚Šã€‚\n.devcontainer/devcontainer.json 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 // For format details, see https://aka.ms/devcontainer.json. For config options, see the // README at: https://github.com/devcontainers/templates/tree/main/src/typescript-node { \u0026#34;name\u0026#34;: \u0026#34;React Router v7\u0026#34;, // Or use a Dockerfile or Docker Compose file. More info: https://containers.dev/guide/dockerfile \u0026#34;image\u0026#34;: \u0026#34;mcr.microsoft.com/devcontainers/typescript-node:1-22-bullseye\u0026#34;, \u0026#34;runArgs\u0026#34;: [\u0026#34;--name\u0026#34;, \u0026#34;react_router_v7-address-book\u0026#34;], // Features to add to the dev container. More info: https://containers.dev/features. \u0026#34;features\u0026#34;: { \u0026#34;node\u0026#34;: { \u0026#34;version\u0026#34;: \u0026#34;v22.13.0\u0026#34; } }, // Use \u0026#39;forwardPorts\u0026#39; to make a list of ports inside the container available locally. // \u0026#34;forwardPorts\u0026#34;: [], // Use \u0026#39;postCreateCommand\u0026#39; to run commands after the container is created. \u0026#34;postCreateCommand\u0026#34;: \u0026#34;yarn install\u0026#34;, // Configure tool-specific properties. \u0026#34;customizations\u0026#34;: { // Configure properties specific to VS Code. \u0026#34;vscode\u0026#34;: { \u0026#34;settings\u0026#34;: { \u0026#34;eslint.nodePath\u0026#34;: \u0026#34;./node_modules\u0026#34;, \u0026#34;editor.defaultFormatter\u0026#34;: \u0026#34;esbenp.prettier-vscode\u0026#34;, \u0026#34;[typescript]\u0026#34;: { \u0026#34;editor.defaultFormatter\u0026#34;: \u0026#34;esbenp.prettier-vscode\u0026#34; }, \u0026#34;editor.formatOnSave\u0026#34;: true, \u0026#34;editor.codeActionsOnSave\u0026#34;: { \u0026#34;source.fixAll.eslint\u0026#34;: \u0026#34;explicit\u0026#34;, \u0026#34;source.organizeImports\u0026#34;: \u0026#34;explicit\u0026#34; }, \u0026#34;cSpell.files\u0026#34;: [\u0026#34;!package.json\u0026#34;] }, // Add the IDs of extensions you want installed when the container is created. \u0026#34;extensions\u0026#34;: [ \u0026#34;dbaeumer.vscode-eslint\u0026#34;, // å…±é€š \u0026#34;esbenp.prettier-vscode\u0026#34;, \u0026#34;mhutchie.git-graph\u0026#34;, \u0026#34;eamodio.gitlens\u0026#34;, \u0026#34;usernamehw.errorlens\u0026#34;, \u0026#34;oderwat.indent-rainbow\u0026#34;, \u0026#34;aaron-bond.better-comments\u0026#34;, \u0026#34;streetsidesoftware.code-spell-checker\u0026#34; ] } } // Uncomment to connect as root instead. More info: https://aka.ms/dev-containers-non-root. // \u0026#34;remoteUser\u0026#34;: \u0026#34;root\u0026#34; } ","permalink":"https://techteco.github.io/2025/02/02/reactrouter-address-book/","tags":["React Router","React","Remix"],"title":"React Router v7ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚’è©¦ã™"},{"categories":["AWS"],"content":"VSC(Visual Studio Code) Dev Containersç’°å¢ƒ PCï¼ˆmacï¼‰ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒé¢å€’ VSC(Visual Studio Code) ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆ Docker ã¯ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆ Dev Containers Dev Containers å…¬å¼ AWS CLIã‚’åˆ©ç”¨ã™ã‚‹ãŸã‚Dev Container Features ã‚’ä½¿ã†\nè¨­å®šãƒ•ã‚¡ã‚¤ãƒ« Specification Dev Container metadata reference è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã¯ä»¥ä¸‹ã®é€šã‚Šã€‚ .devcontainer/devcontainer.json\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 // For format details, see https://aka.ms/devcontainer.json. For config options, see the // README at: https://github.com/devcontainers/templates/tree/main/src/ubuntu { \u0026#34;name\u0026#34;: \u0026#34;Ubuntu\u0026#34;, // Or use a Dockerfile or Docker Compose file. More info: https://containers.dev/guide/dockerfile \u0026#34;image\u0026#34;: \u0026#34;mcr.microsoft.com/devcontainers/base:ubuntu\u0026#34;, \u0026#34;runArgs\u0026#34;: [\u0026#34;--name\u0026#34;, \u0026#34;aws_cli_base\u0026#34;], \u0026#34;features\u0026#34;: { \u0026#34;ghcr.io/devcontainers/features/aws-cli:1\u0026#34;: {} }, \u0026#34;mounts\u0026#34;: [ \u0026#34;source=${localEnv:HOME}${localEnv:USERPROFILE}/.aws/,target=/home/vscode/.aws/,type=bind,consistency=cached\u0026#34; ], // Features to add to the dev container. More info: https://containers.dev/features. // \u0026#34;features\u0026#34;: {}, // Use \u0026#39;forwardPorts\u0026#39; to make a list of ports inside the container available locally. // \u0026#34;forwardPorts\u0026#34;: [], // Use \u0026#39;postCreateCommand\u0026#39; to run commands after the container is created. // \u0026#34;postCreateCommand\u0026#34;: \u0026#34;uname -a\u0026#34;, // Configure tool-specific properties. \u0026#34;customizations\u0026#34;: { // Configure properties specific to VS Code. \u0026#34;vscode\u0026#34;: { \u0026#34;settings\u0026#34;: { \u0026#34;editor.formatOnSave\u0026#34;: true, \u0026#34;editor.formatOnSaveMode\u0026#34;: \u0026#34;file\u0026#34;, \u0026#34;cSpell.enableFiletypes\u0026#34;: [\u0026#34;!jsonc\u0026#34;] }, // Add the IDs of extensions you want installed when the container is created. \u0026#34;extensions\u0026#34;: [ \u0026#34;esbenp.prettier-vscode\u0026#34;, \u0026#34;mhutchie.git-graph\u0026#34;, \u0026#34;eamodio.gitlens\u0026#34;, \u0026#34;usernamehw.errorlens\u0026#34;, \u0026#34;oderwat.indent-rainbow\u0026#34;, \u0026#34;aaron-bond.better-comments\u0026#34;, \u0026#34;streetsidesoftware.code-spell-checker\u0026#34; ] } } // Uncomment to connect as root instead. More info: https://aka.ms/dev-containers-non-root. // \u0026#34;remoteUser\u0026#34;: \u0026#34;root\u0026#34; } 10-12è¡Œã§Featuresã®æŒ‡å®š\nAWS CLI (aws-cli) 14-16è¡Œã§ãƒ­ãƒ¼ã‚«ãƒ«PCã§è¨­å®šã—ãŸAWS Configureã®è¨­å®šã‚’ãƒã‚¦ãƒ³ãƒˆã™ã‚‹\nAdd another local file mount AWS CLIã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¢ºèª $ aws --version aws-cli/2.16.12 Python/3.11.8 Linux/6.6.32-linuxkit exe/aarch64.ubuntu.22 AWS æ¥ç¶šç¢ºèª é©å½“ã«å‚ç…§ç³»ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦èªè¨¼ã§ã‚¨ãƒ©ãƒ¼ãŒã§ãªã‘ã‚Œã°OK\n$ aws s3 ls ","permalink":"https://techteco.github.io/2024/07/09/vsc-aws-cli/","tags":["VSC","AWS CLI"],"title":"ã€é–‹ç™ºç’°å¢ƒã€‘VSC+Dev Containers+AWS CLI"},{"categories":["AWS"],"content":"VSC(Visual Studio Code) Dev Containersç’°å¢ƒ PCï¼ˆmacï¼‰ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒé¢å€’ VSC(Visual Studio Code) ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆ Docker ã¯ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆ Dev Containers Dev Containers å…¬å¼ AWS SAMã‚’åˆ©ç”¨ã™ã‚‹ãŸã‚Dev Container Features ã‚’ä½¿ã†\nè¨­å®šãƒ•ã‚¡ã‚¤ãƒ« Specification Dev Container metadata reference è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã¯ä»¥ä¸‹ã®é€šã‚Šã€‚ .devcontainer/devcontainer.json\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 // For format details, see https://aka.ms/devcontainer.json. For config options, see the // README at: https://github.com/devcontainers/templates/tree/main/src/docker-in-docker { \u0026#34;name\u0026#34;: \u0026#34;Docker in Docker\u0026#34;, // Or use a Dockerfile or Docker Compose file. More info: https://containers.dev/guide/dockerfile \u0026#34;image\u0026#34;: \u0026#34;mcr.microsoft.com/devcontainers/base:ubuntu\u0026#34;, \u0026#34;runArgs\u0026#34;: [\u0026#34;--name\u0026#34;, \u0026#34;aws_sam_base\u0026#34;], \u0026#34;features\u0026#34;: { \u0026#34;ghcr.io/devcontainers/features/docker-in-docker:2.11.0\u0026#34;: { \u0026#34;enableNonRootDocker\u0026#34;: \u0026#34;true\u0026#34;, \u0026#34;moby\u0026#34;: \u0026#34;true\u0026#34; }, \u0026#34;ghcr.io/audacioustux/devcontainers/aws-sam-cli:1\u0026#34;: {} }, // Use \u0026#39;forwardPorts\u0026#39; to make a list of ports inside the container available locally. // \u0026#34;forwardPorts\u0026#34;: [], // Use \u0026#39;postCreateCommand\u0026#39; to run commands after the container is created. // \u0026#34;postCreateCommand\u0026#34;: \u0026#34;docker --version\u0026#34;, // Configure tool-specific properties. \u0026#34;customizations\u0026#34;: { // Configure properties specific to VS Code. \u0026#34;vscode\u0026#34;: { \u0026#34;settings\u0026#34;: { \u0026#34;editor.formatOnSave\u0026#34;: true, \u0026#34;editor.formatOnSaveMode\u0026#34;: \u0026#34;file\u0026#34;, \u0026#34;cSpell.enableFiletypes\u0026#34;: [\u0026#34;!jsonc\u0026#34;] }, // Add the IDs of extensions you want installed when the container is created. \u0026#34;extensions\u0026#34;: [ \u0026#34;esbenp.prettier-vscode\u0026#34;, \u0026#34;mhutchie.git-graph\u0026#34;, \u0026#34;eamodio.gitlens\u0026#34;, \u0026#34;usernamehw.errorlens\u0026#34;, \u0026#34;oderwat.indent-rainbow\u0026#34;, \u0026#34;aaron-bond.better-comments\u0026#34;, \u0026#34;streetsidesoftware.code-spell-checker\u0026#34; ] } } // Uncomment to connect as root instead. More info: https://aka.ms/dev-containers-non-root. // \u0026#34;remoteUser\u0026#34;: \u0026#34;root\u0026#34; } 6è¡Œç›®ã¯ã€Dev Containerã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’æŒ‡å®š æŒ‡å®šå¯èƒ½ãªã‚¤ãƒ¡ãƒ¼ã‚¸ã¯ Dev Container Images ã«ç”¨æ„ã•ã‚Œã¦ã„ã‚‹ã‚‚ã®ã‹ã‚‰ Github ã§å„ã‚¤ãƒ¡ãƒ¼ã‚¸ã®è©³ç´°ã‚’ç¢ºèª ã“ã“ã§æŒ‡å®šã—ã¦ã„ã‚‹ã®ã¯ Ubuntu 10-16è¡Œã§Featuresã®æŒ‡å®š docker-in-docker AWS SAM CLI (aws-sam-cli) OSã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¢ºèª 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 $ uname -a Linux 17f1757582c0 6.6.26-linuxkit #1 SMP Sat Apr 27 04:13:19 UTC 2024 aarch64 aarch64 aarch64 GNU/Linux $ cat /etc/os-release PRETTY_NAME=\u0026#34;Ubuntu 22.04.4 LTS\u0026#34; NAME=\u0026#34;Ubuntu\u0026#34; VERSION_ID=\u0026#34;22.04\u0026#34; VERSION=\u0026#34;22.04.4 LTS (Jammy Jellyfish)\u0026#34; VERSION_CODENAME=jammy ID=ubuntu ID_LIKE=debian HOME_URL=\u0026#34;https://www.ubuntu.com/\u0026#34; SUPPORT_URL=\u0026#34;https://help.ubuntu.com/\u0026#34; BUG_REPORT_URL=\u0026#34;https://bugs.launchpad.net/ubuntu/\u0026#34; PRIVACY_POLICY_URL=\u0026#34;https://www.ubuntu.com/legal/terms-and-policies/privacy-policy\u0026#34; UBUNTU_CODENAME=jammy AWS SAMã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¢ºèª 1 2 $ sam --version SAM CLI, version 1.118.0 SAMå‹•ä½œç¢ºèª SAMã‚’ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‹ã‚‰Lambdaå®Ÿè¡Œç”¨ã®ç’°å¢ƒä½œæˆ 1 - Hello World Exampleã‚’é¸æŠã™ã‚‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 $ sam init You can preselect a particular runtime or package type when using the `sam init` experience. Call `sam init --help` to learn more. Which template source would you like to use? 1 - AWS Quick Start Templates 2 - Custom Template Location Choice: 1 Choose an AWS Quick Start application template 1 - Hello World Example 2 - Data processing 3 - Hello World Example with Powertools for AWS Lambda 4 - Multi-step workflow 5 - Scheduled task 6 - Standalone function 7 - Serverless API 8 - Infrastructure event management 9 - Lambda Response Streaming 10 - Serverless Connector Hello World Example 11 - Multi-step workflow with Connectors 12 - GraphQLApi Hello World Example 13 - Full Stack 14 - Lambda EFS example 15 - DynamoDB Example 16 - Machine Learning Template: 1 Use the most popular runtime and package type? (Python and zip) [y/N]: y Would you like to enable X-Ray tracing on the function(s) in your application? [y/N]: y X-Ray will incur an additional cost. View https://aws.amazon.com/xray/pricing/ for more details Would you like to enable monitoring using CloudWatch Application Insights? For more info, please view https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/cloudwatch-application-insights.html [y/N]: y AppInsights monitoring may incur additional cost. View https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/appinsights-what-is.html#appinsights-pricing for more details Would you like to set Structured Logging in JSON format on your Lambda functions? [y/N]: y Structured Logging in JSON format might incur an additional cost. View https://docs.aws.amazon.com/lambda/latest/dg/monitoring-cloudwatchlogs.html#monitoring-cloudwatchlogs-pricing for more details Project name [sam-app]: sam-app Cloning from https://github.com/aws/aws-sam-cli-app-templates (process may take a moment) ----------------------- Generating application: ----------------------- Name: sam-app Runtime: python3.9 Architectures: x86_64 Dependency Manager: pip Application Template: hello-world Output Directory: . Configuration file: sam-app/samconfig.toml Next steps can be found in the README file at sam-app/README.md Commands you can use next ========================= [*] Create pipeline: cd sam-app \u0026amp;\u0026amp; sam pipeline init --bootstrap [*] Validate SAM template: cd sam-app \u0026amp;\u0026amp; sam validate [*] Test Function in the Cloud: cd sam-app \u0026amp;\u0026amp; sam sync --stack-name {stack-name} --watch SAM Invokeã§Lambdaå®Ÿè¡Œ {\u0026quot;statusCode\u0026quot;: 200, \u0026quot;body\u0026quot;: \u0026quot;{\\\u0026quot;message\\\u0026quot;: \\\u0026quot;hello world\\\u0026quot;}\u0026quot;}ãŒè¡¨ç¤ºã•ã‚Œã‚Œã°OK\n1 2 3 4 5 6 7 8 9 10 11 $ sam local invoke --template sam-app/template.yaml Invoking app.lambda_handler (python3.9) Local image is out of date and will be updated to the latest runtime. To skip this, pass in the parameter --skip-pull-image Building image.............................................................................................. Using local image: public.ecr.aws/lambda/python:3.9-rapid-x86_64. Mounting /workspaces/aws-sam-base/sam-app/hello_world as /var/task:ro,delegated, inside runtime container START RequestId: c502a1d8-0a07-4b8b-b071-15e06f32e168 Version: $LATEST END RequestId: 6dc17b55-c6fb-4873-9e1c-43fd6a38573b REPORT RequestId: 6dc17b55-c6fb-4873-9e1c-43fd6a38573b Init Duration: 0.39 ms Duration: 179.61 ms Billed Duration: 180 ms Memory Size: 128 MB Max Memory Used: 128 MB {\u0026#34;statusCode\u0026#34;: 200, \u0026#34;body\u0026#34;: \u0026#34;{\\\u0026#34;message\\\u0026#34;: \\\u0026#34;hello world\\\u0026#34;}\u0026#34;} ","permalink":"https://techteco.github.io/2024/06/06/vsc-aws-sam-lambda/","tags":["VSC","Lambda","AWS SAM"],"title":"ã€é–‹ç™ºç’°å¢ƒã€‘VSC+Dev Containers+AWS SAM+Lambda"},{"categories":["GO"],"content":"VSC(Visual Studio Code) Dev Containersç’°å¢ƒ å‚è€ƒ : ã€é–‹ç™ºç’°å¢ƒã€‘VSC(Visual Studio Code)ã®Dev Containersã‚’ä½¿ã£ã¦ã€Remix+TypeScriptç’°å¢ƒã‚’ä½œã‚‹ Dev Containers è¨­å®šãƒ•ã‚¡ã‚¤ãƒ« è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã¯ä»¥ä¸‹ã®é€šã‚Šã€‚ .devcontainer/devcontainer.json\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 // For format details, see https://aka.ms/devcontainer.json. For config options, see the // README at: https://github.com/devcontainers/templates/tree/main/src/go { \u0026#34;name\u0026#34;: \u0026#34;Go\u0026#34;, // Or use a Dockerfile or Docker Compose file. More info: https://containers.dev/guide/dockerfile \u0026#34;image\u0026#34;: \u0026#34;mcr.microsoft.com/devcontainers/go:1.22-bullseye\u0026#34;, \u0026#34;runArgs\u0026#34;: [\u0026#34;--name\u0026#34;, \u0026#34;vsc_golang_base\u0026#34;], // Features to add to the dev container. More info: https://containers.dev/features. \u0026#34;features\u0026#34;: { \u0026#34;golang\u0026#34;: \u0026#34;1.22.3\u0026#34; }, // Use \u0026#39;forwardPorts\u0026#39; to make a list of ports inside the container available locally. // \u0026#34;forwardPorts\u0026#34;: [], // Use \u0026#39;postCreateCommand\u0026#39; to run commands after the container is created. // \u0026#34;postCreateCommand\u0026#34;: \u0026#34;go version\u0026#34;, // Configure tool-specific properties. \u0026#34;customizations\u0026#34;: { // Configure properties specific to VS Code. \u0026#34;vscode\u0026#34;: { \u0026#34;settings\u0026#34;: { \u0026#34;editor.formatOnSave\u0026#34;: true, \u0026#34;editor.formatOnSaveMode\u0026#34;: \u0026#34;file\u0026#34;, \u0026#34;[go]\u0026#34;: { \u0026#34;editor.defaultFormatter\u0026#34;: \u0026#34;golang.go\u0026#34; }, \u0026#34;cSpell.enableFiletypes\u0026#34;: [\u0026#34;!jsonc\u0026#34;] }, // Add the IDs of extensions you want installed when the container is created. \u0026#34;extensions\u0026#34;: [ \u0026#34;golang.go\u0026#34;, // å…±é€š \u0026#34;esbenp.prettier-vscode\u0026#34;, \u0026#34;mhutchie.git-graph\u0026#34;, \u0026#34;eamodio.gitlens\u0026#34;, \u0026#34;usernamehw.errorlens\u0026#34;, \u0026#34;oderwat.indent-rainbow\u0026#34;, \u0026#34;aaron-bond.better-comments\u0026#34;, \u0026#34;streetsidesoftware.code-spell-checker\u0026#34; ] } } // Uncomment to connect as root instead. More info: https://aka.ms/dev-containers-non-root. // \u0026#34;remoteUser\u0026#34;: \u0026#34;root\u0026#34; } 6è¡Œç›®ã¯ã€Dev Containerã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’æŒ‡å®š æŒ‡å®šå¯èƒ½ãªã‚¤ãƒ¡ãƒ¼ã‚¸ã¯ Dev Container Images ã«ç”¨æ„ã•ã‚Œã¦ã„ã‚‹ã‚‚ã®ã‹ã‚‰ Github ã§å„ã‚¤ãƒ¡ãƒ¼ã‚¸ã®è©³ç´°ã‚’ç¢ºèª ã“ã“ã§æŒ‡å®šã—ã¦ã„ã‚‹ã®ã¯ GO 8è¡Œç›®ã¯Dockerã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã«åå‰ã‚’ã¤ã‘ã‚‹ãŸã‚ 12è¡Œç›®ã§Goã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æŒ‡å®š 25-32è¡Œã§VSCã®è¨­å®š 34-45è¡Œã§VSCã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹extensionã‚’æŒ‡å®š 1 2 $ go version go version go1.22.3 linux/arm64 ","permalink":"https://techteco.github.io/2024/05/31/vsc-go/","tags":["VSC"],"title":"ã€é–‹ç™ºç’°å¢ƒã€‘VSC+Dev Containers+GO"},{"categories":["Front"],"content":"VSC(Visual Studio Code) Dev Containersç’°å¢ƒ PCï¼ˆmacï¼‰ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒé¢å€’ VSC(Visual Studio Code) ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆ Docker ã¯ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆ Dev Containers Dev Containers å…¬å¼ è¨­å®šãƒ•ã‚¡ã‚¤ãƒ« Specification Dev Container metadata reference è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã¯ä»¥ä¸‹ã®é€šã‚Šã€‚ .devcontainer/devcontainer.json\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 // For format details, see https://aka.ms/devcontainer.json. For config options, see the // README at: https://github.com/devcontainers/templates/tree/main/src/typescript-node { \u0026#34;name\u0026#34;: \u0026#34;Node.js \u0026amp; TypeScript\u0026#34;, // Or use a Dockerfile or Docker Compose file. More info: https://containers.dev/guide/dockerfile \u0026#34;image\u0026#34;: \u0026#34;mcr.microsoft.com/devcontainers/typescript-node:1-20-bullseye\u0026#34;, \u0026#34;runArgs\u0026#34;: [\u0026#34;--name\u0026#34;, \u0026#34;vsc_react_base\u0026#34;], // Features to add to the dev container. More info: https://containers.dev/features. \u0026#34;features\u0026#34;: { \u0026#34;node\u0026#34;: { \u0026#34;version\u0026#34;: \u0026#34;v20.12.2\u0026#34; } }, // Use \u0026#39;forwardPorts\u0026#39; to make a list of ports inside the container available locally. // \u0026#34;forwardPorts\u0026#34;: [], // Use \u0026#39;postCreateCommand\u0026#39; to run commands after the container is created. \u0026#34;postCreateCommand\u0026#34;: \u0026#34;yarn install\u0026#34;, // Configure tool-specific properties. \u0026#34;customizations\u0026#34;: { // Configure properties specific to VS Code. \u0026#34;vscode\u0026#34;: { \u0026#34;settings\u0026#34;: { \u0026#34;eslint.nodePath\u0026#34;: \u0026#34;./node_modules\u0026#34;, \u0026#34;editor.defaultFormatter\u0026#34;: \u0026#34;esbenp.prettier-vscode\u0026#34;, \u0026#34;[typescript]\u0026#34;: { \u0026#34;editor.defaultFormatter\u0026#34;: \u0026#34;esbenp.prettier-vscode\u0026#34; }, \u0026#34;editor.formatOnSave\u0026#34;: true, \u0026#34;editor.codeActionsOnSave\u0026#34;: { \u0026#34;source.fixAll.eslint\u0026#34;: \u0026#34;explicit\u0026#34;, \u0026#34;source.organizeImports\u0026#34;: \u0026#34;explicit\u0026#34; }, \u0026#34;cSpell.files\u0026#34;: [ \u0026#34;!package.json\u0026#34; ] }, // Add the IDs of extensions you want installed when the container is created. \u0026#34;extensions\u0026#34;: [ \u0026#34;dbaeumer.vscode-eslint\u0026#34;, // å…±é€š \u0026#34;esbenp.prettier-vscode\u0026#34;, \u0026#34;mhutchie.git-graph\u0026#34;, \u0026#34;eamodio.gitlens\u0026#34;, \u0026#34;usernamehw.errorlens\u0026#34;, \u0026#34;oderwat.indent-rainbow\u0026#34;, \u0026#34;aaron-bond.better-comments\u0026#34;, \u0026#34;streetsidesoftware.code-spell-checker\u0026#34; ] } } // Uncomment to connect as root instead. More info: https://aka.ms/dev-containers-non-root. // \u0026#34;remoteUser\u0026#34;: \u0026#34;root\u0026#34; } 6è¡Œç›®ã¯ã€Dev Containerã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’æŒ‡å®š æŒ‡å®šå¯èƒ½ãªã‚¤ãƒ¡ãƒ¼ã‚¸ã¯ Dev Container Images ã«ç”¨æ„ã•ã‚Œã¦ã„ã‚‹ã‚‚ã®ã‹ã‚‰ Github ã§å„ã‚¤ãƒ¡ãƒ¼ã‚¸ã®è©³ç´°ã‚’ç¢ºèª ã“ã“ã§æŒ‡å®šã—ã¦ã„ã‚‹ã®ã¯ Node.js \u0026amp; TypeScript 8è¡Œç›®ã¯Dockerã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã«åå‰ã‚’ã¤ã‘ã‚‹ãŸã‚ 12-14è¡Œã§nodeã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æŒ‡å®š 26-40è¡Œã§VSCã®è¨­å®š 42-53è¡Œã§VSCã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹extensionã‚’æŒ‡å®š ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã¯Yarn 4.0ã‚’ä½¿ã†\n1 2 3 4 $ yarn set version stable â¤ YN0000: Downloading https://repo.yarnpkg.com/4.2.2/packages/yarnpkg-cli/bin/yarn.js â¤ YN0000: Saving the new release in .yarn/releases/yarn-4.2.2.cjs â¤ YN0000: Done in 0s 181ms .yarnrc.yml 1 2 3 nodeLinker: node-modules yarnPath: .yarn/releases/yarn-4.2.2.cjs Remix Remixå…¬å¼ Remix is a full stack web framework that lets you focus on the user interface and work back through web standards to deliver a fast, slick, and resilient user experience. People are gonna love using your stuff.\nRemixã¯ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯ã®ã‚¦ã‚§ãƒ–ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã«é›†ä¸­ã—ã€ã‚¦ã‚§ãƒ–ã‚¹ã‚¿ãƒ³ãƒ€ãƒ¼ãƒ‰ã‚’é€šã—ã¦ã€é«˜é€Ÿã§ã€ã‚¹ãƒ ãƒ¼ã‚ºã§ã€å¼¾åŠ›æ€§ã®ã‚ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¨ã‚¯ã‚¹ãƒšãƒªã‚¨ãƒ³ã‚¹ã‚’æä¾›ã—ã¾ã™ã€‚äººã€…ã¯ã‚ãªãŸã®ã‚‚ã®ã‚’ä½¿ã†ã®ãŒå¥½ãã«ãªã‚‹ã§ã—ã‚‡ã†ã€‚\nQuick Start Templateã‚’ä½¿ã£ã¦ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚’å®Ÿè¡Œã—ã¦ã¿ã‚‹\ncreate-remix Templates 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 $ yarn create remix --template remix-run/remix/templates/remix â¤ YN0000: Â· Yarn 4.2.2 â¤ YN0000: â”Œ Resolution step â¤ YN0085: â”‚ + create-remix@npm:2.9.2, @nodelib/fs.scandir@npm:2.1.5, @nodelib/fs.stat@npm:2.0.5, @nodelib/fs.walk@npm:1.2.8, @remix-run/web-blob@npm:3.1.0, @remix-run/web-fetch@npm:4.4.2, @remix-run/web-file@npm:3.1.0, @remix-run/web-form-data@npm:3.1.0, @remix-run/web-stream@npm:1.1.0, and 189 more. â¤ YN0000: â”” Completed in 2s 564ms â¤ YN0000: â”Œ Fetch step â¤ YN0013: â”‚ 198 packages were added to the project (+ 30.73 MiB). â¤ YN0000: â”” Completed â¤ YN0000: â”Œ Link step â¤ YN0000: â”” Completed in 0s 501ms â¤ YN0000: Â· Done in 3s 223ms remix v2.9.2 ğŸ’¿ Let\u0026#39;s build a better website... dir Where should we create your new project? . â—¼ Template: Using remix-run/remix/templates/remix... âœ” Template copied overwrite Your project directory contains files that will be overwritten by this template (you can force with `--overwrite`) Files that would be overwritten: .eslintrc.cjs .gitignore app/entry.client.tsx app/entry.server.tsx app/root.tsx and 6 more... Do you wish to continue? Yes â—¼ Nice! Git has already been initialized deps Install dependencies with yarn? (recommended) â— Yes â—‹ No ãƒ–ãƒ©ã‚¦ã‚¶ã§http://localhost:3000ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦è¡¨ç¤ºã•ã‚Œã‚Œã°OK\n1 2 3 4 $ yarn start [remix-serve] http://localhost:3000 (http://172.17.0.2:3000) GET / 200 - - 14.999 ms prettierã®è¨­å®š VSCã§ä¿å­˜æ™‚ã«ã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãŒå®Ÿè¡Œã•ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹\nprettierãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« 1 $ yarn add -D prettier eslint-config-prettier .eslintrc.cjsã«prettierã‚’è¿½åŠ \n.eslintrc.cjs 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 /** * This is intended to be a basic starting point for linting in your app. * It relies on recommended configs out of the box for simplicity, but you can * and should modify this configuration to best suit your team\u0026#39;s needs. */ /** @type {import(\u0026#39;eslint\u0026#39;).Linter.Config} */ module.exports = { root: true, parserOptions: { ecmaVersion: \u0026#34;latest\u0026#34;, sourceType: \u0026#34;module\u0026#34;, ecmaFeatures: { jsx: true, }, }, env: { browser: true, commonjs: true, es6: true, }, ignorePatterns: [\u0026#34;!**/.server\u0026#34;, \u0026#34;!**/.client\u0026#34;], // Base config extends: [\u0026#34;eslint:recommended\u0026#34;], overrides: [ // React { files: [\u0026#34;**/*.{js,jsx,ts,tsx}\u0026#34;], plugins: [\u0026#34;react\u0026#34;, \u0026#34;jsx-a11y\u0026#34;], extends: [ \u0026#34;plugin:react/recommended\u0026#34;, \u0026#34;plugin:react/jsx-runtime\u0026#34;, \u0026#34;plugin:react-hooks/recommended\u0026#34;, \u0026#34;plugin:jsx-a11y/recommended\u0026#34;, \u0026#34;prettier\u0026#34;, ], settings: { react: { version: \u0026#34;detect\u0026#34;, }, formComponents: [\u0026#34;Form\u0026#34;], linkComponents: [ { name: \u0026#34;Link\u0026#34;, linkAttribute: \u0026#34;to\u0026#34; }, { name: \u0026#34;NavLink\u0026#34;, linkAttribute: \u0026#34;to\u0026#34; }, ], \u0026#34;import/resolver\u0026#34;: { typescript: {}, }, }, }, // Typescript { files: [\u0026#34;**/*.{ts,tsx}\u0026#34;], plugins: [\u0026#34;@typescript-eslint\u0026#34;, \u0026#34;import\u0026#34;], parser: \u0026#34;@typescript-eslint/parser\u0026#34;, settings: { \u0026#34;import/internal-regex\u0026#34;: \u0026#34;^~/\u0026#34;, \u0026#34;import/resolver\u0026#34;: { node: { extensions: [\u0026#34;.ts\u0026#34;, \u0026#34;.tsx\u0026#34;], }, typescript: { alwaysTryTypes: true, }, }, }, extends: [ \u0026#34;plugin:@typescript-eslint/recommended\u0026#34;, \u0026#34;prettier\u0026#34;, \u0026#34;plugin:import/recommended\u0026#34;, \u0026#34;plugin:import/typescript\u0026#34;, ], }, // Node { files: [\u0026#34;.eslintrc.cjs\u0026#34;], env: { node: true, }, }, ], }; package.jsonã¯ã“ã‚“ãªæ„Ÿã˜\npackage.json 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 { \u0026#34;name\u0026#34;: \u0026#34;your_project\u0026#34;, \u0026#34;private\u0026#34;: true, \u0026#34;sideEffects\u0026#34;: false, \u0026#34;type\u0026#34;: \u0026#34;module\u0026#34;, \u0026#34;scripts\u0026#34;: { \u0026#34;build\u0026#34;: \u0026#34;remix vite:build\u0026#34;, \u0026#34;dev\u0026#34;: \u0026#34;remix vite:dev\u0026#34;, \u0026#34;lint\u0026#34;: \u0026#34;eslint --ignore-path .gitignore --cache --cache-location ./node_modules/.cache/eslint .\u0026#34;, \u0026#34;start\u0026#34;: \u0026#34;remix-serve ./build/server/index.js\u0026#34;, \u0026#34;typecheck\u0026#34;: \u0026#34;tsc\u0026#34; }, \u0026#34;dependencies\u0026#34;: { \u0026#34;@remix-run/node\u0026#34;: \u0026#34;^2.9.2\u0026#34;, \u0026#34;@remix-run/react\u0026#34;: \u0026#34;^2.9.2\u0026#34;, \u0026#34;@remix-run/serve\u0026#34;: \u0026#34;^2.9.2\u0026#34;, \u0026#34;isbot\u0026#34;: \u0026#34;^5.1.6\u0026#34;, \u0026#34;react\u0026#34;: \u0026#34;^18.3.1\u0026#34;, \u0026#34;react-dom\u0026#34;: \u0026#34;^18.3.1\u0026#34; }, \u0026#34;devDependencies\u0026#34;: { \u0026#34;@remix-run/dev\u0026#34;: \u0026#34;^2.9.2\u0026#34;, \u0026#34;@types/react\u0026#34;: \u0026#34;^18.3.1\u0026#34;, \u0026#34;@types/react-dom\u0026#34;: \u0026#34;^18.3.0\u0026#34;, \u0026#34;@typescript-eslint/eslint-plugin\u0026#34;: \u0026#34;^7.8.0\u0026#34;, \u0026#34;@typescript-eslint/parser\u0026#34;: \u0026#34;^7.8.0\u0026#34;, \u0026#34;eslint\u0026#34;: \u0026#34;^8.57.0\u0026#34;, \u0026#34;eslint-config-prettier\u0026#34;: \u0026#34;^9.1.0\u0026#34;, \u0026#34;eslint-import-resolver-typescript\u0026#34;: \u0026#34;^3.6.1\u0026#34;, \u0026#34;eslint-plugin-import\u0026#34;: \u0026#34;^2.29.1\u0026#34;, \u0026#34;eslint-plugin-jsx-a11y\u0026#34;: \u0026#34;^6.8.0\u0026#34;, \u0026#34;eslint-plugin-react\u0026#34;: \u0026#34;^7.34.1\u0026#34;, \u0026#34;eslint-plugin-react-hooks\u0026#34;: \u0026#34;^4.6.2\u0026#34;, \u0026#34;prettier\u0026#34;: \u0026#34;^3.2.5\u0026#34;, \u0026#34;typescript\u0026#34;: \u0026#34;^5.4.5\u0026#34;, \u0026#34;vite\u0026#34;: \u0026#34;^5.2.11\u0026#34;, \u0026#34;vite-tsconfig-paths\u0026#34;: \u0026#34;^4.3.2\u0026#34; }, \u0026#34;engines\u0026#34;: { \u0026#34;node\u0026#34;: \u0026#34;\u0026gt;=20.0.0\u0026#34; }, \u0026#34;packageManager\u0026#34;: \u0026#34;yarn@4.2.2\u0026#34; } ","permalink":"https://techteco.github.io/2024/05/31/vsc-remix-typescript/","tags":["VSC","TypeScript","React","Remix","Node.js"],"title":"ã€é–‹ç™ºç’°å¢ƒã€‘VSC+Dev Containers+Remix+TypeScript"},{"categories":["Note"],"content":"Macã§mozjpegã‚’ä½¿ã† mozjpeg https://github.com/mozilla/mozjpeg èª¬æ˜ä¸è¦ã‹ã¨æ€ã„ã¾ã™ãŒã€mozillaãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®jpegã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã§ã™\nã¡ãªã¿ã«ã€ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ãƒ„ãƒ¼ãƒ«ã§ã‚‚æä¾›ã•ã‚Œã¦ã¾ã™ã€‚\nhttps://mozjpeg.codelove.de/ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« macã¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¯brewã‚³ãƒãƒ³ãƒ‰ã§ã§ãã¾ã™ã€‚\n1 $ brew install mozjpeg ä½¿ã„æ–¹ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã‚‚mozjpegã¨ã„ã†ã‚³ãƒãƒ³ãƒ‰ãŒä½¿ãˆã‚‹ã‚ˆã†ã«ãªã‚‹ã‚ã‘ã§ã¯ãªãã€\nç”»åƒåœ§ç¸®ã«ã¯cjpegã¨ã„ã†ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã„ã¾ã™ã€‚\npathãŒé€šã£ã¦ãªã„ã§ã™ãŒã€ä¸‹è¨˜ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã¾ã™ã€‚\n1 $ /usr/local/Cellar/mozjpeg/3.3.1_1/bin/cjpeg ç”»åƒã‚’åœ§ç¸®ã™ã‚‹ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 #### åœ§ç¸®å‰ã‚µã‚¤ã‚º $ ls -l sample.jpg | cut -d\u0026#39; \u0026#39; -f7 52611 # åœ§ç¸®å“è³ª80ã‚’æŒ‡å®š $ /usr/local/Cellar/mozjpeg/3.3.1_1/bin/cjpeg -optimize -quality 80 sample.jpg \u0026gt; sample80.jpg #### åœ§ç¸®å¾Œã‚µã‚¤ã‚º $ ls -l sample80.jpg | cut -d\u0026#39; \u0026#39; -f8 32311 ä¸€æ‹¬åœ§ç¸®ç·¨(xargs) äº‹å‰ã«resizedãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œæˆã—ã¦ãŠã\n1 $ find . -name \u0026#39;*.jpg\u0026#39; -type f | sed \u0026#39;s!^.*/!!\u0026#39; | xargs -I% /usr/local/Cellar/mozjpeg/3.3.1_1/bin/cjpeg -optimize -quality 80 -outfile \u0026#34;resized/%\u0026#34; \u0026#34;%\u0026#34; ãƒ˜ãƒ«ãƒ— 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 $ /usr/local/Cellar/mozjpeg/3.3.1_1/bin/cjpeg -help /usr/local/Cellar/mozjpeg/3.3.1_1/bin/cjpeg: unknown option \u0026#39;help\u0026#39; usage: /usr/local/Cellar/mozjpeg/3.3.1_1/bin/cjpeg [switches] [inputfile] Switches (names may be abbreviated): -quality N[,...] Compression quality (0..100; 5-95 is most useful range, default is 75) -grayscale Create monochrome JPEG file -rgb Create RGB JPEG file -optimize Optimize Huffman table (smaller file, but slow compression, enabled by default) -progressive Create progressive JPEG file (enabled by default) -baseline Create baseline JPEG file (disable progressive coding) -targa Input file is Targa format (usually not needed) -revert Revert to standard defaults (instead of mozjpeg defaults) -fastcrush Disable progressive scan optimization -dc-scan-opt DC scan optimization mode - 0 One scan for all components - 1 One scan per component (default) - 2 Optimize between one scan for all components and one scan for 1st component plus one scan for remaining components -notrellis Disable trellis optimization -trellis-dc Enable trellis optimization of DC coefficients (default) -notrellis-dc Disable trellis optimization of DC coefficients -tune-psnr Tune trellis optimization for PSNR -tune-hvs-psnr Tune trellis optimization for PSNR-HVS (default) -tune-ssim Tune trellis optimization for SSIM -tune-ms-ssim Tune trellis optimization for MS-SSIM Switches for advanced users: -noovershoot Disable black-on-white deringing via overshoot -arithmetic Use arithmetic coding -dct int Use integer DCT method (default) -dct fast Use fast integer DCT (less accurate) -dct float Use floating-point DCT method -quant-baseline Use 8-bit quantization table entries for baseline JPEG compatibility -quant-table N Use predefined quantization table N: - 0 JPEG Annex K - 1 Flat - 2 Custom, tuned for MS-SSIM - 3 ImageMagick table by N. Robidoux - 4 Custom, tuned for PSNR-HVS - 5 Table from paper by Klein, Silverstein and Carney -restart N Set restart interval in rows, or in blocks with B -smooth N Smooth dithered input (N=1..100 is strength) -maxmemory N Maximum memory to use (in kbytes) -outfile name Specify name for output file -memdst Compress to memory instead of file (useful for benchmarking) -verbose or -debug Emit debug output -version Print version information and exit Switches for wizards: -qtables FILE Use quantization tables given in FILE -qslots N[,...] Set component quantization tables -sample HxV[,...] Set component sampling factors -scans FILE Create multi-scan JPEG per script FILE ","permalink":"https://techteco.github.io/2019/04/02/mozjpeg/","tags":null,"title":"Macã§mozjpegã‚’ä½¿ã†"},{"categories":["Note"],"content":"sipsã‚³ãƒãƒ³ãƒ‰ sipsã¯**scriptable image processing system.**ã®ç•¥ã§ã™ã€‚\nThis tool is used to query or modify raster image files and ColorSync ICC profiles.\nIts functionality can also be used through the \u0026ldquo;Image Events\u0026rdquo; AppleScript suite.\nç°¡å˜ãªä½¿ã„æ–¹ ç”»åƒã®æƒ…å ±ã‚’å‚ç…§ ã‚¹ãƒãƒ•ã‚©ã§æ’®å½±ã—ãŸç”»åƒã‚’è¦‹ã¦ã¿ã‚‹ã¨ã“ã‚“ãªæ„Ÿã˜ã®æƒ…å ±ãŒå–å¾—ã§ãã¾ã—ãŸã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 $ sips -g all sample.jpg /PATH/sample.jpg pixelWidth: 4608 pixelHeight: 2304 typeIdentifier: public.jpeg format: jpeg formatOptions: default dpiWidth: 72.000 dpiHeight: 72.000 samplesPerPixel: 3 bitsPerSample: 8 hasAlpha: no space: RGB profile: sRGB IEC61966-2.1 creation: 2018:08:04 09:39:37 make: XXXXXX model: XXXXXXXXXXXX software: XXXXXXXXXXXX å¿…è¦ãªé …ç›®ã ã‘å‡ºåŠ›ã—ãŸã„å ´åˆã¯ã€ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’æŒ‡å®šã™ã‚‹ã¨å¯èƒ½ã§ã™ã€‚\n1 2 3 4 $ sips -g pixelHeight -g pixelWidth sample.jpg /PATH/sample.jpg pixelHeight: 2304 pixelWidth: 4608 ç”»åƒã‚’ãƒªã‚µã‚¤ã‚ºã™ã‚‹ ç¸¦æ¨ªã‚’640Ã—640ã«åã¾ã‚‹ã‚ˆã†ã«ã—ã¦ã¿ã‚‹\n1 2 3 4 5 6 7 8 9 10 $ sips -Z 640 sample.jpg /PATH/sample.jpg \u0026lt;CGColor 0x7ff75a508840\u0026gt; [\u0026lt;CGColorSpace 0x7ff75a701d30\u0026gt; (kCGColorSpaceDeviceRGB)] ( 0 0 0 1 ) /PATH/sample.jpg # ãƒªã‚µã‚¤ã‚ºå¾Œ $ sips -g pixelHeight -g pixelWidth sample.jpg /PATH/sample.jpg pixelHeight: 320 pixelWidth: 640 ãƒ˜ãƒ«ãƒ— ä»–ã«ã‚‚ã„ã‚ã„ã‚ã§ãã‚‹ã®ã§ã€ãƒ˜ãƒ«ãƒ—ã‚’è¦‹ãªãŒã‚‰è©¦ã™ã®ã‚‚ã„ã„ã‹ã‚‚ã€‚\nmacã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼.appã§ç·¨é›†ã§ããã†ãªé …ç›®ã¯ã€ã ã„ãŸã„ã§ããã†ãªæ„Ÿã˜ã§ã™ã­ã€‚\nä½¿ã„æ–¹ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 $ sips --help sips 10.4.4 - scriptable image processing system. This tool is used to query or modify raster image files and ColorSync ICC profiles. Its functionality can also be used through the \u0026#34;Image Events\u0026#34; AppleScript suite. Usages: sips [-h, --help] sips [-H, --helpProperties] sips [image-query-functions] imagefile ... sips [profile-query-functions] profile ... sips [image modification functions] imagefile ... [--out result-file-or-dir] sips [profile modification functions] profile ... [--out result-file-or-dir] Profile query functions: -g, --getProperty key -X, --extractTag tag tagFile -v, --verify Image query functions: -g, --getProperty key -x, --extractProfile profile Profile modification functions: -s, --setProperty key value -d, --deleteProperty key --deleteTag tag --copyTag srcTag dstTag --loadTag tag tagFile --repair Image modification functions: -s, --setProperty key value -d, --deleteProperty key -e, --embedProfile profile -E, --embedProfileIfNone profile -m, --matchTo profile -M, --matchToWithIntent profile intent --deleteColorManagementProperties -r, --rotate degreesCW -f, --flip horizontal|vertical -c, --cropToHeightWidth pixelsH pixelsW -p, --padToHeightWidth pixelsH pixelsW --padColor hexcolor -z, --resampleHeightWidth pixelsH pixelsW --resampleWidth pixelsW --resampleHeight pixelsH -Z, --resampleHeightWidthMax pixelsWH -i, --addIcon -o, --optimizeColorForSharing è¨­å®šå€¤ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 $ sips -H sips 10.4.4 - scriptable image processing system. This tool is used to query or modify raster image files and ColorSync ICC profiles. Its functionality can also be used through the \u0026#34;Image Events\u0026#34; AppleScript suite. The commands --getProperty, --setProperty, and --deleteProperty can use one of the following keys as a parameter. Special property keys: all binary data allxml binary data Image property keys: dpiHeight float dpiWidth float pixelHeight integer (read-only) pixelWidth integer (read-only) typeIdentifier string (read-only) format string jpeg | tiff | png | gif | jp2 | pict | bmp | qtif | psd | sgi | tga formatOptions string default | [low|normal|high|best|\u0026lt;percent\u0026gt;] | [lzw|packbits] space string (read-only) samplesPerPixel integer (read-only) bitsPerSample integer (read-only) creation string (read-only) make string model string software string (read-only) description string copyright string artist string profile binary data hasAlpha boolean (read-only) Profile property keys: description utf8 string size integer (read-only) cmm string version string class string (read-only) space string (read-only) pcs string (read-only) creation string platform string quality string normal | draft | best deviceManufacturer string deviceModel integer deviceAttributes0 integer deviceAttributes1 integer renderingIntent string perceptual | relative | saturation | absolute creator string copyright string md5 string (read-only) ","permalink":"https://techteco.github.io/2019/04/02/sips/","tags":null,"title":"Macã®sipsã‚³ãƒãƒ³ãƒ‰ã®ä½¿ã„æ–¹ãƒ¡ãƒ¢"},{"categories":["AWS"],"content":"AWS CodeBuildã¨ã¯ CodeBuildã¯\bä½¿ã£ãŸã“ã¨ã¯ã‚ã‚Šã¾ã—ãŸãŒã€æ¤œè¨¼ãŒé¢å€’ãã•ã„ã¨ã“ã‚ãŒã‚ã‚Šã¾ã—ãŸã€‚\nãƒ“ãƒ«ãƒ‰è‡ªä½“ã¯å‹•ãå‡ºã™ã¨ãªã‹ãªã‹å¤‰æ›´ã™ã‚‹æ©Ÿä¼šãŒãªãã€ä»Šå›ã‚ˆã†ã‚„ããƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§ã®ãƒ†ã‚¹ãƒˆã‚’è©¦ã™ã“ã¨ã«ãªã‚Šã¾ã—ãŸã€‚\nã¡ãªã¿ã«ã€CodeBuildã¨ã¯ã€\nAWS CodeBuild ã¨ã¯ AWS CodeBuild ã¯ã‚¯ãƒ©ã‚¦ãƒ‰ã§å‹•ä½œã™ã‚‹ã€å®Œå…¨ãƒãƒãƒ¼ã‚¸ãƒ‰å‹ã®ãƒ“ãƒ«ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ã§ã™ã€‚AWS CodeBuild ã¯ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã€å˜ä½“ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ã€ã™ãã«ãƒ‡ãƒ—ãƒ­ã‚¤ã§ãã‚‹ã‚¢ãƒ¼ãƒ†ã‚£ãƒ•ã‚¡ã‚¯ãƒˆã‚’ç”Ÿæˆã—ã¾ã™ã€‚AWS CodeBuild ã«ã‚ˆã‚Šã€ç‹¬è‡ªã®ãƒ“ãƒ«ãƒ‰ã‚µãƒ¼ãƒãƒ¼ã®ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã€ç®¡ç†ã€ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ãŒä¸è¦ã«ãªã‚Šã¾ã™ã€‚Apache Mavenã€Gradle ãªã©ã®æœ€ã‚‚ä¸€èˆ¬çš„ãªãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã¨ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«ç”¨ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸æ¸ˆã¿ã®ãƒ“ãƒ«ãƒ‰ç’°å¢ƒã‚’æä¾›ã—ã¾ã™ã€‚AWS CodeBuild ã®ãƒ“ãƒ«ãƒ‰ç’°å¢ƒã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã—ã¦ã€ç‹¬è‡ªã®ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚AWS CodeBuild ã¯ãƒ”ãƒ¼ã‚¯æ™‚ã®ãƒ“ãƒ«ãƒ‰ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«åˆã‚ã›ã¦è‡ªå‹•çš„ã«ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ã—ã¾ã™ã€‚\nCodeBuildã®ä½¿ã„æ–¹ã¯ã€å…¬å¼ã®ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã‚’è¦‹ã‚‹ã¨ã‚ã‹ã‚Šã‚„ã™ãèª¬æ˜ã•ã‚Œã¦ã„ã¾ã™ã€‚\nAWS CodeBuild ã®ãƒ“ãƒ«ãƒ‰ä»•æ§˜ã«é–¢ã™ã‚‹ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ AWS CodeBuild ã®ãƒ“ãƒ«ãƒ‰ç’°å¢ƒãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ å®Ÿè¡Œç’°å¢ƒ 1 2 3 4 5 6 7 $ sw_vers ProductName:\tMac OS X ProductVersion:\t10.13.6 BuildVersion:\t17G2307 $ docker -v Docker version 18.06.1-ce, build e68fc7a æº–å‚™ Announcing Local Build Support for AWS CodeBuild Github aws/aws-codebuild-docker-images ã‚’å‚è€ƒã«é€²ã‚ã¾ã™ã€‚\nã‚¤ãƒ³ãƒˆãƒ¼ãƒ« 1 $ git clone https://github.com/aws/aws-codebuild-docker-images.git build Docker image ä»Šå›ã¯ç°¡å˜ãªå‹•ä½œæ¤œè¨¼ãªã®ã§ã€ubuntu-baseã‚’ä½¿ã£ã¦è©¦ã—ã¾ã™ã€‚\nAWS CodeBuild ã«ç”¨æ„ã•ã‚Œã¦ã„ã‚‹ Docker ã‚¤ãƒ¡ãƒ¼ã‚¸ 1 2 3 $ git clone https://github.com/aws/aws-codebuild-docker-images.git $ cd aws-codebuild-docker-images/ubuntu/ubuntu-base/14.04 $ docker build -t aws/codebuild/ubuntu-base:14.04 . ãƒ“ãƒ«ãƒ‰ã¯çµæ§‹æ™‚é–“ã‹ã‹ã‚Šã¾ã™ã€‚ã€‚\n1 Successfully tagged aws/codebuild/ubuntu-base:14.04 ãŒå‡ºãŸã‚‰å®Œäº†ã€‚\nDocker Run ï¼“ã¤ã®ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®šã—ã¾ã™\nIMAGE_NAME: The name of your build environment image.\nå…ˆç¨‹ä½œã£ãŸdocker imageã§ã™ã­ã€‚aws/codebuild/ubuntu-base:14.04\tSOURCE: The absolute path to your source code directory.\nã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®ãƒ‘ã‚¹ã§ã™ã€‚ä»Šå›ã¯~/codebuild/sourceã«ã—ã¾ã™ã€‚ã“ã“ã«buildspec.ymlã‚’ãŠã„ã¦ãŠãã¾ã™ã€‚\nARTIFACTS: The absolute path to your artifact output folder.\nãƒ“ãƒ«ãƒ‰ã®æˆæœç‰©ã‚’å‡ºåŠ›ã•ã‚Œã‚‹ãƒ‘ã‚¹ã§ã™ã€‚ä»Šå›ã¯~/codebuild/artifactsã«ã—ã¾ã™ã€‚\nä»Šå›ã¯ç°¡å˜ãªæ¤œè¨¼ãªã®ã§ã€buildspec.ymlã¯ä»¥ä¸‹ã®ã‚ˆã†ãªã‚‚ã®ã«ã—ã¾ã™ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 version: 0.2 phases: install: commands: - apt-get update -y build: commands: - echo \u0026#34;codebuild local test\u0026#34; \u0026gt; $CODEBUILD_SRC_DIR/output.txt artifacts: base-directory: $CODEBUILD_SRC_DIR files: - output.txt 1 2 3 4 5 $ docker run -it -v /var/run/docker.sock:/var/run/docker.sock \\ -e \u0026#34;IMAGE_NAME=aws/codebuild/ubuntu-base:14.04\u0026#34; \\ -e \u0026#34;ARTIFACTS=/Users/*******/codebuild/artifacts\u0026#34; \\ -e \u0026#34;SOURCE=/Users/*******/codebuild/source\u0026#34; \\ amazon/aws-codebuild-local å®Ÿè¡Œçµæœã‚’è¦‹ã¦ã¿ã‚‹ã¨ã€\n1 2 3 4 5 6 7 8 $ cd /Users/*******/codebuild/artifacts/ $ ls artifacts.zip $ unzip artifacts.zip Archive: artifacts.zip inflating: output.txt $ cat output.txt codebuild local test å‡ºåŠ›ãƒ•ã‚¡ã‚¤ãƒ«ãŒå–å¾—ã§ãã¾ã—ãŸï¼\n","permalink":"https://techteco.github.io/2018/09/19/aws-codebuild-local/","tags":["CodeBuild"],"title":"AWS CodeBuildã‚’ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§å‹•ã‹ã™"},{"categories":["AWS"],"content":"AWS SAM CLIã¨ã¯ AWS SAMè‡ªä½“ã¯ä»¥å‰ã®æŠ•ç¨¿ ã§ã‚‚æ›¸ã„ã¦ã„ã‚‹ã®ã§å‰²æ„›ã€‚\nAWS SAM CLIã¯ã€ã‚‚ã¨ã‚‚ã¨sam localã¨å‘¼ã°ã‚Œã¦ã„ãŸã‚‚ã®ã®é€²åŒ–ç‰ˆï¼Ÿã®ã‚ˆã†ã§ã™ã­ã€‚\nsam localã¯ä½•åº¦ã‹ã¤ã‹ã£ã¦ã¾ã—ãŸãŒã€sam cliã«ãªã£ãŸã®ã‚’æ©Ÿã«å†åº¦æ•´ç†ã™ã‚‹ã€‚\nã‚¤ãƒ³ãƒˆãƒ¼ãƒ« å‚è€ƒ:SAM CLI ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« dockerã¨ã‚¤ãƒ³ãƒˆãƒ¼ãƒ«ã«ä½¿ã‚ã‚Œã‚‹pip(Pythonã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç®¡ç†)ãŒå¿…è¦ã«ãªã‚‹ãŒã€è©³ç´°ã¯å‰²æ„›ã€‚\n1 2 3 $ pip install aws-sam-cli $ sam --version SAM CLI, version 0.6.0 å‚è€ƒã‚µã‚¤ãƒˆã¯0.3.0ãªã®ã§ã€å°‘ã—ãšã¤æ”¹å–„ã•ã‚Œã¦ã„ã‚‹ã‚ˆã†ã§ã™ã­ã€‚\nsam initã§ã‚µãƒ³ãƒ—ãƒ«ã‚’å‹•ã‹ã™ Simple App (sam init) ã®ä½œæˆ ã“ã“ã§ã¯golangã‚’ä½¿ã£ã¦è©¦ã—ã¦ã¿ã‚‹ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 $ sam init --runtime go [+] Initializing project structure... [SUCCESS] - Read sam-app/README.md for further instructions on how to proceed [*] Project initialization is now complete # ã“ã‚“ãªãƒ•ã‚¡ã‚¤ãƒ«ãŒè‡ªå‹•ç”Ÿæˆã•ã‚Œã¾ã™ã€‚ $ tree sam-app/ sam-app/ â”œâ”€â”€ Makefile â”œâ”€â”€ README.md â”œâ”€â”€ hello-world â”‚Â â”œâ”€â”€ main.go â”‚Â â””â”€â”€ main_test.go â””â”€â”€ template.yaml 1 directory, 5 files ã¡ãªã¿ã«ã€template.yamlã¯ã€ä»Šã¾ã§ã¨å¤‰ã‚ã£ã¦ãªã„ï¼ˆï¼Ÿï¼‰ã®ã§æ—¢å­˜ã®ãƒªã‚½ãƒ¼ã‚¹ã«ã‚‚ä½¿ãˆã‚‹ã¯ãšã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 AWSTemplateFormatVersion: \u0026#39;2010-09-09\u0026#39; Transform: AWS::Serverless-2016-10-31 Description: \u0026gt; sam-app Sample SAM Template for sam-app # More info about Globals: https://github.com/awslabs/serverless-application-model/blob/master/docs/globals.rst Globals: Function: Timeout: 5 Resources: HelloWorldFunction: Type: AWS::Serverless::Function # More info about Function Resource: https://github.com/awslabs/serverless-application-model/blob/master/versions/2016-10-31.md#awsserverlessfunction Properties: CodeUri: hello-world/ Handler: hello-world Runtime: go1.x Tracing: Active # https://docs.aws.amazon.com/lambda/latest/dg/lambda-x-ray.html Events: CatchAll: Type: Api # More info about API Event Source: https://github.com/awslabs/serverless-application-model/blob/master/versions/2016-10-31.md#api Properties: Path: /hello Method: GET Environment: # More info about Env Vars: https://github.com/awslabs/serverless-application-model/blob/master/versions/2016-10-31.md#environment-object Variables: PARAM1: VALUE Outputs: HelloWorldAPI: Description: \u0026#34;API Gateway endpoint URL for Prod environment for First Function\u0026#34; Value: !Sub \u0026#34;https://${ServerlessRestApi}.execute-api.${AWS::Region}.amazonaws.com/Prod/hello/\u0026#34; HelloWorldFunction: Description: \u0026#34;First Lambda Function ARN\u0026#34; Value: !GetAtt HelloWorldFunction.Arn HelloWorldFunctionIamRole: Description: \u0026#34;Implicit IAM Role created for Hello World function\u0026#34; Value: !GetAtt HelloWorldFunctionRole.Arn go test ãƒ†ã‚¹ãƒˆã‚‚ç”¨æ„ã•ã‚Œã¦ã‚‹ã®ã§å®Ÿè¡Œã—ã¦ã¿ã‚‹ï¼ˆæœ¬é¡Œã‹ã‚‰ãã‚Œã¾ã™ãŒã€ã€ï¼‰\n1 2 3 4 $ cd hello-world/ $ go test PASS ok _/Users/********/development/private/sam-cli/sam-app/hello-world\t0.034s go build 1 2 3 4 5 6 7 8 9 10 11 12 $ GOOS=linux GOARCH=amd64 go build -o hello-world/hello-world ./hello-world # hello-worldãŒã§ãã¦ã¾ã™ã­ã€‚ $ tree . â”œâ”€â”€ Makefile â”œâ”€â”€ README.md â”œâ”€â”€ hello-world â”‚Â â”œâ”€â”€ hello-world â”‚Â â”œâ”€â”€ main.go â”‚Â â””â”€â”€ main_test.go â””â”€â”€ template.yaml ãƒ­ãƒ¼ã‚«ãƒ«ã§APIã‚µãƒ¼ãƒ(api gateway + lambda)ã‚’èµ·å‹• 1 2 3 4 $ sam local start-api 2018-08-31 16:16:58 Mounting HelloWorldFunction at http://127.0.0.1:3000/hello [GET] 2018-08-31 16:16:58 You can now browse to the above endpoints to invoke your functions. You do not need to restart/reload SAM CLI while working on your functions changes will be reflected instantly/automatically. You only need to restart SAM CLI if you update your AWS SAM template 2018-08-31 16:16:58 * Running on http://127.0.0.1:3000/ (Press CTRL+C to quit) http://127.0.0.1:3000/ ã§èµ·å‹•ã™ã‚‹ã®ã§ã€http://127.0.0.1:3000/hello ã‚’ãƒ–ãƒ©ã‚¦ã‚¶ã§è¡¨ç¤ºã—ã¦ã¿ã‚‹ã¨\n1 Hello, XXX.XXX.XXX.XXX XXX.XXX.XXX.XXXã¯ã‚¢ã‚¯ã‚»ã‚¹å…ƒã®IPã‚¢ãƒ‰ãƒ¬ã‚¹ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚https://checkip.amazonaws.com/ ã®çµæœã‚’è¡¨ç¤ºã—ã¦ã„ã‚‹ã ã‘ã€‚\nã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«ã¯ä¸‹è¨˜ã®æ„Ÿã˜ã§ãƒ­ã‚°ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ãã¾ã™ã€‚\n1 2 3 4 5 6 7 8 9 10 2018-08-31 16:18:17 Invoking hello-world (go1.x) 2018-08-31 16:18:17 Found credentials in shared credentials file: ~/.aws/credentials Fetching lambci/lambda:go1.x Docker container image...... 2018-08-31 16:18:20 Mounting /Users/**********/development/private/sam-cli/sam-app/hello-world as /var/task:ro inside runtime container START RequestId: d12296fa-78d8-1bf6-a821-f7bd494db81c Version: $LATEST END RequestId: d12296fa-78d8-1bf6-a821-f7bd494db81c REPORT RequestId: d12296fa-78d8-1bf6-a821-f7bd494db81c\tDuration: 763.56 ms\tBilled Duration: 800 ms\tMemory Size: 128 MB\tMax Memory Used: 11 MB 2018-08-31 16:18:22 No Content-Type given. Defaulting to \u0026#39;application/json\u0026#39;. 2018-08-31 16:18:22 127.0.0.1 - - [31/Aug/2018 16:18:22] \u0026#34;GET /hello HTTP/1.1\u0026#34; 200 - ãƒ­ãƒ¼ã‚«ãƒ«ã§æ¤œè¨¼ã§ãã‚‹ã¨ã¨ã¦ã‚‚ä¾¿åˆ©ã€‚serverlessé–‹ç™ºã«ã¯æ¬ ã‹ã›ãªã„ã§ã™ã­ã€‚\n","permalink":"https://techteco.github.io/2018/08/31/aws-sam-cli/","tags":["Lambda","AWS SAM","AWS CLI","CloudFormation"],"title":"AWS SAM CLIã‚’ä½¿ã£ã¦lambdaã®ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™º"},{"categories":["AWS","GO"],"content":"ã‚„ã‚‹ã“ã¨ S3ã«ä¿å­˜ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’å–å¾—ã—ã¦ã€ãƒ‡ãƒ¼ã‚¿ã‚’è¿½è¨˜ã—ã¦ä¿å­˜ã™ã‚‹\nS3ä¸Šã®ãƒ•ã‚¡ã‚¤ãƒ«å­˜åœ¨ç¢ºèª(ListObjectsV2) ãƒ•ã‚¡ã‚¤ãƒ«ãŒå­˜åœ¨ã™ã‚Œã°ã€ãƒ•ã‚¡ã‚¤ãƒ«å–å¾—(GetObject) è¿½è¨˜ã—ã¦S3ã«ä¿å­˜(PutObject) Lambdaã®ä½œæˆ ã•ã£ãã\ngolang main.go 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 package main import ( \u0026#34;bytes\u0026#34; \u0026#34;context\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;log\u0026#34; \u0026#34;os\u0026#34; \u0026#34;github.com/aws/aws-lambda-go/lambda\u0026#34; \u0026#34;github.com/aws/aws-sdk-go/aws\u0026#34; \u0026#34;github.com/aws/aws-sdk-go/aws/awserr\u0026#34; \u0026#34;github.com/aws/aws-sdk-go/aws/endpoints\u0026#34; \u0026#34;github.com/aws/aws-sdk-go/aws/session\u0026#34; \u0026#34;github.com/aws/aws-sdk-go/service/s3\u0026#34; ) func HandleRequest(ctx context.Context) (string, error) { var BUCKET = os.Getenv(\u0026#34;BUCKET\u0026#34;) var KEY = os.Getenv(\u0026#34;KEY\u0026#34;) svc := s3.New(session.New(), \u0026amp;aws.Config{ Region: aws.String(endpoints.ApNortheast1RegionID), }) // ãƒ•ã‚¡ã‚¤ãƒ«ã®å­˜åœ¨ç¢ºèª loo, errlo := svc.ListObjectsV2(\u0026amp;s3.ListObjectsV2Input{ Bucket: aws.String(BUCKET), Prefix: aws.String(KEY), }) if errlo != nil { if aerr, ok := errlo.(awserr.Error); ok { switch aerr.Code() { case s3.ErrCodeNoSuchBucket: log.Print(\u0026#34;bucket does not exist at ListObjectsV2\u0026#34;) return \u0026#34;bucket does not exis at tListObjectsV2\u0026#34;, aerr default: log.Printf(\u0026#34;aws error %v at ListObjectsV2\u0026#34;, aerr.Error()) return \u0026#34;aws error at ListObjectsV2\u0026#34;, aerr } } log.Printf(\u0026#34;error %v at ListObjectsV2\u0026#34;, errlo.Error()) return \u0026#34;error at ListObjectsV2\u0026#34;, errlo } wb := new(bytes.Buffer) // write buffer if *loo.KeyCount == 0 { // æ–°è¦ä½œæˆ fmt.Fprint(wb, \u0026#34;header1,header2,header3\\n\u0026#34;) // ãƒ˜ãƒƒãƒ€ãƒ¼ } else { // Objectå–å¾— goo, errgo := svc.GetObject(\u0026amp;s3.GetObjectInput{ Bucket: aws.String(BUCKET), Key: aws.String(KEY), }) defer goo.Body.Close() if errgo != nil { if aerr, ok := errgo.(awserr.Error); ok { switch aerr.Code() { case s3.ErrCodeNoSuchBucket: log.Print(\u0026#34;bucket does not exist at GetObject\u0026#34;) return \u0026#34;bucket does not exist at GetObject\u0026#34;, aerr case s3.ErrCodeNoSuchKey: // æ–°è¦ä½œæˆ log.Print(\u0026#34;object with key does not exist in bucket at GetObject\u0026#34;) return \u0026#34;object with key does not exist in bucket at GetObject\u0026#34;, aerr default: log.Printf(\u0026#34;aws error %v at GetObject\u0026#34;, aerr.Error()) return \u0026#34;aws error at GetObject\u0026#34;, aerr } } log.Printf(\u0026#34;error %v at GetObject\u0026#34;, errgo.Error()) return \u0026#34;error at GetObject\u0026#34;, errgo } brb := new(bytes.Buffer) // buffer Response Body brb.ReadFrom(goo.Body) srb := brb.String() // string Response Body fmt.Fprint(wb, srb) // èª­ã¿å–ã‚Šãƒ‡ãƒ¼ã‚¿ } fmt.Fprint(wb, \u0026#34;col1,col2,col3\\n\u0026#34;) // è¿½è¨˜ãƒ‡ãƒ¼ã‚¿ _, errpo := svc.PutObject(\u0026amp;s3.PutObjectInput{ Body: bytes.NewReader(wb.Bytes()), Bucket: aws.String(BUCKET), Key: aws.String(KEY), ACL: aws.String(\u0026#34;private\u0026#34;), ServerSideEncryption: aws.String(\u0026#34;AES256\u0026#34;), }) if errpo != nil { if aerr, ok := errpo.(awserr.Error); ok { log.Printf(\u0026#34;aws error %v at PutObject\u0026#34;, aerr.Error()) return \u0026#34;aws error at PutObject\u0026#34;, aerr } log.Printf(\u0026#34;error %v at PutObject\u0026#34;, errpo.Error()) return \u0026#34;error at PutObject\u0026#34;, errpo } defer log.Print(\u0026#34;normal end\u0026#34;) return \u0026#34;normal end\u0026#34;, nil } func main() { lambda.Start(HandleRequest) } ã‚³ãƒ³ãƒ‘ã‚¤ãƒ« \u0026amp; åœ§ç¸® 1 $source ~/.gvm/scripts/gvm; GOOS=linux go build -o main; zip main.zip main; SAM BUCKET,KEYã¯é©å½“ã«å¤‰æ›´ã—ã¦ãã ã•ã„ã€‚\nsam-template.yaml 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 AWSTemplateFormatVersion : \u0026#39;2010-09-09\u0026#39; Transform: AWS::Serverless-2016-10-31 Description: lambda go S3 sample Resources: S3Crud: Type: AWS::Serverless::Function Properties: Handler: main Runtime: go1.x CodeUri: main.zip Policies: - S3CrudPolicy: BucketName: techte.co.shared Environment: Variables: BUCKET: your_bucket KEY: your_file_name ãƒ‡ãƒ—ãƒ­ã‚¤ package 1 2 3 4 5 $ aws cloudformation package \\ --template-file ./sam-template.yaml \\ --s3-bucket techte.co.shared \\ --s3-prefix aws/lambda/source/s3crud \\ --output-template-file packaged-sam-template.yaml deploy 1 2 3 4 $ aws cloudformation deploy \\ --template-file packaged-sam-template.yaml \\ --stack-name sample-lambda-s3 \\ --capabilities CAPABILITY_IAM çµæœ Lambdaã‚’å®Ÿè¡Œã•ã‚Œã‚‹åº¦ã«ãƒ•ã‚¡ã‚¤ãƒ«ã«è¡ŒãŒè¿½åŠ ã•ã‚Œã¦ã„ã‚Œã°OK\n","permalink":"https://techteco.github.io/2018/02/09/lambda-go-s3/","tags":["Lambda","S3"],"title":"Lambdaã®Golangã§S3ã‚’æ“ä½œã™ã‚‹"},{"categories":["Note"],"content":"Laws Of UX Laws Of UX UXã‚’è€ƒãˆã‚‹ã¨ãã«è€ƒæ…®ã™ã‚‹ã¨ã„ã„ã§ã‚ã‚ã†æ³•å‰‡ãŒã¾ã¨ã‚ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚\nã‚µã‚¤ãƒˆã®ãƒ‡ã‚¶ã‚¤ãƒ³ã‚‚ãã‚Œã„ã§ã™ã€‚\nFittsâ€™s Law Fittsâ€™s Law The time to acquire a target is a function of the distance to and size of the target.\nç¿»è¨³ã™ã‚‹ã¨\nã‚¿ãƒ¼ã‚²ãƒƒãƒˆã‚’å–å¾—ã™ã‚‹æ™‚é–“ã¯ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã®è·é›¢ã¨ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã®ã‚µã‚¤ã‚ºã®é–¢æ•°ã§ã™ã€‚\nã‚¿ãƒ¼ã‚²ãƒƒãƒˆã¾ã§ã®è·é›¢ãŒé•·ããªã£ã¦ã€ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã®è·é›¢ãŒå°ã•ããªã‚Œã°ãªã‚‹ã»ã§ã€æ™‚é–“ãŒã‹ã‹ã‚Šã¾ã™ã‚ˆã€‚ã£ã¦ã“ã¨ã®ã‚ˆã†ã§ã™ã€‚\nHickâ€™s Law Hickâ€™s Law The time it takes to make a decision increases with the number and complexity of choices.\nç¿»è¨³ã™ã‚‹ã¨\næ±ºå®šã‚’ä¸‹ã™ã®ã«è¦ã™ã‚‹æ™‚é–“ã¯ã€é¸æŠè‚¢ã®æ•°ã¨è¤‡é›‘ã•ã¨ã¨ã‚‚ã«å¢—åŠ ã—ã¾ã™ã€‚\né¸æŠè‚¢ã¯ã‚·ãƒ³ãƒ—ãƒ«ã«ã—ãŸã»ã†ãŒã„ã„ã£ã¦ã“ã¨ã§ã™ã­ã€‚\nJakobâ€™s Law Jakobâ€™s Law Users spend most of their time on other sites. This means that users prefer your site to work the same way as all the other sites they already know.\nç¿»è¨³ã™ã‚‹ã¨\nãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ã»ã¨ã‚“ã©ã®æ™‚é–“ã‚’ä»–ã®ã‚µã‚¤ãƒˆã«è²»ã‚„ã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ—¢ã«çŸ¥ã£ã¦ã„ã‚‹ä»–ã®ã‚µã‚¤ãƒˆã¨åŒã˜ã‚ˆã†ã«ã‚µã‚¤ãƒˆã‚’å¥½ã‚€ã“ã¨ã‚’æ„å‘³ã—ã¾ã™ã€‚\nå¥‡ã‚’ã¦ã‚‰ã£ãŸã“ã¨ã‚’ã™ã‚‹ãªã€ã£ã¦ã“ã¨ã§ã™ã‹ã­ï¼Ÿ\nLaw of PrÃ¤gnanz Law of PrÃ¤gnanz People will perceive and interpret ambiguous or complex images as the simplest form possible, because it is the interpretation that requires the least cognitive effort of us.\nç¿»è¨³ã™ã‚‹ã¨\näººã€…ã¯ã€ã‚ã„ã¾ã„ã§è¤‡é›‘ãªã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’å¯èƒ½ãªé™ã‚Šå˜ç´”ãªå½¢ã¨ã—ã¦èªè­˜ã—ã€è§£é‡ˆã—ã¾ã™ã€‚ãªãœãªã‚‰ã€ãã‚Œã¯ç§ãŸã¡ã®æœ€å°ã®èªçŸ¥åŠªåŠ›ã‚’å¿…è¦ã¨ã™ã‚‹è§£é‡ˆã§ã‚ã‚‹ã‹ã‚‰ã§ã™ã€‚\nç´°ã‹ã„ã¨ã“ã‚ã‚ˆã‚Šã€ã–ã£ãã‚Šã¨æ‰ãˆã‚‹ã£ã¦ã“ã¨ã§ã™ã‹ã­ã€‚\nLaw of Proximity Law of Proximity Objects that are near, or proximate to each other, tend to be grouped together.\nç¿»è¨³ã™ã‚‹ã¨\näº’ã„ã«è¿‘ã„ã€ã¾ãŸã¯è¿‘ãã«ã‚ã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯ã€ä¸€ç·’ã«ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã•ã‚Œã‚‹å‚¾å‘ãŒã‚ã‚Šã¾ã™ã€‚\nè¿‘ãã«ã‚ã‚‹ã‚‚ã®ã¨ã‚’åŒä¸€ã‚°ãƒ«ãƒ¼ãƒ—ã¨ã—ã¦ã¿ãªã™ã€‚é€†ã«ã„ã†ã¨åŒä¸€ã‚°ãƒ«ãƒ¼ãƒ—ã¨ã—ã¦èªè­˜ã•ã›ãŸã„ã¨ãã¯è¿‘ãã«ãŠãã£ã¦ã“ã¨ã‹ãªã€‚\nMillerâ€™s Law Millerâ€™s Law The average person can only keep 7 (plus or minus 2) items in their working memory.\nç¿»è¨³ã™ã‚‹ã¨\nå¹³å‡çš„ãªäººã¯7ï¼ˆãƒ—ãƒ©ã‚¹ã¾ãŸã¯ãƒã‚¤ãƒŠã‚¹2ï¼‰ã®ã‚¢ã‚¤ãƒ†ãƒ ã—ã‹ä½œæ¥­ãƒ¡ãƒ¢ãƒªã«ä¿æŒã§ãã¾ã›ã‚“ã€‚\nçŸ­æœŸè¨˜æ†¶ã®å®¹é‡ã«ã¤ã„ã¦ã§ã™ã­ã€‚ä¸€åº¦ã«å¤šãã®æƒ…å ±ã‚’ä¸ãˆã™ããªã„ã“ã¨ã€‚\nParkinsonâ€™s Law Parkinsonâ€™s Law Any task will inflate until all of the available time is spent.\nç¿»è¨³ã™ã‚‹ã¨\nåˆ©ç”¨å¯èƒ½ãªæ™‚é–“ã®ã™ã¹ã¦ãŒè²»ã‚„ã•ã‚Œã‚‹ã¾ã§ã€ã©ã‚“ãªä»•äº‹ã‚‚è†¨ã‚‰ã¿ã¾ã™ã€‚\nä¸€èˆ¬çš„ã«ã¯ã€ã€Œã‚ã‚‹è³‡æºã«å¯¾ã™ã‚‹éœ€è¦ã¯ã€ãã®è³‡æºãŒå…¥æ‰‹å¯èƒ½ãªé‡ã¾ã§è†¨å¼µã™ã‚‹ã€ã¨ã„ã†ã“ã¨ã‚‰ã—ã„ãŒã€UXã ã¨ã©ã†ã„ã†æ„å‘³ã¨ã—ã¦ã¨ã‚‰ãˆã‚Œã°ã„ã„ã®ã‹ï¼Ÿ\nSerial Position Effect Serial Position Effect Users have a propensity to best remember the first and last items in a series.\nç¿»è¨³ã™ã‚‹ã¨\nãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ã‚·ãƒªãƒ¼ã‚ºå†…ã®æœ€åˆã¨æœ€å¾Œã®ã‚¢ã‚¤ãƒ†ãƒ ã‚’æœ€ã‚‚ã‚ˆãè¨˜æ†¶ã™ã‚‹å‚¾å‘ãŒã‚ã‚Šã¾ã™ã€‚\nç¬¬ä¸€å°è±¡ã¨ã•ã‚Šéš›ã®å°è±¡ãŒæ®‹ã‚‹ã£ã¦ã“ã¨ã§ã™ã‹ã­ã€‚ãã®é–“ã¯æ„å¤–ã«å°è±¡ã«ã®ã“ã‚‰ãªã„ã£ã¦ã®ã¯ç¢ºã‹ã«ãã†ã‹ã‚‚ã€‚\nTeslerâ€™s Law Teslerâ€™s Law Tesler\u0026rsquo;s Law, also known as The Law of Conservation of Complexity, states that for any system there is a certain amount of complexity which cannot be reduced.\nç¿»è¨³ã™ã‚‹ã¨\nè¤‡é›‘ã•ã®ä¿å…¨ã®æ³•å‰‡ã¨ã—ã¦ã‚‚çŸ¥ã‚‰ã‚Œã¦ã„ã‚‹ãƒ†ã‚¹ãƒ©ãƒ¼ã®æ³•å‰‡ã¯ã€ã©ã®ã‚·ã‚¹ãƒ†ãƒ ã§ã‚‚ä¸€å®šã®è¤‡é›‘ã•ãŒè»½æ¸›ã§ããªã„ã¨è¿°ã¹ã¦ã„ã¾ã™ã€‚\nã‚·ãƒ³ãƒ—ãƒ«ï¼ˆå˜ç´”åŒ–ï¼‰ã«ã™ã‚‹ã«ã¯é™ç•ŒãŒã‚ã‚‹ã¨ã„ã†ã“ã¨ã‹ãªã€‚\nè‡ªå‹•åŒ–ãŒé€²ã‚“ã§ã„ãã¨ã“ã®è¾ºã¯ã©ã†ãªã‚‹ã‚“ã§ã™ã‹ã­ãƒ¼\nVon Restorff Effect Von Restorff Effect The Von Restorff effect, also known as The Isolation Effect, predicts that when multiple similar objects are present, the one that differs from the rest is most likely to be remembered.\nç¿»è¨³ã™ã‚‹ã¨\nVon Restorffã‚¨ãƒ•ã‚§ã‚¯ãƒˆï¼ˆåˆ†é›¢åŠ¹æœã¨ã‚‚å‘¼ã°ã‚Œã¾ã™ï¼‰ã¯ã€è¤‡æ•°ã®é¡ä¼¼ã—ãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒå­˜åœ¨ã™ã‚‹å ´åˆã€æ®‹ã‚Šã®éƒ¨åˆ†ã¨ã¯ç•°ãªã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒè¨˜æ†¶ã•ã‚Œã‚‹å¯èƒ½æ€§ãŒæœ€ã‚‚é«˜ã„ã¨äºˆæ¸¬ã—ã¾ã™ã€‚\nä»–ã¨é•ã†ã‚‚ã®ãŒã‚ã‚‹ã¨ç›®ç«‹ã¡è¨˜æ†¶ã«æ®‹ã‚Šã‚„ã™ã„ã¨ã„ã†ã“ã¨ã§ã™ã‹ã­ã€‚\néƒ¨åˆ†çš„ã«è‰²ã¤ã‘ãŸã‚Šã€ãƒ•ã‚©ãƒ³ãƒˆã®ã‚µã‚¤ã‚ºå¤‰ãˆãŸã‚Šã¨ã‹ã€‚\nZeigarnik Effect Zeigarnik Effect People remember uncompleted or interrupted tasks better than completed tasks.\nç¿»è¨³ã™ã‚‹ã¨\nå®Œäº†ã—ãŸã‚¿ã‚¹ã‚¯ã‚ˆã‚Šã‚‚æœªå®Œäº†ã¾ãŸã¯ä¸­æ–­ã•ã‚ŒãŸã‚¿ã‚¹ã‚¯ã‚’è¦šãˆã¦ã„ã¾ã™ã€‚\nãã®ã¾ã¾ã ã‘ã©ã€ãŸã—ã‹ã«ãã†ã‹ã‚‚ã€‚\nã¾ã¨ã‚ ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ã•ã‚“ã¨ã‹ã¯ã€ã‚ˆãç§‘å­¦çš„æ ¹æ‹ ã‚’æ±‚ã‚ã‚‰ã‚ŒãŸã‚Šã—ã¾ã™ãŒã€ã“ã†ã„ã†ç†å±ˆãŒè£ä»˜ã‘ã«ã‚ã‚‹ã¨èª¬æ˜ã—ã‚„ã™ã„ã‚“ã§ã€çŸ¥è­˜ã¨ã—ã¦æŒã£ã¦ãŠãã®ã¯ã‚ã‚Šã§ã™ã­ã€‚\n","permalink":"https://techteco.github.io/2018/01/31/laws-of-ux/","tags":null,"title":"LAWS OF UX ã¨ã„ã†ã‚µã‚¤ãƒˆã®ç´¹ä»‹"},{"categories":["AWS","GO"],"content":"KMSã«ã¤ã„ã¦ã¯ã€AWS KMSã®ä½¿ã„æ–¹ ã‚’å‚è€ƒ\nç’°å¢ƒæ§‹ç¯‰ æš—å·åŒ–ãƒ‡ãƒ¼ã‚¿ æš—å·åŒ–ã™ã‚‹ã€‚ã“ã“ã§ã¯ã€shared(alias)ã¨ã„ã†keyã‚’ä½¿ã†ã€‚\nâ€»è‡ªåˆ†ã®ç’°å¢ƒã«åˆã‚ã›ã¦ã€‚\n1 2 3 4 5 $ aws kms encrypt \\ --key-id alias/shared \\ --plaintext \u0026#34;I am seacret word\u0026#34; \\ --output text \\ --query CiphertextBlob ã“ã“ã§å‡ºåŠ›ã•ã‚ŒãŸå€¤ã‚’Lambdaã®ç’°å¢ƒå¤‰æ•°ã«æ¸¡ã—ã¾ã™ã€‚\nLambdaæ§‹ç¯‰ç”¨ã®SAMãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ å‚è€ƒã¯ã“ã¡ã‚‰ã®AWS SAMã‚’ä½¿ã£ã¦ã¿ã‚‹ ã‚’ã”ç¢ºèªãã ã•ã„ã€‚\nlambda-go-kms.yaml 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 AWSTemplateFormatVersion : \u0026#39;2010-09-09\u0026#39; Transform: AWS::Serverless-2016-10-31 Description: KMS decrypt. Resources: KMSDecrypt: Type: AWS::Serverless::Function Properties: Handler: main Runtime: go1.x CodeUri: main.zip # KMSã®Decryptç”¨ã®ãƒãƒªã‚·ãƒ¼å®šç¾© Policies: - KMSDecryptPolicy: # æš—å·åŒ–ã«ä½¿ã£ãŸKeyID # aliasã¯å¯¾å¿œã—ã¦ã„ãªã„ KeyId: \u0026#34;01234567-0123-1234-1234-123456789012\u0026#34; Environment: Variables: # Encrypted: \u0026#34;ã“ã“ã«æš—å·åŒ–ã—ãŸCiphertextBlobã®å€¤\u0026#34; Golangã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ main.go 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 package main import ( \u0026#34;context\u0026#34; \u0026#34;encoding/base64\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;os\u0026#34; \u0026#34;github.com/aws/aws-lambda-go/lambda\u0026#34; \u0026#34;github.com/aws/aws-sdk-go/aws\u0026#34; \u0026#34;github.com/aws/aws-sdk-go/aws/session\u0026#34; \u0026#34;github.com/aws/aws-sdk-go/service/kms\u0026#34; ) func HandleRequest(ctx context.Context) (string, error) { var encrypted = os.Getenv(\u0026#34;Encrypted\u0026#34;) svc := kms.New(session.New(), aws.NewConfig().WithRegion(\u0026#34;ap-northeast-1\u0026#34;)) data, _ := base64.StdEncoding.DecodeString(encrypted) input := \u0026amp;kms.DecryptInput{ CiphertextBlob: []byte(data), } result, err := svc.Decrypt(input) if err != nil { return \u0026#34;\u0026#34;, err } text, _ := base64.StdEncoding.DecodeString(base64.StdEncoding.EncodeToString(result.Plaintext)) return fmt.Sprintf(\u0026#34;%s\u0026#34;, text), nil } func main() { lambda.Start(HandleRequest) } ã‚³ãƒ³ãƒ‘ã‚¤ãƒ« 1 $ source ~/.gvm/scripts/gvm; GOOS=linux go build -o main; zip main.zip main; ãƒ‘ãƒƒã‚¯ 1 2 3 4 5 $ aws cloudformation package \\ --template-file ./lambda-go-kms.yaml \\ --s3-bucket techte.co.shared \\ --s3-prefix lambda/golang/kms \\ --output-template-file packaged-template-lambda-go-kms.yaml ãƒ‡ãƒ—ãƒ­ã‚¤ 1 2 3 4 $ aws cloudformation deploy \\ --template-file packaged-template-lambda-go-kms.yaml \\ --stack-name LambdaGoKms \\ --capabilities CAPABILITY_IAM å®Ÿè¡Œçµæœ 1 $ aws lambda invoke --invocation-type Event --function-name XXXXXXXXXXXXXXXXXXXXXXXXX --invocation-type RequestResponse outputfile.txt 1 2 $ cat outputfile.txt \u0026#34;I am seacret word\u0026#34; ç„¡äº‹å‡ºåŠ›ã§ãã¾ã—ãŸï¼\n","permalink":"https://techteco.github.io/2018/01/30/lambda-go-kms/","tags":["AWS CLI","CloudFormation","KMS","AWS SAM","Lambda"],"title":"Lambda(Golang)ã‹ã‚‰AWS KMSã‚’å¾©å·åŒ–ã™ã‚‹æ–¹æ³•"},{"categories":["AWS"],"content":"åŸºæœ¬çš„ãªä½¿ã„æ–¹ è¨­å®šå†…å®¹ ã–ã£ãã‚Šã§ã™ãŒã€ã“ã‚“ãªé …ç›®ã‚’è¨­å®šã—ã¾ã™ã€‚è©³ç´°ã¯Cloudformationã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®å†…å®¹ã‚’è¦‹ã¦ã‚‚ã‚‰ã£ãŸæ–¹ãŒæ—©ã„ã§ã™ã€‚\nVPCè¨­å®š Internet Gatewayè¨­å®š Subnetã®è¨­å®š DHCP Optionã®è¨­å®š Route Tableã®è¨­å®š ACLã®è¨­å®š â€»è¨­å®šå€¤ã¯å‚è€ƒã¾ã§ã«ã€‚\nãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 234 235 236 237 238 239 240 241 242 243 244 245 246 247 248 249 250 251 252 253 254 255 256 257 258 259 260 261 262 263 264 265 266 267 268 269 270 271 272 273 274 275 276 277 278 279 280 281 282 283 284 285 286 287 288 289 290 AWSTemplateFormatVersion: \u0026#34;2010-09-09\u0026#34; Description: \u0026#34;Basic Network Setting\u0026#34; Parameters: pramStackNamePrefic: Description: \u0026#34;Common stack name prefix\u0026#34; Type: String Default: \u0026#34;\u0026#34; Resources: VPC: Type: \u0026#34;AWS::EC2::VPC\u0026#34; Properties: CidrBlock: \u0026#34;192.168.0.0/16\u0026#34; InstanceTenancy: default EnableDnsSupport: true EnableDnsHostnames: true Tags: - Key: Name Value: !Join - \u0026#34;\u0026#34; - - !Ref pramStackNamePrefic - vpc igw: Type: \u0026#34;AWS::EC2::InternetGateway\u0026#34; Properties: Tags: - Key: Name Value: !Join - \u0026#34;\u0026#34; - - !Ref pramStackNamePrefic - igw vpcgwattc: Type: \u0026#34;AWS::EC2::VPCGatewayAttachment\u0026#34; Properties: VpcId: !Ref VPC InternetGatewayId: !Ref igw subnetA: Type: \u0026#34;AWS::EC2::Subnet\u0026#34; Properties: CidrBlock: \u0026#34;192.168.0.0/20\u0026#34; AvailabilityZone: \u0026#34;ap-northeast-1a\u0026#34; VpcId: !Ref VPC Tags: - Key: Name Value: !Join - \u0026#34;\u0026#34; - - !Ref pramStackNamePrefic - subnet subnetC: Type: \u0026#34;AWS::EC2::Subnet\u0026#34; Properties: CidrBlock: \u0026#34;192.168.16.0/20\u0026#34; AvailabilityZone: \u0026#34;ap-northeast-1c\u0026#34; VpcId: !Ref VPC Tags: - Key: Name Value: !Join - \u0026#34;\u0026#34; - - !Ref pramStackNamePrefic - subnet DHCPOpt: Type: \u0026#34;AWS::EC2::DHCPOptions\u0026#34; Properties: DomainName: \u0026#34;ap-northeast-1.compute.internal\u0026#34; DomainNameServers: - AmazonProvidedDNS Tags: - Key: Name Value: !Join - \u0026#34;\u0026#34; - - !Ref pramStackNamePrefic - dhcp-ops rtb: Type: \u0026#34;AWS::EC2::RouteTable\u0026#34; Properties: VpcId: !Ref VPC Tags: - Key: Name Value: !Join - \u0026#34;\u0026#34; - - !Ref pramStackNamePrefic - rtb SubnetRouteTableAssociationA: Type: \u0026#34;AWS::EC2::SubnetRouteTableAssociation\u0026#34; Properties: SubnetId: !Ref subnetA RouteTableId: !Ref rtb SubnetRouteTableAssociationC: Type: \u0026#34;AWS::EC2::SubnetRouteTableAssociation\u0026#34; Properties: SubnetId: !Ref subnetC RouteTableId: !Ref rtb # out-bound aclOutAll: Type: \u0026#34;AWS::EC2::NetworkAclEntry\u0026#34; Properties: CidrBlock: \u0026#34;0.0.0.0/0\u0026#34; Egress: true # out-bound Protocol: \u0026#34;-1\u0026#34; RuleAction: allow RuleNumber: 100 NetworkAclId: !GetAtt VPC.DefaultNetworkAcl aclOut2: Type: \u0026#34;AWS::EC2::NetworkAclEntry\u0026#34; Properties: Ipv6CidrBlock: \u0026#34;::/0\u0026#34; Egress: true # out-bound Protocol: \u0026#34;-1\u0026#34; RuleAction: allow RuleNumber: 101 NetworkAclId: !GetAtt VPC.DefaultNetworkAcl # in-bound aclInHttp: Type: \u0026#34;AWS::EC2::NetworkAclEntry\u0026#34; Properties: CidrBlock: \u0026#34;0.0.0.0/0\u0026#34; Egress: false # in-bound Protocol: \u0026#34;6\u0026#34; PortRange: From: 80 To: 80 RuleAction: allow RuleNumber: 200 NetworkAclId: !GetAtt VPC.DefaultNetworkAcl aclInHttp2: Type: \u0026#34;AWS::EC2::NetworkAclEntry\u0026#34; Properties: CidrBlock: \u0026#34;0.0.0.0/0\u0026#34; Egress: false # in-bound Protocol: \u0026#34;6\u0026#34; PortRange: From: 8080 To: 8080 RuleAction: allow RuleNumber: 300 NetworkAclId: !GetAtt VPC.DefaultNetworkAcl aclInHttps: Type: \u0026#34;AWS::EC2::NetworkAclEntry\u0026#34; Properties: CidrBlock: \u0026#34;0.0.0.0/0\u0026#34; Egress: false # in-bound Protocol: \u0026#34;6\u0026#34; PortRange: From: 443 To: 443 RuleAction: allow RuleNumber: 400 NetworkAclId: !GetAtt VPC.DefaultNetworkAcl aclInSSH: Type: \u0026#34;AWS::EC2::NetworkAclEntry\u0026#34; Properties: CidrBlock: \u0026#34;0.0.0.0/0\u0026#34; Egress: false # in-bound Protocol: \u0026#34;6\u0026#34; PortRange: From: 22 To: 22 RuleAction: allow RuleNumber: 500 NetworkAclId: !GetAtt VPC.DefaultNetworkAcl aclInEphemeral: Type: \u0026#34;AWS::EC2::NetworkAclEntry\u0026#34; Properties: CidrBlock: \u0026#34;0.0.0.0/0\u0026#34; Egress: false # in-bound Protocol: \u0026#34;6\u0026#34; PortRange: From: 1024 To: 65535 RuleAction: allow RuleNumber: 600 NetworkAclId: !GetAtt VPC.DefaultNetworkAcl subnetacl1: Type: \u0026#34;AWS::EC2::SubnetNetworkAclAssociation\u0026#34; Properties: NetworkAclId: !GetAtt VPC.DefaultNetworkAcl SubnetId: !Ref subnetA subnetacl2: Type: \u0026#34;AWS::EC2::SubnetNetworkAclAssociation\u0026#34; Properties: NetworkAclId: !GetAtt VPC.DefaultNetworkAcl SubnetId: !Ref subnetC route1: Type: \u0026#34;AWS::EC2::Route\u0026#34; Properties: DestinationCidrBlock: \u0026#34;0.0.0.0/0\u0026#34; RouteTableId: !Ref rtb GatewayId: !Ref igw DependsOn: vpcgwattc dchpassoc1: Type: \u0026#34;AWS::EC2::VPCDHCPOptionsAssociation\u0026#34; Properties: VpcId: !Ref VPC DhcpOptionsId: !Ref DHCPOpt Outputs: VPCId: Value: !Ref VPC Export: Name: !Join - \u0026#34;\u0026#34; - - !Ref pramStackNamePrefic - VPC-ID VPCCidrBlock: Value: !GetAtt - VPC - CidrBlock Export: Name: !Join - \u0026#34;\u0026#34; - - !Ref pramStackNamePrefic - VPC-CidrBlockD VPCDefaultNetworkAcl: Value: !GetAtt - VPC - DefaultNetworkAcl Export: Name: !Join - \u0026#34;\u0026#34; - - !Ref pramStackNamePrefic - VPC-DefaultNetworkAcl VPCDefaultSecurityGroup: Value: !GetAtt - VPC - DefaultSecurityGroup Export: Name: !Join - \u0026#34;\u0026#34; - - !Ref pramStackNamePrefic - VPC-DefaultSecurityGroup igwId: Value: !Ref igw Export: Name: !Join - \u0026#34;\u0026#34; - - !Ref pramStackNamePrefic - IGW-ID subnetAId: Value: !Ref subnetA Export: Name: !Join - \u0026#34;\u0026#34; - - !Ref pramStackNamePrefic - Subnet-apne1a-ID subnetCId: Value: !Ref subnetC Export: Name: !Join - \u0026#34;\u0026#34; - - !Ref pramStackNamePrefic - Subnet-apne1c-ID subnetAAZ: Value: !GetAtt - subnetA - AvailabilityZone Export: Name: !Join - \u0026#34;\u0026#34; - - !Ref pramStackNamePrefic - Subnet-apne1a-AvailabilityZone subnetCAZ: Value: !GetAtt - subnetC - AvailabilityZone Export: Name: !Join - \u0026#34;\u0026#34; - - !Ref pramStackNamePrefic - Subnet-apne1c-AvailabilityZone DHCPOptID: Value: !Ref DHCPOpt Export: Name: !Join - \u0026#34;\u0026#34; - - !Ref pramStackNamePrefic - DHCPOptions-ID aclId: Value: !GetAtt - VPC - DefaultNetworkAcl Export: Name: !Join - \u0026#34;\u0026#34; - - !Ref pramStackNamePrefic - ACL-ID rtbId: Value: !Ref rtb Export: Name: !Join - \u0026#34;\u0026#34; - - !Ref pramStackNamePrefic - RTB-ID å®Ÿè¡Œ ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿\n1 2 3 4 5 $ CF_TAG_KEY=service $ CF_TAG_NAME=sample $ CF_STACK_NAME_PREFIX=sample- $ CF_STACK_NAME=${CF_STACK_NAME_PREFIX}network $ CF_FILE_NAME=cftemplate.yaml 1 2 3 4 5 6 7 8 $ aws cloudformation \\ create-stack \\ --tags Key=${CF_TAG_KEY},Value=${CF_TAG_NAME} \\ --stack-name ${CF_STACK_NAME} \\ --template-body file://./${CF_FILE_NAME} \\ --parameters \\ ParameterKey=pramStackNamePrefic,ParameterValue=${CF_STACK_NAME_PREFIX} \\ | jq . ã¡ãªã¿ã«,ACLã«ã¯ã‚¿ã‚°ãŒã¤ã‘ã‚‰ã‚Œãªã‹ã£ãŸã®ã§ã€å¼·å¼•ã«ã€VPC IDå–å¾—â†’ACL IDå–å¾—â†’ã‚¿ã‚°ä»˜ã‘ã‚’ã—ã¦ã¿ã‚‹ã€‚\n1 2 3 4 5 $ VpcId=`aws ec2 describe-vpcs \\ \u0026gt; --filters \u0026#34;Name=tag:Name,Values=${CF_STACK_NAME_PREFIX}vpc\u0026#34; \\ \u0026gt; | jq -r \u0026#39;.Vpcs[].VpcId\u0026#39;` $ echo $VpcId vpc-XXXXXXXX 1 2 3 4 5 $ AclId=`aws ec2 describe-network-acls \\ \u0026gt; --filters \u0026#34;Name=vpc-id,Values=${VpcId}\u0026#34; \\ \u0026gt; | jq -r \u0026#39;.NetworkAcls[].NetworkAclId\u0026#39;` $ echo $AclId acl-XXXXXXXXX 1 2 3 $ aws ec2 create-tags --resources ${AclId} \\ --tags Key=Name,Value=${CF_STACK_NAME_PREFIX}acl \\ Key=${CF_TAG_KEY},Value=${CF_TAG_NAME} ACLã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå‰Šé™¤ ACLã®ã‚¤ãƒ³ãƒã‚¦ãƒ³ãƒ‰ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã™ã¹ã¦è¨±å¯ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€å‰Šé™¤ã—ã¦ãŠãã“ã¨ã‚’æ¨å¥¨\n1 2 3 4 $ aws ec2 delete-network-acl-entry \\ --network-acl-id ${AclId} \\ --ingress \\ --rule-number 100 ","permalink":"https://techteco.github.io/2018/01/29/cloudformation/","tags":["AWS CLI","CloudFormation","VPC"],"title":"AWS Cloudformationã§ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®åŸºæœ¬è¨­å®š"},{"categories":["AWS","GO"],"content":"Slackã®è¨­å®š Incoming WebHooks Incoming WebHooksã‚’ä½¿ã£ã¦ã€Lambdaã‹ã‚‰ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡ã‚’ã™ã‚‹ã€‚\nè©³ç´°ã¯å‰²æ„›ã—ã¾ã™ãŒã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ [Slack API] (https://api.slack.com/incoming-webhooks ) ã‚’ã¿ã‚‹ã¨ä½¿ã„æ–¹ã¯ç°¡å˜ã§ã™ã€‚\nSlackã®ç®¡ç†ç”»é¢https://XXXXXXXX.slack.com/apps ã‹ã‚‰Incoming WebHooksã®è¨­å®šã‚’è¡Œã„ã€Webhook URLãŒå–å¾—ã§ããŸã‚‰ã€curlã‚³ãƒãƒ³ãƒ‰ã§ãƒ†ã‚¹ãƒˆã—ã¦ã¿ã‚‹ã€‚\n1 2 3 $ curl -X POST -H \u0026#39;Content-type: application/json\u0026#39; \\ --data \u0026#39;{\u0026#34;text\u0026#34;:\u0026#34;This is a line of text.\\nAnd this is another one.\u0026#34;}\u0026#39; \\ https://hooks.slack.com/services/000000000/000000000/XXXXXXXXXXXXXXXXXXXXXXXX ã“ã‚“ãªæ„Ÿã˜ã§é€ä¿¡ã•ã‚Œã‚Œã°æº–å‚™OKï¼\nLambdaã®ä½œæˆ golang Lambdaã®ç’°å¢ƒå¤‰æ•°ã‹ã‚‰Slackã®Webhook URLã‚’å–å¾—ã™ã‚‹\nmain.go 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 package main import ( \u0026#34;context\u0026#34; \u0026#34;os\u0026#34; slack \u0026#34;./slack\u0026#34; \u0026#34;github.com/aws/aws-lambda-go/lambda\u0026#34; ) func HandleRequest(ctx context.Context) (string, error) { var slackURL = os.Getenv(\u0026#34;slackURL\u0026#34;) // Get Environment Variables sl := slack.NewSlack(slackURL, \u0026#34;This is a line of text.\\nAnd this is another one.\u0026#34;, \u0026#34;user\u0026#34;, \u0026#34;:eyes:\u0026#34;, \u0026#34;\u0026#34;, \u0026#34;#random\u0026#34;) sl.Send() return \u0026#34;\u0026#34;, nil } func main() { lambda.Start(HandleRequest) } ./slack/slack.go 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 package slack import ( \u0026#34;encoding/json\u0026#34; \u0026#34;log\u0026#34; \u0026#34;net/http\u0026#34; \u0026#34;net/url\u0026#34; ) type slack struct { params params url string } type params struct { Text string `json:\u0026#34;text\u0026#34;` Username string `json:\u0026#34;username\u0026#34;` IconEmoji string `json:\u0026#34;icon_emoji\u0026#34;` IconURL string `json:\u0026#34;icon_url\u0026#34;` Channel string `json:\u0026#34;channel\u0026#34;` } func NewSlack(url string, text string, username string, iconEmoji string, iconURL string, channel string) *slack { p := params{ Text: text, Username: username, IconEmoji: iconEmoji, IconURL: iconURL, Channel: channel} return \u0026amp;slack{ params: p, url: url} } func (s *slack) Send() { params, _ := json.Marshal(s.params) resp, err := http.PostForm( s.url, url.Values{\u0026#34;payload\u0026#34;: {string(params)}}, ) if err != nil { log.Print(err) return } defer resp.Body.Close() } å¾…æœ›ã®AWS Lambdaã®Golangå¯¾å¿œï¼ ã‚’å‚è€ƒã«ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ã€‚\nã‚³ãƒ³ãƒ‘ã‚¤ãƒ« Linuxç”¨ã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãªã®ã§GOOS=linuxã‚’æŒ‡å®šã—ã¾ã™ã€‚\n1 $ GOOS=linux go build -o main ãƒ•ã‚¡ã‚¤ãƒ«åœ§ç¸® Lambdaã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ãŸã‚ã«zipã§åœ§ç¸®ã™ã‚‹\n1 $ zip main.zip main SAM AWS SAMã‚’ä½¿ã£ã¦ã¿ã‚‹ ã‚’å‚è€ƒã«ã€SAMã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½œæˆã€‚\nLambdaã®Eventå®Ÿè¡Œã®å®šç¾©ã€Slackã®Webhook URLã®ç’°å¢ƒå¤‰æ•°ã¸ã®ç™»éŒ²ã‚’è¿½åŠ \nlambda-go-slack.yaml 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 AWSTemplateFormatVersion : \u0026#39;2010-09-09\u0026#39; Transform: AWS::Serverless-2016-10-31 Description: lambda go send to slack. Resources: SendSlack: Type: AWS::Serverless::Function Properties: Handler: main Runtime: go1.x CodeUri: \u0026#34;main.zip\u0026#34; # CloudWatch Eventè¨­å®šï¼ˆæ¯åˆ†èµ·å‹•ï¼‰ Events: Timer: Type: Schedule Properties: Schedule: cron(* * * * ? *) # ç’°å¢ƒå¤‰æ•° Environment: Variables: slackURL: https://hooks.slack.com/services/000000000/000000000/XXXXXXXXXXXXXXXXXXXXXXXX ãƒ‡ãƒ—ãƒ­ã‚¤ 1 2 3 4 5 $ aws cloudformation package \\ --template-file ./lambda-go-slack.yaml \\ --s3-bucket techteco.sample.bucket \\ --s3-prefix lambda-go-sample \\ --output-template-file packaged-template.yaml 1 2 3 4 $ aws cloudformation deploy \\ --template-file packaged-template.yaml \\ --stack-name sampleLambdaGoSlack \\ --capabilities CAPABILITY_IAM çµæœ ãƒ‡ãƒ—ãƒ­ã‚¤ãŒå®Œäº†ã™ã‚‹ã¨æ¯åˆ†Slackã«ãŒé€šçŸ¥ãŒæ¥ã¦ã‚‹ã“ã¨ã‚’ç¢ºèª\n","permalink":"https://techteco.github.io/2018/01/28/lambda-go-slack/","tags":["Lambda","Slack"],"title":"Lambdaã®Golangã§Slackã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ã‚‹"},{"categories":["AWS","GO"],"content":"AWS SAMã¨ã¯ Github : AWS Serverless Application Model (AWS SAM) The goal of AWS SAM is to define a standard application model for serverless applications. This GitHub project is the starting point for AWS SAM, and contains general information, information about the model, and examples of common applications.\næ—¥æœ¬èªè¨³\nAWS SAMã®ç›®æ¨™ã¯ã€ã‚µãƒ¼ãƒãƒ¬ã‚¹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ç”¨ã®æ¨™æº–ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¢ãƒ‡ãƒ«ã‚’å®šç¾©ã™ã‚‹ã“ã¨ã§ã™ã€‚ã“ã®GitHubãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ã€AWS SAMã®å‡ºç™ºç‚¹ã§ã‚ã‚Šã€ä¸€èˆ¬çš„ãªæƒ…å ±ã€ãƒ¢ãƒ‡ãƒ«ã«é–¢ã™ã‚‹æƒ…å ±ã€ä¸€èˆ¬çš„ãªã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ä¾‹ã‚’å«ã‚“ã§ã„ã¾ã™ã€‚\nAWS::Serverless å¤‰æ› ã“ã“ã‚’è¦‹ã‚‹é™ã‚Šã ã¨ã€\nAWS SAMã¯Cloudformationã®æ‹¡å¼µã§ã€æœ€çµ‚çš„ã«ã¯Cloudformationã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«å±•é–‹ã•ã‚Œã‚‹ã‚¤ãƒ¡ãƒ¼ã‚¸ã€‚\nã‚„ã‚‹ã“ã¨ åŸºæœ¬çš„ã«ã¯ã€å¾…æœ›ã®AWS Lambdaã®Golangå¯¾å¿œï¼ ã“ã“ã§ã‚„ã£ãŸã“ã¨ã®ã€ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ã®ä½œæ¥­ã‚’ã‚³ãƒãƒ³ãƒ‰ãƒ™ãƒ¼ã‚¹ã§ã‚„ã‚ã†ï¼ã¨ã„ã†ã“ã¨ã§ã™ã€‚\nã‚µãƒ³ãƒ—ãƒ« Githubã«ã‚µãƒ³ãƒ—ãƒ«ãŒã‚ã‚‹ã®ã§ã€ä¸€ç•ªã‚·ãƒ³ãƒ—ãƒ«ãªhello_world ã‚’å‚è€ƒã«ã—ã¦ã¿ã‚‹ã€‚\nãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ lambda-go.yaml 1 2 3 4 5 6 7 8 9 10 AWSTemplateFormatVersion : \u0026#39;2010-09-09\u0026#39; Transform: AWS::Serverless-2016-10-31 Description: lambda go sample application. Resources: HelloWorldFunction: Type: AWS::Serverless::Function Properties: Handler: main Runtime: go1.x CodeUri: \u0026#34;./../../lambda-go-sample/main.zip\u0026#34; package \u0026amp; deploy Reference : cloudformation package ã“ã“ã§ã¯ã€\nS3ã®ãƒã‚±ãƒƒãƒˆã¯AWS Cloudformationã‚’AWS CLIã‹ã‚‰ä½¿ã£ã¦ã¿ã‚‹ ã§ã‚µãƒ³ãƒ—ãƒ«ã§ä½œæˆæ¸ˆã®ãƒã‚±ãƒƒãƒˆã‚’ä½¿ç”¨ã—ã¾ã™ã€‚â€»åŸºæœ¬çš„ã«ãªã‚“ã§ã‚‚è‰¯ã„ã¨æ€ã„ã¾ã™ã€‚\n1 2 3 4 5 $ aws cloudformation package \\ --template-file ./lambda-go.yaml \\ --s3-bucket techteco.sample.bucket \\ --s3-prefix lambda-go-sample \\ --output-template-file packaged-template.yaml ã“ã“ã¾ã§ã§ã€S3ã«packageãŒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã¦ã„ã¾ã™ã€‚\nå‡ºåŠ›ã•ã‚ŒãŸpackaged-template.yamlã‚’ã¤ã‹ã£ã¦deploy\nã¡ãªã¿ã«ã€å‡ºåŠ›å†…å®¹ã¯ã“ã¡ã‚‰\n1 2 3 4 5 6 7 8 9 10 AWSTemplateFormatVersion: \u0026#39;2010-09-09\u0026#39; Description: lambda go sample application. Resources: HelloWorldFunction: Properties: CodeUri: s3://techteco.sample.bucket/lambda-go-sample/737fd29b764003ecb0a9c10ee290bfd9 Handler: main Runtime: go1.x Type: AWS::Serverless::Function Transform: AWS::Serverless-2016-10-31 Reference : cloudformation deploy 1 2 3 4 $ aws cloudformation deploy \\ --template-file packaged-template.yaml \\ --stack-name sampleSamLambdaGo \\ --capabilities CAPABILITY_IAM å‹•ä½œç¢ºèª ã¾ãšã¯ã€Cloudformationã®stackã®ä¸­èº«\n1 2 3 $ aws cloudformation describe-stack-resources \\ --stack-name sampleSamLambdaGo \\ | jq . 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 { \u0026#34;StackResources\u0026#34;: [ { \u0026#34;StackName\u0026#34;: \u0026#34;sampleSamLambdaGo\u0026#34;, \u0026#34;StackId\u0026#34;: \u0026#34;arn:aws:cloudformation:ap-northeast-1:123456789012:stack/sampleSamLambdaGo/28efadc0-088c-11e8-b769-50a68a175a82\u0026#34;, \u0026#34;LogicalResourceId\u0026#34;: \u0026#34;HelloWorldFunction\u0026#34;, \u0026#34;PhysicalResourceId\u0026#34;: \u0026#34;sampleSamLambdaGo-HelloWorldFunction-YAWCC305TVCA\u0026#34;, \u0026#34;ResourceType\u0026#34;: \u0026#34;AWS::Lambda::Function\u0026#34;, \u0026#34;Timestamp\u0026#34;: \u0026#34;2018-02-03T02:46:15.113Z\u0026#34;, \u0026#34;ResourceStatus\u0026#34;: \u0026#34;CREATE_COMPLETE\u0026#34; }, { \u0026#34;StackName\u0026#34;: \u0026#34;sampleSamLambdaGo\u0026#34;, \u0026#34;StackId\u0026#34;: \u0026#34;arn:aws:cloudformation:ap-northeast-1:123456789012:stack/sampleSamLambdaGo/28efadc0-088c-11e8-b769-50a68a175a82\u0026#34;, \u0026#34;LogicalResourceId\u0026#34;: \u0026#34;HelloWorldFunctionRole\u0026#34;, \u0026#34;PhysicalResourceId\u0026#34;: \u0026#34;sampleSamLambdaGo-HelloWorldFunctionRole-1HGTSQ58UEK91\u0026#34;, \u0026#34;ResourceType\u0026#34;: \u0026#34;AWS::IAM::Role\u0026#34;, \u0026#34;Timestamp\u0026#34;: \u0026#34;2018-02-03T02:46:09.876Z\u0026#34;, \u0026#34;ResourceStatus\u0026#34;: \u0026#34;CREATE_COMPLETE\u0026#34; } ] } æ­£ã—ãå®Ÿè¡Œã•ã‚Œã‚Œã°OK!\n1 2 3 4 5 $ aws lambda invoke \\ --invocation-type Event \\ --function-name sampleSamLambdaGo-HelloWorldFunction-YAWCC305TVCA \\ --payload \u0026#39;{\u0026#34;name\u0026#34;: \u0026#34;ãƒ†ã‚¹ãƒˆå¤ªéƒ\u0026#34;}\u0026#39; \\ outputfile.txt ","permalink":"https://techteco.github.io/2018/01/27/lambda-go-sample-sam/","tags":["Lambda","AWS SAM","AWS CLI","CloudFormation"],"title":"AWS SAMã‚’ä½¿ã£ã¦ã¿ã‚‹"},{"categories":["AWS"],"content":"AWS KMSã¨ã¯ AWS Key Management Service ã¨ã¯ AWS Key Management Service (AWS KMS) ã¯ã€ãƒ‡ãƒ¼ã‚¿ã®æš—å·åŒ–ã«ä½¿ç”¨ã•ã‚Œã‚‹æš—å·åŒ–ã‚­ãƒ¼ã®ä½œæˆã¨ç®¡ç†ã‚’å®¹æ˜“ã«ã™ã‚‹ãƒãƒãƒ¼ã‚¸ãƒ‰å‹ã‚µãƒ¼ãƒ“ã‚¹ã§ã™ã€‚AWS KMS ã¯ã€Amazon Elastic Block Store (Amazon EBS)ã€Amazon Simple Storage Service (Amazon S3)ã€Amazon Redshiftã€Amazon Elastic Transcoderã€Amazon WorkMailã€Amazon Relational Database Service (Amazon RDS) ãªã©ã®ä»–ã® AWS ã‚µãƒ¼ãƒ“ã‚¹ã¨çµ±åˆã•ã‚Œã¦ãŠã‚Šã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒç®¡ç†ã™ã‚‹æš—å·åŒ–ã‚­ãƒ¼ã§ã®ãƒ‡ãƒ¼ã‚¿ã®æš—å·åŒ–ã‚’ç°¡å˜ã«ã—ã¾ã™ã€‚ã¾ãŸ AWS KMS ã¯ AWS CloudTrail ã¨ã‚‚çµ±åˆã•ã‚Œã¦ãŠã‚Šã€ã‚­ãƒ¼ã®ä½¿ç”¨ãƒ­ã‚°ã‚’è¡¨ç¤ºã§ãã‚‹ãŸã‚ã€ç›£æŸ»ã€è¦åˆ¶ã€ãŠã‚ˆã³ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹ã®è¦æ±‚ã«å¿œãˆã‚‹ãŸã‚ã«å½¹ç«‹ã¡ã¾ã™ã€‚\nCloudformationã§CMKã‚’ä½œæˆ CSKä½œæˆ AWS Key Management Service (AWS KMS) ã§ã‚«ã‚¹ã‚¿ãƒãƒ¼ãƒã‚¹ã‚¿ãƒ¼ã‚­ãƒ¼ (CMK) ã‚’ä½œæˆã—ã¾ã™ã€‚\nAWS::KMS::Key å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ« key.yaml 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 AWSTemplateFormatVersion: \u0026#34;2010-09-09\u0026#34; Description: \u0026#34;Cloudformation Sample : Create Sample KMS Key\u0026#34; Parameters: pTagKey: Type: String pTagValue: Type: String Resources: SampleKey: Type: \u0026#34;AWS::KMS::Key\u0026#34; Properties: Description: \u0026#34;A sample key\u0026#34; KeyPolicy: Version: \u0026#34;2012-10-17\u0026#34; Id: \u0026#34;key-default-1\u0026#34; Statement: - Sid: Enable IAM User Permissions Effect: Allow Principal: AWS: !Join - \u0026#39;\u0026#39; - - \u0026#39;arn:aws:iam::\u0026#39; - !Ref \u0026#39;AWS::AccountId\u0026#39; - \u0026#39;:root\u0026#39; Action: \u0026#39;kms:*\u0026#39; Resource: \u0026#39;*\u0026#39; Tags: - Key: !Ref pTagKey Value: !Ref pTagValue Outputs: SampleKey: Value: !Ref SampleKey Export: Name: SampleKey Cloudformationã®å®Ÿè¡Œ 1 2 3 4 5 6 7 8 9 10 11 12 $ CF_TAG_KEY=service $ CF_TAG_NAME=sample $ CF_STACK_NAME=sampleKMSKey $ aws cloudformation create-stack \\ --tags Key=${CF_TAG_KEY},Value=${CF_TAG_NAME} \\ --stack-name ${CF_STACK_NAME} \\ --template-body file:///$PWD/key.yaml \\ --parameters \\ ParameterKey=pTagKey,ParameterValue=${CF_TAG_KEY} \\ ParameterKey=pTagValue,ParameterValue=${CF_TAG_NAME} \\ | jq . CSKã®Aliasã‚’ä½œæˆ AWS Key Management Service (AWS KMS) ã§ã‚«ã‚¹ã‚¿ãƒãƒ¼ãƒã‚¹ã‚¿ãƒ¼ã‚­ãƒ¼ (CMK) ã®è¡¨ç¤ºåã‚’ä½œæˆã—ã¾ã™ã€‚\nAWS::KMS::Alias å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ« alias.yaml 1 2 3 4 5 6 7 8 AWSTemplateFormatVersion: \u0026#34;2010-09-09\u0026#34; Description: \u0026#34;Cloudformation Sample : Create Sample KMS Key Alias\u0026#34; Resources: SampleKeyAlias: Type: AWS::KMS::Alias Properties: AliasName: alias/SampleKeyAlias TargetKeyId: !ImportValue SampleKeyARN Cloudformationã®å®Ÿè¡Œ 1 2 3 4 5 6 7 8 9 $ CF_TAG_KEY=service $ CF_TAG_NAME=sample $ CF_STACK_NAME=sampleKMSKeyAlias $ aws cloudformation create-stack \\ --tags Key=${CF_TAG_KEY},Value=${CF_TAG_NAME} \\ --stack-name ${CF_STACK_NAME} \\ --template-body file:///$PWD/alias.yaml \\ | jq . ä½œæˆã•ã‚ŒãŸCSKã®ç¢ºèª AWS CLIã§ç¢ºèª\nAWS CLI KMS 1 $ aws kms list-keys 1 2 3 4 5 6 7 8 { \u0026#34;Keys\u0026#34;: [ { \u0026#34;KeyId\u0026#34;: \u0026#34;XXXXXXXX-XXXX-XXXX-XXXXXXXXXXXXXXXXX\u0026#34;, \u0026#34;KeyArn\u0026#34;: \u0026#34;arn:aws:kms:ap-northeast-1:123456789012:key/XXXXXXXX-XXXX-XXXX-XXXXXXXXXXXXXXXXX\u0026#34; } ] } aliasï¼ˆSampleKeyAliasï¼‰ã§æ¤œç´¢\n1 $ aws kms list-aliases | jq \u0026#39;.Aliases[] | select( .AliasName | test(\u0026#34;SampleKeyAlias\u0026#34;))\u0026#39; 1 2 3 4 5 { \u0026#34;AliasName\u0026#34;: \u0026#34;alias/SampleKeyAlias\u0026#34;, \u0026#34;AliasArn\u0026#34;: \u0026#34;arn:aws:kms:ap-northeast-1:123456789012:alias/SampleKeyAlias\u0026#34;, \u0026#34;TargetKeyId\u0026#34;: \u0026#34;XXXXXXXX-XXXX-XXXX-XXXXXXXXXXXXXXXXX\u0026#34; } æš—å·åŒ–(encrypt) AWS CLI KMS encrypt ã“ã“ã§ã¯ã€aliasã‚’ä½¿ã£ã¦æš—å·åŒ–ã—ã¾ã™ã€‚\n1 2 3 $ aws kms encrypt \\ --key-id alias/SampleKeyAlias \\ --plaintext \u0026#34;I am seacret word\u0026#34; å‡ºåŠ›\n1 2 3 4 { \u0026#34;CiphertextBlob\u0026#34;: \u0026#34;AQICAHgiNRl+XlUIXRhw4+tLNMNgYcJYxkGHTirG5cXZvdUbxwHwVFktPdlZsI7tifaHUVk2AAAAbzBtBgkqhkiG9w0BBwagYDBeAgEAMFkGCSqGSIb3DQEHATAeBglghkgBZQMEAS4wEQQMwmujQIyOGHFjqkyJAgEQgCyWHiZUyquUAVWYOOwE0d2X+Ij99UJatuYxTUSaWvrjQcnTnjhUHuMKTPXAbw==\u0026#34;, \u0026#34;KeyId\u0026#34;: \u0026#34;arn:aws:kms:ap-northeast-1:123456789012:key/XXXXXXXX-XXXX-XXXX-XXXXXXXXXXXXXXXXX\u0026#34; } CiphertextBlobãŒã€\u0026ldquo;I am seacret word\u0026quot;ã‚’æš—å·åŒ–ã—ã¦base64ã§ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã—ãŸã‚‚ã®ã®ã‚ˆã†ã§ã™ã€‚\nãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã®ä½¿ã„æ–¹ã®ä¾‹ã¨ã—ã¦ã¯ã€CiphertextBlobã‚’base64ã§ãƒ‡ã‚³ãƒ¼ãƒ‰ã—ãŸã‚‚ã®ãƒã‚¤ãƒŠãƒªã‚’ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¿å­˜ã™ã‚‹ã‚ˆã†ã§ã™ã€‚\n1 2 3 4 5 6 $ aws kms encrypt \\ --key-id alias/SampleKeyAlias \\ --plaintext \u0026#34;I am seacret word\u0026#34; \\ --output text \\ --query CiphertextBlob \\ | base64 --decode \u0026gt; ExampleEncryptedFile è¤‡åˆåŒ–(decrypt) æ¬¡ã«ExampleEncryptedFileã®ä¸­èº«ã‚’å¾©å·åŒ–ã—ã¦å–ã‚Šå‡ºã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚\nAWS CLI KMS decrypt ã¾ãšã¯ã€è¤‡åˆã ã‘ã—ã¦ã¿ã‚‹ã€‚\n1 2 $ aws kms decrypt \\ --ciphertext-blob fileb://ExampleEncryptedFile 1 2 3 4 { \u0026#34;KeyId\u0026#34;: \u0026#34;arn:aws:kms:ap-northeast-1:123456789012:key/XXXXXXXX-XXXX-XXXX-XXXXXXXXXXXXXXXXX\u0026#34;, \u0026#34;Plaintext\u0026#34;: \u0026#34;SSBhbSBzZWFjcmV0IHdvcmQ=\u0026#34; } ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸­ã«KeyIdãŒå«ã¾ã‚Œã¦ã„ã‚‹ã®ã§æŒ‡å®šã—ãªãã¦ã‚‚å•é¡Œãªã„ã‚ˆã†ã§ã™ã­ã€‚\nå–ã‚Šå‡ºã—ã¾ã™ã€‚\n1 2 3 4 5 $ aws kms decrypt \\ --ciphertext-blob fileb://ExampleEncryptedFile \\ --output text \\ --query Plaintext \\ | base64 --decode \u0026gt; ExamplePlaintextFile 1 2 $ cat ExamplePlaintextFile I am seacret word å•é¡Œãªãã¨ã‚Šã ã›ã¾ã—ãŸã€‚\nã¾ã¨ã‚ ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã«APIã®KEYç­‰ã‚’åŸ‹ã‚è¾¼ã‚ãªã„ã“ã¨ãŒã»ã¨ã‚“ã©ãªã®ã§ã€KMSã¤ã‹ã£ã¦ã‚»ã‚­ãƒ¥ã‚¢ã«æ‰±ã„ã¾ã—ã‚‡ã†ã€‚\nä½¿ã„æ–¹ã‚‚æ…£ã‚Œã‚Œã°ç°¡å˜ã§ã™ã­ã€‚æ¬¡ã¯ã€Lambdaã§ã®ä½¿ã„æ–¹ã‚’æ•´ç†ã—ã¦ã„ãã¾ã™ã€‚\n","permalink":"https://techteco.github.io/2018/01/26/kms/","tags":["AWS CLI","CloudFormation","KMS"],"title":"AWS KMSã®ä½¿ã„æ–¹"},{"categories":["AWS"],"content":"å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ AWS CLI Command Reference cloudformation åŸºæœ¬çš„ãªä½¿ã„æ–¹ äº‹å‰æº–å‚™ å®Ÿè¡Œãƒ‘ã‚¹è¨­å®š 1 $ CF_PATH=file://~/cfsample AWS CLIã®profileã‚’æŒ‡å®šï¼ˆè¤‡æ•°è¨­å®šã—ã¦ã„ã‚‹å ´åˆï¼‰ å¿…è¦ã«å¿œã˜ã¦ã€AWS CLIã®profileã‚’æŒ‡å®š\nç¢ºèªæ–¹æ³•ã¯ã€\n1 2 cat ~/.aws/credentials cat ~/.aws/config å¿…è¦ã«å¿œã˜ã¦è¨­å®šã™ã‚‹\n1 export AWS_DEFAULT_PROFILE=XXXXX å…±é€šé …ç›®ã®è¨­å®š ã“ã“ã§ã¯ã€\nserviceã¨ã„ã†ã‚¿ã‚°ã«sampleã¨è¨­å®šã™ã‚‹ å…±é€šã®prefixã¨ã—ã¦**cfsample-**ã‚’ã¤ã‘ã‚‹ 1 2 3 $ CF_TAG_KEY=service $ CF_TAG_NAME=sample $ CF_STACK_NAME_PREFIX=cfsample- ã‚µãƒ³ãƒ—ãƒ« ã‚µãƒ³ãƒ—ãƒ«ã¨ã—ã¦ã€S3ã«sampleã®bucketã‚’ä½œæˆã—ã¦ã¿ã‚‹\nS3.yaml\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 AWSTemplateFormatVersion: \u0026#34;2010-09-09\u0026#34; Description: \u0026#34;Cloudformation Sample : Create Sample S3 Bucket\u0026#34; Parameters: pStackNamePrefic: Description: \u0026#34;Common stack name prefix\u0026#34; Type: String Default: \u0026#34;\u0026#34; pBucketName: Description: \u0026#34;Bucket Name\u0026#34; Type: String Resources: Bucket: Type: \u0026#34;AWS::S3::Bucket\u0026#34; DeletionPolicy: Retain Properties: BucketName: !Ref pBucketName AccessControl: Private VersioningConfiguration: Status: Suspended Tags: - Key: Name Value: !Ref pBucketName BucketPolicy: Type: \u0026#34;AWS::S3::BucketPolicy\u0026#34; Properties: Bucket: !Ref Bucket PolicyDocument: Version: \u0026#34;2012-10-17\u0026#34; Id: BucketPolicy Statement: - Sid: 1 Action: \u0026#34;s3:PutObject\u0026#34; Effect: Allow Resource: !Sub - arn:aws:s3:::${sb}/* - { sb: !Ref Bucket } Principal: AWS: !Join - \u0026#34;\u0026#34; - - \u0026#34;arn:aws:iam::\u0026#34; - !Ref AWS::AccountId - \u0026#34;:root\u0026#34; Outputs: BucketName: Value: !Ref Bucket Export: Name: !Join - \u0026#34;\u0026#34; - - !Ref pStackNamePrefic - BucketName BucketDomainName: Value: !GetAtt - Bucket - DomainName Export: Name: !Join - \u0026#34;\u0026#34; - - !Ref pStackNamePrefic - BucketDomainName BucketWebsiteURL: Value: !GetAtt - Bucket - WebsiteURL Export: Name: !Join - \u0026#34;\u0026#34; - - !Ref pStackNamePrefic - BucketWebsiteURL ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’AWS Cloudformation Designer ã§ç¢ºèªã™ã‚‹ã€‚\nã“ã‚“ãªæ„Ÿã˜ã§ã™ã€‚\nä½œæˆ(create-stack) Reference : create-stack CloudFormationã®Stackã®åå‰ï¼ˆCF_STACK_NAMEï¼‰ å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«æŒ‡å®šï¼ˆCF_FILE_NAMEï¼‰ ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æŒ‡å®šï¼ˆå®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«å†…ã§ä»•æ§˜ï¼‰ pStackNamePrefic pBucketName 1 2 3 4 5 6 7 8 9 10 $ CF_STACK_NAME=SampleBucket $ CF_FILE_NAME=S3.yaml $ aws cloudformation create-stack \\ --tags Key=${CF_TAG_KEY},Value=${CF_TAG_NAME} \\ --stack-name ${CF_STACK_NAME} \\ --template-body ${CF_PATH}/${CF_FILE_NAME} \\ --parameters \\ ParameterKey=pStackNamePrefic,ParameterValue=${CF_STACK_NAME_PREFIX} \\ ParameterKey=pBucketName,ParameterValue=\u0026#34;techteco.sample.bucket\u0026#34; \\ | jq . çµæœ\n1 2 3 { \u0026#34;StackId\u0026#34;: \u0026#34;arn:aws:cloudformation:ap-northeast-1:XXXXXXXXXXXXXXX:stack/sampleBucket/XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\u0026#34; } ä¸€è¦§è¡¨ç¤º(list-stacks) Reference : list-stacks 1 2 3 4 $ aws cloudformation list-stacks \\ --region ap-northeast-1 \\ --stack-status-filter CREATE_COMPLETE \\ | jq -r .StackSummaries[].StackName çµæœ 1 sampleBucket è¡¨ç¤º(describe-stacks) Reference : describe-stacks 1 2 3 $ aws cloudformation describe-stacks \\ --stack-name ${CF_STACK_NAME} \\ | jq . çµæœ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 { \u0026#34;Stacks\u0026#34;: [ { \u0026#34;StackId\u0026#34;: \u0026#34;arn:aws:cloudformation:ap-northeast-1:XXXXXXXXXXXXXX:stack/sampleBucket/XXXXXXXXXXXXXXXXXXXXXXXXXX\u0026#34;, \u0026#34;StackName\u0026#34;: \u0026#34;sampleBucket\u0026#34;, \u0026#34;Description\u0026#34;: \u0026#34;Cloudformation Sample : Create Sample S3 Bucket\u0026#34;, \u0026#34;Parameters\u0026#34;: [ { \u0026#34;ParameterKey\u0026#34;: \u0026#34;pStackNamePrefic\u0026#34;, \u0026#34;ParameterValue\u0026#34;: \u0026#34;cfsample-\u0026#34; }, { \u0026#34;ParameterKey\u0026#34;: \u0026#34;pBucketName\u0026#34;, \u0026#34;ParameterValue\u0026#34;: \u0026#34;techteco.sample.bucket\u0026#34; } ], \u0026#34;CreationTime\u0026#34;: \u0026#34;2018-02-01T14:53:26.062Z\u0026#34;, \u0026#34;RollbackConfiguration\u0026#34;: {}, \u0026#34;StackStatus\u0026#34;: \u0026#34;CREATE_COMPLETE\u0026#34;, \u0026#34;DisableRollback\u0026#34;: false, \u0026#34;NotificationARNs\u0026#34;: [], \u0026#34;Outputs\u0026#34;: [ { \u0026#34;OutputKey\u0026#34;: \u0026#34;BucketName\u0026#34;, \u0026#34;OutputValue\u0026#34;: \u0026#34;techteco.sample.bucket\u0026#34;, \u0026#34;ExportName\u0026#34;: \u0026#34;cfsample-BucketName\u0026#34; }, { \u0026#34;OutputKey\u0026#34;: \u0026#34;BucketDomainName\u0026#34;, \u0026#34;OutputValue\u0026#34;: \u0026#34;techteco.sample.bucket.s3.amazonaws.com\u0026#34;, \u0026#34;ExportName\u0026#34;: \u0026#34;cfsample-BucketDomainName\u0026#34; }, { \u0026#34;OutputKey\u0026#34;: \u0026#34;BucketWebsiteURL\u0026#34;, \u0026#34;OutputValue\u0026#34;: \u0026#34;http://techteco.sample.bucket.s3-website-ap-northeast-1.amazonaws.com\u0026#34;, \u0026#34;ExportName\u0026#34;: \u0026#34;cfsample-BucketWebsiteURL\u0026#34; } ], \u0026#34;Tags\u0026#34;: [ { \u0026#34;Key\u0026#34;: \u0026#34;service\u0026#34;, \u0026#34;Value\u0026#34;: \u0026#34;sample\u0026#34; } ], \u0026#34;EnableTerminationProtection\u0026#34;: false } ] } ãã®ä»– å…¨éƒ¨ã¯ç¢ºèªã—ãã‚Œã¦ã¾ã›ã‚“ãŒã€AWSã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‹ã‚‰å‡ºæ¥ã‚‹ã“ã¨ã®å¤šãã¯å®Ÿç¾ã§ããã†ã§ã™ã€‚\n","permalink":"https://techteco.github.io/2018/01/25/cloudformation/","tags":["AWS CLI","CloudFormation"],"title":"AWS Cloudformationã‚’AWS CLIã‹ã‚‰ä½¿ã£ã¦ã¿ã‚‹"},{"categories":["AWS","GO"],"content":"å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ Announcing Go Support for AWS Lambda Programming Model for Authoring Lambda Functions in Go ã‚µãƒ³ãƒ—ãƒ« Lambda Function Handler (Go) ã‚’èª­ã‚“ã§ã€ã‚µãƒ³ãƒ—ãƒ«ã‚’å‹•ã‹ã—ã¦ã¿ã‚‹\nå‰æ å®Ÿè¡Œç’°å¢ƒ 1 2 $ go version go version go1.9.3 darwin/amd64 ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ é©å½“ãªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆã—ã¦ã€main.goã¨ã„ã†åå‰ã§ã‚µãƒ³ãƒ—ãƒ«ã‚’ãã®ã¾ã¾è²¼ã‚Šä»˜ã‘ã‚‹ã€‚\n1 2 $ mkdir lambda-go-sample $ cd lambda-go-sample/ main.go 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 package main import ( \u0026#34;context\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;github.com/aws/aws-lambda-go/lambda\u0026#34; ) type MyEvent struct { Name string `json:\u0026#34;name\u0026#34;` } func HandleRequest(ctx context.Context, name MyEvent) (string, error) { return fmt.Sprintf(\u0026#34;Hello %s!\u0026#34;, name.Name), nil } func main() { lambda.Start(HandleRequest) } ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ Lambdaã§Golangã‚’å‹•ã‹ã™ãŸã‚ã«github.com/aws/aws-lambda-go/lambdaãŒå¿…è¦ã®ã‚ˆã†ã§ã™ã­ã€‚\ngo get ã—ã¾ã™ã€‚\n1 $ go get github.com/aws/aws-lambda-go/lambda ã‚³ãƒ³ãƒ‘ã‚¤ãƒ« Linuxç”¨ã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãªã®ã§GOOS=linuxã‚’æŒ‡å®šã—ã¾ã™ã€‚\n1 $ GOOS=linux go build -o main ãƒ•ã‚¡ã‚¤ãƒ«åœ§ç¸® Lambdaã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ãŸã‚ã«zipã§åœ§ç¸®ã™ã‚‹\n1 $ zip main.zip main Functionä½œæˆ åå‰ï¼šlambda-go-sample ãƒ©ãƒ³ã‚¿ã‚¤ãƒ :Go 1.x ãƒ­ãƒ¼ãƒ«ï¼šlambda_basic_excutionï¼ˆå‹•ã‹ã™ã ã‘ãªã®ã§ï¼‰ ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ ã•ãã»ã©ä½œã£ãŸzipãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹ ãƒãƒ³ãƒ‰ãƒ©ã‚’mainã«å¤‰ãˆã‚‹ï¼ˆã‚­ãƒ£ãƒ—ãƒãƒ£å–ã£ãŸã‚ã¨ã«æ°—ã¥ã„ãŸã€‚ã€‚ï¼‰ å³ä¸Šã®ä¿å­˜ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ ãƒ†ã‚¹ãƒˆã‚¤ãƒ™ãƒ³ãƒˆè¨­å®š ã“ã‚“ãªå†…å®¹ã®jsonå½¢å¼ã‚’æŒ‡å®šã—ã¦ã‚ã’ã¾ã™ã€‚\n1 2 3 { \u0026#34;name\u0026#34;: \u0026#34;ãƒ†ã‚¹ãƒˆå¤ªéƒ\u0026#34; } å³ä¸‹ã®ä½œæˆãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã€‚\nãƒ†ã‚¹ãƒˆå®Ÿè¡Œ å³ä¸Šã®ãƒ†ã‚¹ãƒˆãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨ã€ç·‘æ ã®å®Ÿè¡ŒçµæœãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚\n\u0026quot;Hello ãƒ†ã‚¹ãƒˆå¤ªéƒ!\u0026quot;ãŒå‡ºã¦ã¾ã™ã­ã€‚\næœ€å¾Œã« å€‹äººçš„ã«ã¯Golangå¥½ããªã®ã§ã€è‰²ã€…ã‚„ã£ã¦ã¿ãŸã„ã€‚\n","permalink":"https://techteco.github.io/2018/01/24/lambda-go-sample/","tags":["Lambda"],"title":"å¾…æœ›ã®AWS Lambdaã®Golangå¯¾å¿œï¼"},{"categories":["GO"],"content":"GVMã¨ã¯ GVM(Github) Go Version Managerã®é ­æ–‡å­—ã‚’ã¨ã£ã¦GVM\nä¸€è¨€ã§è¨€ã†ã¨\nGVM provides an interface to manage Go versions.\næ—¥æœ¬èªã«ç›´è¨³ã™ã‚‹ã¨\nGVMã¯ã€Goãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ç®¡ç†ã™ã‚‹ãŸã‚ã®ã‚¤ãƒ³ã‚¿ãƒ•ã‚§ãƒ¼ã‚¹ã‚’æä¾›ã—ã¾ã™ã€‚\nã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« Ansibleã§Macã®é–‹ç™ºç’°å¢ƒã‚’æ§‹ç¯‰ã™ã‚‹ ã§ã‚‚ã€gvmã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¯ã•ã‚Œã¦ã„ã¾ã™ãŒã€ã‚³ãƒãƒ³ãƒ‰ã§ã‚‚ä¸€ç™ºã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¯èƒ½ã§ã™ã€‚\n1 bash \u0026lt; \u0026lt;(curl -s -S -L https://raw.githubusercontent.com/moovweb/gvm/master/binscripts/gvm-installer) 1 2 $ gvm version -bash: gvm: command not found ãŠã£ã¨ã€ãƒ‘ã‚¹ãŒé€šã£ã¦ã¾ã›ã‚“ã§ã—ãŸã€‚ã€‚ã€‚\n1 2 3 $ source ~/.gvm/scripts/gvm $ gvm version Go Version Manager v1.0.22 installed at /Users/XXXXX/.gvm ä½¿ã„æ–¹ gvm list ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã®Goã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ä¸€è¦§ã‚’è¡¨ç¤º 1 2 3 4 5 6 7 8 9 $ gvm list gvm gos (installed) go1.4 go1.7.6 go1.8.3 =\u0026gt; go1.9.3 system ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’è¡¨ç¤ºã—ã¦ã¿ã‚‹ã¨ 1 2 $ go version go version go1.9.3 darwin/amd64 gvm listall GVMã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¯èƒ½ãªGoã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ä¸€è¦§ã‚’è¡¨ç¤º 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 $ gvm listall gvm gos (available) go1 go1.0.1 go1.0.2 go1.0.3 go1.1 go1.1.1 go1.1.2 go1.10beta1 go1.10beta2 go1.10rc1 go1.1rc2 go1.1rc3 go1.2 go1.2.1 go1.2.2 go1.2rc2 go1.2rc3 go1.2rc4 go1.2rc5 go1.3 go1.3.1 go1.3.2 go1.3.3 go1.3beta1 go1.3beta2 go1.3rc1 go1.3rc2 go1.4 go1.4.1 go1.4.2 go1.4.3 go1.4beta1 go1.4rc1 go1.4rc2 go1.5 go1.5.1 go1.5.2 go1.5.3 go1.5.4 go1.5beta1 go1.5beta2 go1.5beta3 go1.5rc1 go1.6 go1.6.1 go1.6.2 go1.6.3 go1.6.4 go1.6beta1 go1.6beta2 go1.6rc1 go1.6rc2 go1.7 go1.7.1 go1.7.2 go1.7.3 go1.7.4 go1.7.5 go1.7.6 go1.7beta1 go1.7beta2 go1.7rc1 go1.7rc2 go1.7rc3 go1.7rc4 go1.7rc5 go1.7rc6 go1.8 go1.8.1 go1.8.2 go1.8.3 go1.8.4 go1.8.5 go1.8.5rc4 go1.8.5rc5 go1.8.6 go1.8beta1 go1.8beta2 go1.8rc1 go1.8rc2 go1.8rc3 go1.9 go1.9.1 go1.9.2 go1.9.3 go1.9beta1 go1.9beta2 go1.9rc1 go1.9rc2 release.r56 release.r57 release.r57.1 release.r57.2 release.r58 release.r58.1 release.r58.2 release.r59 release.r60 release.r60.1 release.r60.2 release.r60.3 gvm install gvmã§ãƒãƒ¼ã‚¸ãƒ§ãƒ³æŒ‡å®šã—ã¦Goã‚’ã‚¤ãƒ³ãƒˆãƒ¼ãƒ«ã™ã‚‹\nè©¦ã—ã«ã€go1.9.2ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã¿ã‚‹\n1 2 3 4 $ gvm install go1.9.2 Installing go1.9.2... * Compiling... go1.9.2 successfully installed! 1 2 3 4 5 6 7 8 9 10 $ gvm list gvm gos (installed) go1.4 go1.7.6 go1.8.3 go1.9.2 # è¿½åŠ ã•ã‚Œã¦ã„ã‚‹ =\u0026gt; go1.9.3 system gvm use gvmã§åˆ©ç”¨ã™ã‚‹Goã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’å¤‰æ›´ã™ã‚‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 $ gvm use go1.8.3 Now using version go1.8.3 $ go version go version go1.8.3 darwin/amd64 $ gvm list gvm gos (installed) go1.4 go1.7.6 =\u0026gt; go1.8.3 go1.9.2 go1.9.3 system æœ€å¾Œã« ä½¿ã„æ–¹ã¯ã¨ã¦ã‚‚ç°¡å˜ã§ã™ã­ã€‚\nãã“ã¾ã§ãƒãƒ¼ã‚¸ãƒ§ãƒ³åˆ‡ã‚Šæ›¿ãˆã¦ä½¿ã†ã‚·ãƒ¼ãƒ³ãŒã©ã“ã¾ã§ã‚ã‚‹ã‹ã‚ã‹ã‚Šã¾ã›ã‚“ãŒã€Golangã§é–‹ç™ºã™ã‚‹ãªã‚‰å°å…¥ã—ã¦ãŠã„ã¦æã¯ãªã„ã¨æ€ã„ã¾ã™ã€‚\n","permalink":"https://techteco.github.io/2018/01/23/golang-gvm/","tags":["gvm"],"title":"Golangã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†GVM(Go Version Manager)ã®ä½¿ã„æ–¹"},{"categories":["Server"],"content":"â€»2018å¹´12æœˆ12æ—¥æ›´æ–°\nå®šæœŸçš„ã«macã®ãŠæƒé™¤ã‚’ã—ãŸããªã‚‹ã‚“ã§ã™ãŒã€ã‚¯ãƒªãƒ¼ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ï¼ã‹ã‚‰ç’°å¢ƒæ§‹ç¯‰ã—ãŸã„ã‚‚ã®ã§ã™ã€‚\nãã‚Œä»¥å¤–ã«ã‚‚ã€PCã®æ–°è¦è³¼å…¥ã‚„è²·ã„æ›¿ãˆã€è·å ´ã®PCãŒå¤‰ã‚ã£ãŸã‚Šã¨ã€ï¼ã‹ã‚‰é–‹ç™ºç’°å¢ƒã‚’æ§‹ç¯‰ã™ã‚‹å ´é¢ã¯å¤šã€…ã‚ã‚Šã¾ã™ã€‚\nã—ã‹ã—ãªãŒã‚‰ã€ã“ã®ç’°å¢ƒæ§‹ç¯‰ã€ã‚„ã‚‹ã“ã¨ãŒç››ã‚Šæ²¢å±±ã§å¤§å¤‰ã§ã™ã€‚\nã—ã‹ã‚‚é »ç¹ã«ã‚„ã‚‹ä½œæ¥­ã§ã‚‚ãªã„ã®ã§çµæ§‹å¿˜ã‚Œã¦ã—ã¾ã£ã¦ã€æ¯å›èª¿ã¹ãªãŒã‚‰ã‚„ã£ã¦ã‚‹æ°—ãŒã—ã¾ã™ã€‚\nã„ã–ç’°å¢ƒæ§‹ç¯‰ãŒçµ‚ã‚ã£ã¦é–‹ç™ºã—ã¦ã„ã‚‹ã¨ã€ã‚ã‚Œã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãªã„ã‚„ã€ã‚ã®è¨­å®šã©ã†ã ã£ãŸã£ã‘ï¼Ÿ\nã¿ãŸã„ãªã“ã¨ã¯ã€ã‚ã‚‹ã‚ã‚‹ã§ã™ã‚ˆã­ã€‚\nãã“ã§ã€ä»Šå¾Œã®ã“ã¨ã‚‚è€ƒãˆã¦ã€macã®ç’°å¢ƒæ§‹ç¯‰ã‚’Ansibleã‚’ä½¿ã£ã¦è‡ªå‹•åŒ–ï¼ˆ60ã€œ70%ãã‚‰ã„ï¼‰ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚\nå‰æ Ansibleã®åŸºæœ¬çš„ãªçŸ¥è­˜ãŒã‚ã‚‹ã“ã¨\nâ€»å‚è€ƒã‚µã‚¤ãƒˆAnsible Documentation(official) å®Ÿè¡Œç’°å¢ƒ 1 2 3 4 $ sw_vers ProductName:\tMac OS X ProductVersion:\t10.14.1 BuildVersion:\t18B75 æ‰‹é † Macã®ã‚¯ãƒªãƒ¼ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆã“ã“ã§ã¯çœç•¥ï¼‰ â€»å‚è€ƒã‚µã‚¤ãƒˆmacOS ã‚’æ¶ˆå»ã—ã¦å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ Homebrewã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« Homebrewå…¬å¼ 1 2 3 $ /usr/bin/ruby -e \u0026#34;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)\u0026#34; $ brew -v Homebrew 1.8.5 Macã«Ansibleã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« ã“ã“ã§ã¯ã€brewã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã£ã¦Ansibleã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n1 2 3 $ brew install ansible $ ansible --version ansible 2.7.4 ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ tree ã‚³ãƒãƒ³ãƒ‰ã§è¡¨ç¤ºã™ã‚‹ã¨ã“ã‚“ãªæ„Ÿã˜ã§ã™ã€‚ Ansibleåˆ©ç”¨ã—ãŸã“ã¨ã‚ã‚‹æ–¹ãªã‚‰ç‰¹ã«é•å’Œæ„Ÿãªã„ã¨æ€ã„ã¾ã™ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 $ tree . â”œâ”€â”€ README.md â”œâ”€â”€ localhost â”œâ”€â”€ roles â”‚Â â”œâ”€â”€ awscli â”‚Â â”‚Â â”œâ”€â”€ tasks â”‚Â â”‚Â â”‚Â â””â”€â”€ main.yml â”‚Â â”‚Â â””â”€â”€ vars â”‚Â â”‚Â â””â”€â”€ main.yml â”‚Â â”œâ”€â”€ fonts â”‚Â â”‚Â â””â”€â”€ tasks â”‚Â â”‚Â â””â”€â”€ main.yml â”‚Â â”œâ”€â”€ golang â”‚Â â”‚Â â”œâ”€â”€ tasks â”‚Â â”‚Â â”‚Â â”œâ”€â”€ install.yml â”‚Â â”‚Â â”‚Â â””â”€â”€ main.yml â”‚Â â”‚Â â””â”€â”€ vars â”‚Â â”‚Â â””â”€â”€ main.yml â”‚Â â”œâ”€â”€ homebrew â”‚Â â”‚Â â”œâ”€â”€ tasks â”‚Â â”‚Â â”‚Â â””â”€â”€ main.yml â”‚Â â”‚Â â””â”€â”€ vars â”‚Â â”‚Â â””â”€â”€ main.yml â”‚Â â”œâ”€â”€ homebrew_cask â”‚Â â”‚Â â”œâ”€â”€ tasks â”‚Â â”‚Â â”‚Â â””â”€â”€ main.yml â”‚Â â”‚Â â””â”€â”€ vars â”‚Â â”‚Â â””â”€â”€ main.yml â”‚Â â”œâ”€â”€ macos â”‚Â â”‚Â â”œâ”€â”€ tasks â”‚Â â”‚Â â”‚Â â””â”€â”€ main.yml â”‚Â â”‚Â â”œâ”€â”€ templates â”‚Â â”‚Â â””â”€â”€ vars â”‚Â â”‚Â â””â”€â”€ main.yml â”‚Â â”œâ”€â”€ mas â”‚Â â”‚Â â”œâ”€â”€ tasks â”‚Â â”‚Â â”‚Â â””â”€â”€ main.yml â”‚Â â”‚Â â””â”€â”€ vars â”‚Â â”‚Â â””â”€â”€ main.yml â”‚Â â”œâ”€â”€ node â”‚Â â”‚Â â”œâ”€â”€ tasks â”‚Â â”‚Â â”‚Â â”œâ”€â”€ install.yml â”‚Â â”‚Â â”‚Â â””â”€â”€ main.yml â”‚Â â”‚Â â””â”€â”€ vars â”‚Â â”‚Â â””â”€â”€ main.yml â”‚Â â”œâ”€â”€ pip â”‚Â â”‚Â â”œâ”€â”€ tasks â”‚Â â”‚Â â”‚Â â””â”€â”€ main.yml â”‚Â â”‚Â â””â”€â”€ vars â”‚Â â”‚Â â””â”€â”€ main.yml â”‚Â â”œâ”€â”€ ssh â”‚Â â”‚Â â”œâ”€â”€ tasks â”‚Â â”‚Â â”‚Â â””â”€â”€ main.yml â”‚Â â”‚Â â”œâ”€â”€ templates â”‚Â â”‚Â â””â”€â”€ vars â”‚Â â”‚Â â””â”€â”€ main.yml â”‚Â â”œâ”€â”€ vsc â”‚Â â”‚Â â”œâ”€â”€ tasks â”‚Â â”‚Â â”‚Â â””â”€â”€ main.yml â”‚Â â”‚Â â”œâ”€â”€ templates â”‚Â â”‚Â â”‚Â â””â”€â”€ settings.json â”‚Â â”‚Â â””â”€â”€ vars â”‚Â â”‚Â â””â”€â”€ main.yml â”‚Â â”œâ”€â”€ xcode â”‚Â â”‚Â â””â”€â”€ tasks â”‚Â â”‚Â â””â”€â”€ main.yml â”‚Â â””â”€â”€ yarn â”‚Â â”œâ”€â”€ tasks â”‚Â â”‚Â â””â”€â”€ main.yml â”‚Â â””â”€â”€ vars â”‚Â â””â”€â”€ main.yml â”œâ”€â”€ site.retry â””â”€â”€ site.yml å„ãƒ•ã‚¡ã‚¤ãƒ«ã®èª¬æ˜ site.yml ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®å†…å®¹ã€ç‰¹ã«rolesã‚’è¦‹ã‚‹ä½•ã‚’å®Ÿè¡Œã—ã¦ã‚‹ã‹ã‚ã‹ã‚‹ã‹ã¨æ€ã„ã¾ã™ã€‚å®Ÿè¡Œä¸è¦ãªã‚‚ã®ã¯ã€rolesã®å„è¡Œã‚’ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆã™ã‚Œã°å®Ÿè¡Œã•ã‚Œã¾ã›ã‚“ã€‚ Ansibleãªã®ã§å®Ÿè¡Œæ™‚ã®tagæŒ‡å®šãªã©ã§è‡¨æ©Ÿå¿œå¤‰ã«å¯¾å¿œå¯èƒ½ã§ã™ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 --- # file: site.yml # --------------- # localhost # --------------- - hosts: localhost connection: local gather_facts: yes roles: - homebrew - homebrew_cask - mas - macos # - awscli - xcode - fonts - vsc - golang - node - pip - yarn roles/homebrew Ansibleå…¬å¼ã€€homebrew - Package manager for Homebrew Homebrew Taps (third-party repositories) homebrewã§å¿…è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚ â€»homebrew tapã§ã¯å¿…è¦ãªãƒªãƒã‚¸ãƒˆãƒªã‚’è¿½åŠ ã—ã¦ã„ã¾ã™ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 --- # file: ./homebrew/tasks/main.yml - block: - name: homebrew update homebrew: update_homebrew: true upgrade_all: yes - name: homebrew tap homebrew_tap: name: \u0026#34;{{ item }}\u0026#34; state: present with_items: \u0026#34;{{ taps }}\u0026#34; - name: homebrew packages install homebrew: name: \u0026#34;{{ item.name }}\u0026#34; state: \u0026#34;{{ item.state | default(\u0026#39;present\u0026#39;) }}\u0026#34; with_items: \u0026#34;{{ packages }}\u0026#34; tags: - homebrew è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã«å¿…è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’è¿½åŠ ã—ã¦ã„ãã ã‘ã§ã™ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 --- # file: ./homebrew/vars/main.yml taps: - homebrew/boneyard - homebrew/cask - homebrew/cask-versions - homebrew/core packages: - { name: ansible, state: present } - { name: awscli, state: present } - { name: git, state: present } - { name: hugo, state: present } - { name: jq, state: present } - { name: mercurial, state: present } - { name: mas, state: present } # mas-cli(mac apple store) - { name: tree, state: present } - { name: sassc, state: present } - { name: nkf, state: present } - { name: fontconfig, state: present } # for fc-cache - { name: node, state: present } - { name: nodebrew, state: present } - { name: yarn, state: present } - { name: brotli, state: present } - { name: mozjpeg, state: present } - { name: maven, state: present } roles/homebrew_cask Ansibleå…¬å¼ã€€homebrew_cask - Install/uninstall homebrew casks. Macã®GUIã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 --- # file: ./homebrew_cask/tasks/main.yml - block: - name: homebrew cask packages install \u0026#39;item.name\u0026#39; environment: HOMEBREW_CASK_OPTS: --appdir=/Applications homebrew_cask: name: \u0026#34;{{ item.name }}\u0026#34; state: \u0026#34;{{ item.state | default(\u0026#39;present\u0026#39;) }}\u0026#34; with_items: \u0026#34;{{ packages }}\u0026#34; tags: - homebrew_cask è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã«å¿…è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’è¿½åŠ ã—ã¦ã„ãã ã‘ã§ã™ã€‚\nãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’æ¤œç´¢ã™ã‚‹ã«ã¯ã€ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã§ã™ã€‚\n1 $ brew search 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 --- # file: ./homebrew_cask/vars/main.yml packages: - { name: avira-antivirus, state: present } - { name: google-chrome, state: present } - { name: firefox, state: present } - { name: google-japanese-ime, state: present } - { name: dropbox, state: present } - { name: slack, state: present } - { name: skype, state: present } - { name: visual-studio-code, state: present } - { name: iterm2, state: present } - { name: sourcetree, state: present } - { name: docker, state: present } - { name: postico, state: present } - { name: java8, state: present } roles/mas Github mas-cli A simple command line interface for the Mac App Store. Designed for scripting and automation.\nMac App Storeç”¨ã®ç°¡å˜ãªã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã€‚ã‚¹ã‚¯ãƒªãƒ—ãƒ†ã‚£ãƒ³ã‚°ã¨è‡ªå‹•åŒ–ã®ãŸã‚ã«è¨­è¨ˆã•ã‚Œã¦ã„ã¾ã™ã€‚\nä½¿ã„æ–¹ã¯ä¸Šã®Githubã®ãƒšãƒ¼ã‚¸ã«è©³ã—ãè¨˜è¼‰ã•ã‚Œã¦ã„ã¾ã™ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 --- # file: ./mas/tasks/main.yml - block: - name: mas is installed shell: brew list register: mas_brew_list changed_when: False check_mode: no - block: - name: mas get installed list shell: mas list register: mas_installed_list changed_when: False check_mode: no - name: mas install items shell: \u0026#34;mas install {{ item.id }}\u0026#34; when: \u0026#39;\u0026#34;item.id\u0026#34; not in mas_installed_list.stdout\u0026#39; with_items: \u0026#34;{{ packages }}\u0026#34; when: \u0026#39;\u0026#34;mas\u0026#34; in mas_brew_list.stdout_lines\u0026#39; tags: - mas è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã«å¿…è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’è¿½åŠ ã—ã¦ã„ãã ã‘ã§ã™ã€‚\nã‚¢ãƒ—ãƒªIDã®èª¿ã¹æ–¹ï¼ˆä¾‹:Xcodeï¼‰ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 $ mas search Xcode 497799835 Xcode (10.1) 1163893338 App School for Xcode and iOS 10 Development Free (1.0) 1183412116 Swiftify for Xcode (4.5) 1179007212 Code School for Xcode Free -Learn How to Make Apps (1.1.3) 1083165894 Course for Xcode 7 Lite (1.0) 1168397789 Alignment for Xcode (1.1.1) 734258109 Watchdog for Xcode (1.9) 1246672247 BlockComment for Xcode (1.0.0) 665134234 Training for Xcode (1.3) 830464758 IDAssetManager Lite for Xcode (1.13) 1179234554 TabifyIndents for Xcode (1.0.1) 1187815194 Comments for Xcode (0.1.0) 1168548047 EnumHelper for Xcode (1.0.0) 1218781096 LanguageTranslator for Xcode (1.0.1) 1212245111 Protocol for Xcode (0.1.0) 1214720236 Pastery for Xcode (1.2) 451202534 Project Analyzer for Xcode 4 (1.3) 1377998565 Comment Wrapper for Xcode (1.0) 1218784832 NamingTranslator for Xcode (1.0.1) 1153372713 App School for Xcode and iOS 10 Development (1.2) 1076826166 Lessons for Xcode 7 (1.0) 650764572 Project Statistics for Xcode (2.0.2) 1159371870 Code School for Xcode PRO - Learn Coding for iOS (1.1.2) 1360667102 Character Commands for Xcode (1.1) 660835555 App Academy: Xcode Edition (1.3) 1040160984 Swiftly-Clean for Xcode and Swift (2.0) 949142405 AppIcon Maker for Xcode (2.0) 882416115 Templates SourceCode for Xcode (1.0) 884971675 Templates Apps For Xcode (1.0) 1396408074 PrettyJSON for Xcode (1.3) 1053790590 AssetsGenerator for Xcode (1.5.0) 1185330099 Tutorial for Xcode and Swift Programming Language (1.0) 1004753760 iConeer - iconset and asset creator for Xcode (1.2) 552799390 Iconset for Xcode (1.3.3) 1296084683 Cleaner for Xcode (1.0.3) 1424316531 Localizer Xcode Extension (1.0) 1003994181 Assets for Xcode: Resize images and icons for deve (3.1) 1203792119 Code School for Xcode and iOS 10 Development (1.2) 1175032678 Step by Step Tutorials for Xcode 8 and IOS 10 (1.0) 1042257116 Placeholders â€¢ Create stand-in assets for Xcode an (1.0) 655575608 Archive Cleaner for Xcode (1.0.2) 1016279141 XCArchiver - Archive Editor for Xcode (1.4) 1129885290 Tutorials for TVOS Swift Programming with XCODE (1.0) 1 2 3 4 5 6 7 8 --- # file: ./mas/vars/main.yml packages: - { id: 409201541, name: Pages } - { id: 409203825, name: Numbers } - { id: 409183694, name: Keynote } - { id: 497799835, name: Xcode } roles/macos Mac OSã®è¨­å®šé–¢é€£ DNSã¯Google Public DNSã‚’è¨­å®š defaultsã‚³ãƒãƒ³ãƒ‰ã§Mac OSã®è¨­å®šã‚’å¤‰æ›´ã™ã‚‹ï¼ˆãŠå¥½ã¿ã«åˆã‚ã›ã¦ï¼‰ osx_defaults - osx_defaults allows users to read, write, and delete Mac OS X user defaults from Ansible bashå‘¨ã‚Šã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ã‚³ãƒ”ãƒ¼ â€»owner: XXXXXã¯ä»»æ„ã®å€¤ã«å¤‰æ›´\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 --- # file: ./macos/tasks/main.yml - block: - name: DNS setting shell: networksetup -setdnsservers Wi-Fi 8.8.8.8 8.8.4.4 tags: - dns - block: # check defaults # $ defaults read - name: set osx defaults osx_defaults: domain: \u0026#34;{{ item.domain }}\u0026#34; key: \u0026#34;{{ item.key }}\u0026#34; type: \u0026#34;{{ item.type }}\u0026#34; value: \u0026#34;{{ item.value }}\u0026#34; with_items: \u0026#34;{{ settings }}\u0026#34; tags: - osx_defaults - block: # bash setting - name: copy ~/.bash_profile template template: src: .bash_profile.j2 dest: ~/.bash_profile owner: XXXXX group: staff mode: 0600 - name: copy ~/.bashrc template template: src: .bashrc.j2 dest: ~/.bashrc owner: XXXXX group: staff mode: 0600 tags: - bash tags: - macos è¨­å®šå€¤ã¯ã€ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã§è¦‹ã¤ã‘ã‚‹ 1 $ defaults read 1 2 3 4 5 6 7 8 9 --- # file: ./macos/vars/main.yml settings: - { domain: com.apple.finder, key: AppleShowAllFiles, type: string, value: TRUE } - { domain: NSGlobalDomain, key: AppleShowAllExtensions, type: bool, value: TRUE } - { domain: com.apple.dock, key: tilesize, type: float, value: 40 } - { domain: com.apple.dock, key: autohide, type: bool, value: TRUE } - { domain: com.apple.menuextra.battery, key: ShowPercent, type: string, value: YES } ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ\n1 2 3 4 5 # {{ ansible_managed }} # ~/.bash_profile if [ -f ~/.bashrc ]; then . ~/.bashrc fi 1 2 3 4 5 # {{ ansible_managed }} # ~/.bashrc alias ls=\u0026#34;ls -G\u0026#34; alias ll=\u0026#34;ls -lG\u0026#34; alias la=\u0026#34;ls -laG\u0026#34; roles/awscli AWS CLIã‚’ä½¿ã†äººç”¨ã®è¨­å®š\nã“ã®è¨˜äº‹(Macã«AWS CLIã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« )ã®Ansibleç‰ˆ\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 --- # file: ./awscli/tasks/main.yml - block: - name: aws cli config aws_access_key_id command: \u0026#34;aws configure set aws_access_key_id {{ awscli.key }}\u0026#34; - name: aws cli config aws_secret_access_key command: \u0026#34;aws configure set aws_secret_access_key {{ awscli.secret }}\u0026#34; - name: aws cli config default.region command: \u0026#34;aws configure set default.region {{ awscli.region }}\u0026#34; - name: aws cli config default.output command: \u0026#34;aws configure set default.output {{ awscli.output }}\u0026#34; tags: - awscli â€»key,secretã‚’è¨­å®šã—ã¦ãã ã•ã„\n1 2 3 4 5 6 7 8 --- # file: ./awscli/vars/main.yml awscli: key: \u0026#34;your_key\u0026#34; secret: \u0026#34;your_secret\u0026#34; region: ap-northeast-1 output: json roles/xcode Xcodeã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ã™ã€‚\n1 2 3 4 5 6 7 8 9 10 --- # file: ./xcode/tasks/main.yml - block: - name: Xcode\u0026#39;s additional required components raw: /Applications/Xcode.app/Contents/MacOS/Xcode -installComponents tags: - xcode roles/fonts é–‹ç™ºç”¨ã«ä½¿ã£ã¦ã‚‹ãƒ•ã‚©ãƒ³ãƒˆã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ã™ã€‚\nã“ã“ã§ã¯ã€Rictyã®æ´¾ç”Ÿã€Ricty Diminishedã¨Source Han Code JP/æºãƒè§’ã‚´ã‚·ãƒƒã‚¯ Codeã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚\næ±äº¬ç†ç§‘å¤§å­¦ç†å·¥å­¦éƒ¨æ©Ÿæ¢°å·¥å­¦ç§‘åŠ©æ•™ å²¡ç”°ç ”ç©¶å®¤ ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ç”¨ãƒ•ã‚©ãƒ³ãƒˆ Ricty Diminished Source Han Code JP æºãƒè§’ã‚´ã‚·ãƒƒã‚¯ Code 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 --- # file: ./ricty/tasks/main.yml - block: - name: Download ricty get_url: url: http://www.rs.tus.ac.jp/yyusa/ricty_diminished/ricty_diminished-4.1.1.tar.gz dest: ~/Downloads/ricty_diminished-4.1.1.tar.gz - name: Unzip ricty raw: tar zxvf ~/Downloads/ricty_diminished-4.1.1.tar.gz -C ~/Library/Fonts/ - name: Download Source Han Code JP get_url: url: https://github.com/adobe-fonts/source-han-code-jp/archive/2.000R.tar.gz dest: ~/Downloads/2.000R.tar.gz - name: Unzip Source Han Code JP raw: tar zxvf ~/Downloads/2.000R.tar.gz -C ~/Library/Fonts/ - name: mv *.otf to ~/Library/Fonts/ copy: src: \u0026#34;{{ item }}\u0026#34; dest: \u0026#34;~/Library/Fonts\u0026#34; with_fileglob: - ~/Library/Fonts/source-han-code-jp-2.000R/OTF/*.otf - name: fc-cache raw: fc-cache -vf tags: - fonts roles/vsc é–‹ç™ºã«ä½¿ã£ã¦ã‚‹ã‚¨ãƒ‡ã‚£ã‚¿Visual Studio Code ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ã™ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 --- # file: ./vsc/tasks/main.yml - block: - name: visual studio code basic setting template: src: settings.json dest: \u0026#34;~/Library/Application Support/Code/User\u0026#34; mode: 0644 - name: visual studio code install extension raw: \u0026#34;code --install-extension {{ item }}\u0026#34; with_items: \u0026#39;{{ extensions }}\u0026#39; tags: - vsc ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã‚¨ã‚¯ã‚»ãƒ†ãƒ³ã‚·ãƒ§ãƒ³ã®ãƒªã‚¹ãƒˆã§ã™ã€‚extensionsã¯Unique Identifierã‚’æŒ‡å®šã—ã¾ã™ã€‚\nvscode-icons ã®ãƒšãƒ¼ã‚¸ã§Unique Identifierã®æ–‡å­—åˆ—ã‚’æ¤œç´¢ã—ã¦ã¿ã¦ãã ã•ã„ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 --- # file: ./vsc/vars/main.yml extensions: - robertohuertasm.vscode-icons - equinusocio.vsc-material-theme - CoenraadS.bracket-pair-colorizer - mechatroner.rainbow-csv - IBM.output-colorizer # git - eamodio.gitlens - donjayamanne.githistory # develop - HookyQR.beautify - robinbentley.sass-indented - dbaeumer.vscode-eslint - ionutvmi.path-autocomplete # golang - ms-vscode.go # java, spring - vscjava.vscode-java-pack - vscjava.vscode-spring-initializr # ansible - vscoss.vscode-ansible # docker - peterjausovec.vscode-docker # bash - shakram02.bash-beautify - rogalmic.bash-debug # tools - humao.rest-client - chrmarti.regex - arjun.swagger-viewer ã“ã¡ã‚‰ã¯ã€åŸºæœ¬è¨­å®šã®jsonãƒ•ã‚¡ã‚¤ãƒ«ã§ã€templateã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ã„ã¾ã™ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 { \u0026#34;editor.cursorStyle\u0026#34;: \u0026#34;block\u0026#34;, \u0026#34;editor.fontFamily\u0026#34;: \u0026#34;Ricty Diminished\u0026#34;, \u0026#34;editor.fontSize\u0026#34;: 16, \u0026#34;editor.highlightActiveIndentGuide\u0026#34;: true, \u0026#34;editor.insertSpaces\u0026#34;: true, \u0026#34;editor.minimap.enabled\u0026#34;: false, \u0026#34;editor.renderWhitespace\u0026#34;: \u0026#34;boundary\u0026#34;, \u0026#34;editor.tabSize\u0026#34;: 2, \u0026#34;files.insertFinalNewline\u0026#34;: true, \u0026#34;files.trimTrailingWhitespace\u0026#34;: true, \u0026#34;files.trimFinalNewlines\u0026#34;: true, \u0026#34;git.confirmSync\u0026#34;: false, \u0026#34;markdown.preview.fontFamily\u0026#34;: \u0026#34;Ricty Diminished\u0026#34;, \u0026#34;terminal.external.osxExec\u0026#34;: \u0026#34;iTerm.app\u0026#34;, \u0026#34;window.zoomLevel\u0026#34;: -1, \u0026#34;workbench.colorTheme\u0026#34;: \u0026#34;One Dark Pro\u0026#34;, \u0026#34;workbench.iconTheme\u0026#34;: \u0026#34;vscode-icons\u0026#34;, \u0026#34;workbench.startupEditor\u0026#34;: \u0026#34;newUntitledFile\u0026#34; } ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹visual studio codeã®ã‚¨ã‚¯ã‚¹ãƒ†ãƒ³ã‚·ãƒ§ãƒ³ã®ä¸€è¦§ã‚’è¡¨ç¤ºã™ã‚‹æ–¹æ³•ã§ã™ã€‚VSC doc: Command Line Interface (CLI) 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 $ code --list-extensions Arjun.swagger-viewer chrmarti.regex CoenraadS.bracket-pair-colorizer dbaeumer.vscode-eslint donjayamanne.githistory eamodio.gitlens Equinusocio.vsc-material-theme HookyQR.beautify humao.rest-client IBM.output-colorizer ionutvmi.path-autocomplete mechatroner.rainbow-csv MS-CEINTL.vscode-language-pack-ja ms-vscode.Go PeterJausovec.vscode-docker redhat.java robertohuertasm.vscode-icons robinbentley.sass-indented rogalmic.bash-debug shakram02.bash-beautify vscjava.vscode-java-debug vscjava.vscode-java-pack vscjava.vscode-java-test vscjava.vscode-maven vscjava.vscode-spring-initializr vscoss.vscode-ansible zhuangtongfa.Material-theme roles/golang gvmã§ç®¡ç†ã—ã¦ã¾ã™ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 --- # file: ./golang/tasks/main.yml - block: - name: install gvm shell: bash \u0026lt; \u0026lt;(curl -s -S -L https://raw.githubusercontent.com/moovweb/gvm/master/binscripts/gvm-installer) args: executable: /bin/bash ignore_errors: yes - name: include install.yml include: \u0026#34;install.yml in_item={{ item }}\u0026#34; with_items: \u0026#34;{{ versions }}\u0026#34; tags: - golang â€»path XXXXXã¯ä»»æ„ã®å€¤ã«å¤‰æ›´\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 --- # file: ./golang/tasks/install.yml - block: - name: \u0026#34;install go{{ in_item }}\u0026#34; shell: \u0026#34;source /Users/XXXXX/.gvm/scripts/gvm \u0026amp;\u0026amp; gvm install go{{ in_item }} -B\u0026#34; args: executable: /bin/bash - name: \u0026#34;set default go{{ in_item }}\u0026#34; shell: \u0026#34;source /Users/XXXXX/.gvm/scripts/gvm \u0026amp;\u0026amp; gvm use go{{ in_item }} --default\u0026#34; args: executable: /bin/bash tags: - golang ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æŒ‡å®š 1 2 3 4 5 6 7 8 9 10 --- # file: ./golang/vars/main.yml versions: - \u0026#34;1.4\u0026#34; - \u0026#34;1.7.6\u0026#34; - \u0026#34;1.8.7\u0026#34; - \u0026#34;1.9.7\u0026#34; - \u0026#34;1.10.5\u0026#34; - \u0026#34;1.11.2\u0026#34; localhost ãƒ›ã‚¹ãƒˆã‚’æ›¸ã„ã¦ã‚ã‚‹ã ã‘ã®ãƒ•ã‚¡ã‚¤ãƒ« 1 localhost Ansibleã®å®Ÿè¡Œ 1 $ ansible-playbook -i localhost site.yml æœ€å¾Œã« å‚è€ƒã«ã•ã‚Œã‚‹æ–¹ã¯ã€ã“ã‚Œãƒ™ãƒ¼ã‚¹ã«æ€è€ƒéŒ¯èª¤ã—ã¦ãã ã•ã„ã€‚\nä»–ã«ã‚‚ã§ããã†ãªã“ã¨ã¯ãŸãã•ã‚“ã‚ã‚‹ã¨æ€ã„ã¾ã™ã€‚\næŠ€è¡“ã®ç§»ã‚Šå¤‰ã‚ã‚Šã‚‚æ¿€ã—ã„ã®ã§ã‚„ã‚Šéãæ³¨æ„ã§ã™ã€‚\nãã‚“ãªã«é »åº¦ã‚‚ãªã„ã§ã—ã‚‡ã†ã—ã€å®Œç’§ã‚’æ±‚ã‚ã™ãã‚‹ã¨é€†ã«æ™‚é–“ã‹ã‹ã£ã¦æœ¬æœ«è»¢å€’ã«ãªã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚‚ã‚ã‚Šãã†ãªã®ã§ã€60ã€œ70%è‡ªå‹•åŒ–ã™ã‚‹ãã‚‰ã„ã®æ°—æŒã¡ã§ãŒã‚“ã°ã‚Šã¾ã—ã‚‡ã†ã€‚\n","permalink":"https://techteco.github.io/2018/01/22/ansible-mac/","tags":["Ansible"],"title":"Ansibleã§Macã®é–‹ç™ºç’°å¢ƒã‚’æ§‹ç¯‰ã™ã‚‹"},{"categories":["AWS"],"content":"å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ AWS CLI Command Reference dynamodb å‰æ DynamoDBãƒ­ãƒ¼ã‚«ãƒ«ã‚’ä½¿ã£ã¦ã¿ã‚‹ ãŒå®Œäº†ã—ã¦ã„ã‚‹\nDynamoDBã‚’AWS CLIã§æ“ä½œã—ã¦ã¿ã‚‹ï¼ˆãƒ†ãƒ¼ãƒ–ãƒ«æ“ä½œï¼‰ ãŒå®Œäº†ã—ã¦ã„ã‚‹\nå‚è€ƒ ã‚³ãƒãƒ³ãƒ‰ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ aws dynamodb put-item aws dynamodb get-item aws dynamodb update-item aws dynamodb delete-item aws dynamodb batch-write-item aws dynamodb batch-get-item äº‹å‰æº–å‚™ ä½œæ¥­ç”¨ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¸ç§»å‹• 1 $ cd ~/dynamodbwork ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆ å®šç¾©ç”¨jsonãƒ•ã‚¡ã‚¤ãƒ« 1 $ more ./json/musicTableDefinition.json 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 { \u0026#34;TableName\u0026#34;: \u0026#34;Music\u0026#34;, \u0026#34;AttributeDefinitions\u0026#34;: [ { \u0026#34;AttributeName\u0026#34;: \u0026#34;Artist\u0026#34;, \u0026#34;AttributeType\u0026#34;: \u0026#34;S\u0026#34; }, { \u0026#34;AttributeName\u0026#34;: \u0026#34;SongTitle\u0026#34;, \u0026#34;AttributeType\u0026#34;: \u0026#34;S\u0026#34; } ], \u0026#34;KeySchema\u0026#34;: [ { \u0026#34;KeyType\u0026#34;: \u0026#34;HASH\u0026#34;, \u0026#34;AttributeName\u0026#34;: \u0026#34;Artist\u0026#34; }, { \u0026#34;KeyType\u0026#34;: \u0026#34;RANGE\u0026#34;, \u0026#34;AttributeName\u0026#34;: \u0026#34;SongTitle\u0026#34; } ], \u0026#34;ProvisionedThroughput\u0026#34;: { \u0026#34;WriteCapacityUnits\u0026#34;: 1, \u0026#34;ReadCapacityUnits\u0026#34;: 1 } } 1 2 3 4 $ aws dynamodb \\ create-table \\ --endpoint-url http://localhost:8000 \\ --cli-input-json file://json/musicTableDefinition.json ã‚¢ã‚¤ãƒ†ãƒ æ“ä½œ put-item å®šç¾©ç”¨jsonãƒ•ã‚¡ã‚¤ãƒ« 1 $ more ./json/musicItem.json 1 2 3 4 5 6 7 8 9 10 11 { \u0026#34;Artist\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;No One You Know\u0026#34; }, \u0026#34;SongTitle\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;Call Me Today\u0026#34; }, \u0026#34;AlbumTitle\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;Somewhat Famous\u0026#34; } } 1 2 3 4 5 6 $ aws dynamodb \\ put-item \\ --table-name Music \\ --item file://json/musicItem.json \\ --return-consumed-capacity TOTAL \\ --endpoint-url http://localhost:8000 get-item Keyç”¨jsonãƒ•ã‚¡ã‚¤ãƒ« 1 $ more ./json/musicItemKey.json 1 2 3 4 5 6 7 8 { \u0026#34;Artist\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;No One You Know\u0026#34; }, \u0026#34;SongTitle\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;Call Me Today\u0026#34; } } 1 2 3 4 5 $ aws dynamodb \\ get-item \\ --table-name Music \\ --key file://json/musicItemKey.json \\ --endpoint-url http://localhost:8000 å‡ºåŠ›çµæœã®jsonãƒ•ã‚¡ã‚¤ãƒ«\n1 2 3 4 5 6 7 8 9 10 11 12 13 { \u0026#34;Item\u0026#34;: { \u0026#34;Artist\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;No One You Know\u0026#34; }, \u0026#34;SongTitle\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;Call Me Today\u0026#34; }, \u0026#34;AlbumTitle\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;Somewhat Famous\u0026#34; } } } update-item Keyç”¨jsonãƒ•ã‚¡ã‚¤ãƒ« 1 $ more ./json/musicItemKey.json 1 2 3 4 5 6 7 8 { \u0026#34;Artist\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;No One You Know\u0026#34; }, \u0026#34;SongTitle\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;Call Me Today\u0026#34; } } æ›´æ–°ç”¨jsonãƒ•ã‚¡ã‚¤ãƒ« 1 $ more ./json/musicItemUpdateAttribute.json 1 2 3 4 5 6 7 8 { \u0026#34;AlbumTitle\u0026#34;: { \u0026#34;Value\u0026#34;: { \u0026#34;S\u0026#34;:\u0026#34;Somewhat Famous4\u0026#34; }, \u0026#34;Action\u0026#34;: \u0026#34;PUT\u0026#34; } } 1 2 3 4 5 6 $ aws dynamodb \\ update-item \\ --table-name Music \\ --key file://json/musicItemKey.json \\ --attribute-updates file://json/musicItemUpdateAttribute.json \\ --endpoint-url http://localhost:8000 æ›´æ–°å¾Œã®jsonãƒ•ã‚¡ã‚¤ãƒ« 1 2 3 4 5 6 7 8 9 10 11 12 13 { \u0026#34;Item\u0026#34;: { \u0026#34;Artist\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;No One You Know\u0026#34; }, \u0026#34;SongTitle\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;Call Me Today\u0026#34; }, \u0026#34;AlbumTitle\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;Somewhat Famous4\u0026#34; } } } delete-item Keyç”¨jsonãƒ•ã‚¡ã‚¤ãƒ« 1 $ more ./json/musicItemKey.json 1 2 3 4 5 6 7 8 { \u0026#34;Artist\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;No One You Know\u0026#34; }, \u0026#34;SongTitle\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;Call Me Today\u0026#34; } } 1 2 3 4 5 $ aws dynamodb \\ delete-item \\ --table-name Music \\ --key file://json/musicItemKey.json \\ --endpoint-url http://localhost:8000 batch-write-item è¿½åŠ ç”¨jsonãƒ•ã‚¡ã‚¤ãƒ« 1 $ more ./json/musicItems.json 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 { \u0026#34;Music\u0026#34;: [{ \u0026#34;PutRequest\u0026#34;: { \u0026#34;Item\u0026#34;: { \u0026#34;Artist\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;No One You Know\u0026#34; }, \u0026#34;SongTitle\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;Call Me Today\u0026#34; }, \u0026#34;AlbumTitle\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;Somewhat Famous\u0026#34; } } } }, { \u0026#34;PutRequest\u0026#34;: { \u0026#34;Item\u0026#34;: { \u0026#34;Artist\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;Acme Band\u0026#34; }, \u0026#34;SongTitle\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;Happy Day\u0026#34; }, \u0026#34;AlbumTitle\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;Songs About Life\u0026#34; } } } }, { \u0026#34;PutRequest\u0026#34;: { \u0026#34;Item\u0026#34;: { \u0026#34;Artist\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;No One You Know\u0026#34; }, \u0026#34;SongTitle\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;Scared of My Shadow\u0026#34; }, \u0026#34;AlbumTitle\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;Blue Sky Blues\u0026#34; } } } } ] } 1 2 3 4 $ aws dynamodb \\ batch-write-item \\ --request-items file://json/musicItems.json \\ --endpoint-url http://localhost:8000 batch-get-item 1 2 3 4 $ aws dynamodb \\ batch-get-item \\ --request-items file://json/musicItemKeys.json \\ --endpoint-url http://localhost:8000 å–å¾— 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 { \u0026#34;UnprocessedKeys\u0026#34;: {}, \u0026#34;Responses\u0026#34;: { \u0026#34;Music\u0026#34;: [ { \u0026#34;AlbumTitle\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;Songs About Life\u0026#34; } }, { \u0026#34;AlbumTitle\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;Somewhat Famous\u0026#34; } }, { \u0026#34;AlbumTitle\u0026#34;: { \u0026#34;S\u0026#34;: \u0026#34;Blue Sky Blues\u0026#34; } } ] } } ","permalink":"https://techteco.github.io/2017/04/25/dynamodb-usage-item/","tags":["DynamoDB","AWS CLI"],"title":"DynamoDBã‚’AWS CLIã§æ“ä½œã—ã¦ã¿ã‚‹ï¼ˆã‚¢ã‚¤ãƒ†ãƒ æ“ä½œï¼‰"},{"categories":["AWS"],"content":"å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ AWS CLI Command Reference dynamodb å‰æ DynamoDBãƒ­ãƒ¼ã‚«ãƒ«ã‚’ä½¿ã£ã¦ã¿ã‚‹ ãŒå®Œäº†ã—ã¦ã„ã‚‹ å‚è€ƒ ã‚³ãƒãƒ³ãƒ‰ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ aws dynamodb list-tables aws dynamodb create-table aws dynamodb describe-table aws dynamodb update-table aws dynamodb delete-table äº‹å‰æº–å‚™ ä½œæ¥­ç”¨ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆ 1 $ mkdir -p ~/dynamodbwork/json; cd ./dynamodbwork ãƒ†ãƒ¼ãƒ–ãƒ«æ“ä½œ ãƒ†ãƒ¼ãƒ–ãƒ«ã®ãƒªã‚¹ãƒˆã‚’è¡¨ç¤ºã™ã‚‹ 1 2 3 4 5 $ aws dynamodb \\ list-tables \\ --endpoint-url http://localhost:8000 \u0026gt; ./json/list-tables.json $ more ./json/list-tables.json å‡ºåŠ›çµæœã®jsonãƒ•ã‚¡ã‚¤ãƒ«\n1 2 3 { \u0026#34;TableNames\u0026#34;: [] } ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆ å®šç¾©ç”¨jsonãƒ•ã‚¡ã‚¤ãƒ« 1 $ more ./json/testTableDefinition.json 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 { \u0026#34;TableName\u0026#34;: \u0026#34;testTable\u0026#34;, \u0026#34;AttributeDefinitions\u0026#34;: [ { \u0026#34;AttributeName\u0026#34;: \u0026#34;hash_key_attribute_name\u0026#34;, \u0026#34;AttributeType\u0026#34;: \u0026#34;S\u0026#34; }, { \u0026#34;AttributeName\u0026#34;: \u0026#34;range_key_attribute_name\u0026#34;, \u0026#34;AttributeType\u0026#34;: \u0026#34;S\u0026#34; } ], \u0026#34;KeySchema\u0026#34;: [ { \u0026#34;KeyType\u0026#34;: \u0026#34;HASH\u0026#34;, \u0026#34;AttributeName\u0026#34;: \u0026#34;hash_key_attribute_name\u0026#34; }, { \u0026#34;KeyType\u0026#34;: \u0026#34;RANGE\u0026#34;, \u0026#34;AttributeName\u0026#34;: \u0026#34;range_key_attribute_name\u0026#34; } ], \u0026#34;ProvisionedThroughput\u0026#34;: { \u0026#34;WriteCapacityUnits\u0026#34;: 5, \u0026#34;ReadCapacityUnits\u0026#34;: 5 } } 1 2 3 4 $ aws dynamodb \\ create-table \\ --endpoint-url http://localhost:8000 \\ --cli-input-json file://json/testTableDefinition.json ãƒ†ãƒ¼ãƒ–ãƒ«ã®å†…å®¹ã‚’è¡¨ç¤ºã™ã‚‹ 1 2 3 4 5 6 $ aws dynamodb \\ describe-table \\ --endpoint-url http://localhost:8000 \\ --table-name testTable \u0026gt; ./json/testTable.json $ more ./json/testTable.json ãƒ†ãƒ¼ãƒ–ãƒ«å®šç¾©ã®æ›´æ–° æ›´æ–°ç”¨jsonãƒ•ã‚¡ã‚¤ãƒ« 1 $ more ./json/testTableUpdate.json 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 { \u0026#34;TableName\u0026#34;: \u0026#34;testTable\u0026#34;, \u0026#34;AttributeDefinitions\u0026#34;: [ { \u0026#34;AttributeName\u0026#34;: \u0026#34;hash_key_attribute_name\u0026#34;, \u0026#34;AttributeType\u0026#34;: \u0026#34;S\u0026#34; }, { \u0026#34;AttributeName\u0026#34;: \u0026#34;range_key_attribute_name\u0026#34;, \u0026#34;AttributeType\u0026#34;: \u0026#34;S\u0026#34; } ], \u0026#34;ProvisionedThroughput\u0026#34;: { \u0026#34;WriteCapacityUnits\u0026#34;: 10, \u0026#34;ReadCapacityUnits\u0026#34;: 10 } } 1 2 3 4 $ aws dynamodb \\ update-table \\ --endpoint-url http://localhost:8000 \\ --cli-input-json file://json/testTableUpdate.json æ›´æ–°å¾Œã®ãƒ†ãƒ¼ãƒ–ãƒ«ã®å†…å®¹ã‚’è¡¨ç¤ºã™ã‚‹ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 $ aws dynamodb \\ describe-table \\ --endpoint-url http://localhost:8000 \\ --table-name testTable \u0026gt; ./json/testTableUdated.json $ diff ./json/testTable.json ./json/testTableUdated.json 16c16 \u0026lt; \u0026#34;WriteCapacityUnits\u0026#34;: 5, --- \u0026gt; \u0026#34;WriteCapacityUnits\u0026#34;: 10, 18c18 \u0026lt; \u0026#34;ReadCapacityUnits\u0026#34;: 5, --- \u0026gt; \u0026#34;ReadCapacityUnits\u0026#34;: 10, ãƒ†ãƒ¼ãƒ–ãƒ«å‰Šé™¤ 1 2 3 4 $ aws dynamodb \\ delete-table \\ --endpoint-url http://localhost:8000 \\ --table-name testTable ","permalink":"https://techteco.github.io/2017/04/22/dynamodb-usage-table/","tags":["DynamoDB","AWS CLI"],"title":"DynamoDBã‚’AWS CLIã§æ“ä½œã—ã¦ã¿ã‚‹ï¼ˆãƒ†ãƒ¼ãƒ–ãƒ«æ“ä½œï¼‰"},{"categories":["AWS"],"content":"å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ DynamoDB ãƒ­ãƒ¼ã‚«ãƒ« (ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å¯èƒ½ãƒãƒ¼ã‚¸ãƒ§ãƒ³) ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— å‰æ AWS CLIã®è¨­å®šã¨JavaãŒå°å…¥æ¸ˆã¿ 1 2 3 4 5 6 7 $ aws --version aws-cli/1.11.76 Python/2.7.10 Darwin/16.5.0 botocore/1.5.39 $ java -version java version \u0026#34;1.8.0_121\u0026#34; Java(TM) SE Runtime Environment (build 1.8.0_121-b13) Java HotSpot(TM) 64-Bit Server VM (build 25.121-b13, mixed mode) ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ 1 2 3 $ cd your_path $ mkdir dynamodb_local_latest $ curl -sL https://s3-ap-northeast-1.amazonaws.com/dynamodb-local-tokyo/dynamodb_local_latest.tar.gz | tar zx -C your_path/dynamodb_local_latest å®Ÿè¡Œ 1 2 3 4 5 6 7 8 9 $ java -Djava.library.path=./DynamoDBLocal_lib -jar DynamoDBLocal.jar -sharedDb Initializing DynamoDB Local with the following configuration: Port:\t8000 InMemory:\tfalse DbPath:\tnull SharedDb:\ttrue shouldDelayTransientStatuses:\tfalse CorsParams:\t* å®Ÿè¡Œã‚ªãƒ—ã‚·ãƒ§ãƒ³ -cors value JavaScript ã§ CORS (Cross-Origin Resource Sharing) ã®ã‚µãƒãƒ¼ãƒˆã‚’æœ‰åŠ¹ã«ã—ã¾ã™ã€‚ç‰¹å®šã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šã® \u0026ldquo;è¨±å¯\u0026rdquo; ãƒªã‚¹ãƒˆã‚’æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ -cors ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®šã¯ã€ãƒ‘ãƒ–ãƒªãƒƒã‚¯ã‚¢ã‚¯ã‚»ã‚¹ã‚’è¨±å¯ã™ã‚‹ã‚¢ã‚¹ã‚¿ãƒªã‚¹ã‚¯ï¼ˆ*ï¼‰ã§ã™ã€‚\n-dbPath value DynamoDB ãŒãã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ›¸ãè¾¼ã‚€ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã€‚ã“ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã—ãªã„å ´åˆã€ãƒ•ã‚¡ã‚¤ãƒ«ã¯ç¾åœ¨ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«æ›¸ãè¾¼ã¾ã‚Œã¾ã™ã€‚ -dbPath ã¨ -inMemory ã®ä¸¡æ–¹ã‚’åŒæ™‚ã«æŒ‡å®šã™ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚\n-delayTransientStatuses DynamoDB ã§ç‰¹å®šã®ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®é…å»¶ã‚’ç™ºç”Ÿã•ã›ã¾ã™ã€‚DynamoDB ã¯ã€ãƒ†ãƒ¼ãƒ–ãƒ«ã‚„ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã§ã®ä½œæˆ/æ›´æ–°/å‰Šé™¤ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãªã©ã€ä¸€éƒ¨ã®ã‚¿ã‚¹ã‚¯ã‚’ã»ã¼ç¬æ™‚ã«å®Ÿè¡Œã§ãã¾ã™ã€‚ãŸã ã—ã€å®Ÿéš›ã® DynamoDB ã‚µãƒ¼ãƒ“ã‚¹ã§ã¯ã€ãã‚Œã‚‰ã®ã‚¿ã‚¹ã‚¯ã«ã¯ã‚ˆã‚Šå¤šãã®æ™‚é–“ãŒå¿…è¦ã§ã™ã€‚ã“ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã‚’è¨­å®šã™ã‚‹ã¨ã€DynamoDB ã¯ Amazon DynamoDB ã‚¦ã‚§ãƒ–ã‚µãƒ¼ãƒ“ã‚¹ã®å‹•ä½œã‚’ã‚ˆã‚Šæ­£ç¢ºã«ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆã§ãã¾ã™ï¼ˆç¾åœ¨ã€ã“ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§ã¯ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãŒ CREATING ã¾ãŸã¯ DELETING ã®ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚»ã‚«ãƒ³ãƒ€ãƒªã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã«å¯¾ã—ã¦ã®ã¿é…å»¶ãŒç™ºç”Ÿã—ã¾ã™ï¼‰ã€‚\n-help ä½¿ç”¨æ–¹æ³•ã®æ¦‚è¦ã¨ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’å‡ºåŠ›ã—ã¾ã™ã€‚\n-inMemory DynamoDB ã¯ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½¿ç”¨ã™ã‚‹ä»£ã‚ã‚Šã«ãƒ¡ãƒ¢ãƒªã§å®Ÿè¡Œã•ã‚Œã¾ã™ã€‚DynamoDB ã‚’åœæ­¢ã—ãŸã¨ãã€ä¿å­˜ã•ã‚Œã‚‹ãƒ‡ãƒ¼ã‚¿ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ -dbPath ã¨ -inMemory ã®ä¸¡æ–¹ã‚’åŒæ™‚ã«æŒ‡å®šã™ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚\n-optimizeDbBeforeStartup ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã§ DynamoDB ã‚’é–‹å§‹ã™ã‚‹å‰ã«ã€åŸºã«ãªã‚‹ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’æœ€é©åŒ–ã—ã¾ã™ã€‚ã“ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ä½¿ç”¨ã™ã‚‹ã¨ãã¯ã€-dbPath ã‚‚æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\n-port value DynamoDB ãŒã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¨é€šä¿¡ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã™ã‚‹ãƒãƒ¼ãƒˆç•ªå·ã€‚ã“ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã—ãªã„å ´åˆã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒãƒ¼ãƒˆã¯ 8000 ã«ãªã‚Šã¾ã™ã€‚\n-sharedDb DynamoDB ã¯ã€èªè¨¼æƒ…å ±ã¨ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã”ã¨ã«åˆ¥ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½¿ç”¨ã™ã‚‹ä»£ã‚ã‚Šã«ã€å˜ä¸€ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ -sharedDb ã‚’æŒ‡å®šã™ã‚‹ã¨ã€ã™ã¹ã¦ã® DynamoDB ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¯ã€ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã¨èªè¨¼æƒ…å ±ã®è¨­å®šã«ã‹ã‹ã‚ã‚‰ãšã€ãƒ†ãƒ¼ãƒ–ãƒ«ã®åŒã˜ã‚»ãƒƒãƒˆã‚’æ“ä½œã—ã¾ã™ã€‚\nå‹•ä½œç¢ºèª ãƒ†ãƒ¼ãƒ–ãƒ«ãƒªã‚¹ãƒˆã‚’è¡¨ç¤º 1 2 3 4 $ aws dynamodb list-tables --endpoint-url http://localhost:8000 { \u0026#34;TableNames\u0026#34;: [] } ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œæˆ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 $ aws dynamodb create-table \\ --endpoint-url http://localhost:8000 \\ --table-name testTable \\ --attribute-definitions \\ AttributeName=hash_key_attribute_name,AttributeType=S \\ AttributeName=range_key_attribute_name,AttributeType=S \\ --key-schema \\ AttributeName=hash_key_attribute_name,KeyType=HASH \\ AttributeName=range_key_attribute_name,KeyType=RANGE \\ --provisioned-throughput \\ ReadCapacityUnits=5,WriteCapacityUnits=5 { \u0026#34;TableDescription\u0026#34;: { \u0026#34;TableArn\u0026#34;: \u0026#34;arn:aws:dynamodb:ddblocal:000000000000:table/testTable\u0026#34;, \u0026#34;AttributeDefinitions\u0026#34;: [ { \u0026#34;AttributeName\u0026#34;: \u0026#34;hash_key_attribute_name\u0026#34;, \u0026#34;AttributeType\u0026#34;: \u0026#34;S\u0026#34; }, { \u0026#34;AttributeName\u0026#34;: \u0026#34;range_key_attribute_name\u0026#34;, \u0026#34;AttributeType\u0026#34;: \u0026#34;S\u0026#34; } ], \u0026#34;ProvisionedThroughput\u0026#34;: { \u0026#34;NumberOfDecreasesToday\u0026#34;: 0, \u0026#34;WriteCapacityUnits\u0026#34;: 5, \u0026#34;LastIncreaseDateTime\u0026#34;: 0.0, \u0026#34;ReadCapacityUnits\u0026#34;: 5, \u0026#34;LastDecreaseDateTime\u0026#34;: 0.0 }, \u0026#34;TableSizeBytes\u0026#34;: 0, \u0026#34;TableName\u0026#34;: \u0026#34;testTable\u0026#34;, \u0026#34;TableStatus\u0026#34;: \u0026#34;ACTIVE\u0026#34;, \u0026#34;KeySchema\u0026#34;: [ { \u0026#34;KeyType\u0026#34;: \u0026#34;HASH\u0026#34;, \u0026#34;AttributeName\u0026#34;: \u0026#34;hash_key_attribute_name\u0026#34; }, { \u0026#34;KeyType\u0026#34;: \u0026#34;RANGE\u0026#34;, \u0026#34;AttributeName\u0026#34;: \u0026#34;range_key_attribute_name\u0026#34; } ], \u0026#34;ItemCount\u0026#34;: 0, \u0026#34;CreationDateTime\u0026#34;: 1492755625.133 } } ãƒ†ãƒ¼ãƒ–ãƒ«ãƒªã‚¹ãƒˆã‚’è¡¨ç¤º 1 2 3 4 5 6 $ aws dynamodb list-tables --endpoint-url http://localhost:8000 { \u0026#34;TableNames\u0026#34;: [ \u0026#34;testTable\u0026#34; ] } ã§ããŸã€‚\n","permalink":"https://techteco.github.io/2017/04/22/dynamodb-local-setup/","tags":["DynamoDB","AWS CLI"],"title":"DynamoDBãƒ­ãƒ¼ã‚«ãƒ«ã‚’ä½¿ã£ã¦ã¿ã‚‹"},{"categories":["AWS"],"content":"å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ AWS CLI Command Reference AWS CLI ã‚³ãƒãƒ³ãƒ‰ã®å®Ÿè¡Œ é »åº¦ã¨ã‹ãƒ•ã‚¡ã‚¤ãƒ«æ•°ã«ã‚‚ã‚ˆã‚‹ã‘ã©ã€ã¨ã‚Šã‚ãˆãšã–ã£ãã‚Šå…¨ã‚¯ãƒªã‚¢ã€‚\nXXXXXXXXXXXXXXã¯distribution-idã€ç¢ºèªæ–¹æ³•ã¯ã“ã¡ã‚‰ã§ã€‚ 1 $ aws cloudfront list-distributions 1 2 3 4 5 6 7 8 9 10 11 12 13 $ aws cloudfront create-invalidation --distribution-id XXXXXXXXXXXXXX --paths \u0026#39;/*\u0026#39; AWS CLI support for this service is only available in a preview stage. However, if you\u0026#39;d like to use the \u0026#34;aws cloudfront\u0026#34; commands with the AWS CLI, you can enable this service by adding the following to your CLI config file: [preview] cloudfront=true or by running: aws configure set preview.cloudfront true ãªã‚“ã‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§ãŸã®ã§æŒ‡ç¤ºã©ãŠã‚Šå®Ÿè¡Œ\n1 $ aws configure set preview.cloudfront true 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 $ aws cloudfront create-invalidation --distribution-id XXXXXXXXXXXXXX --paths \u0026#39;/*\u0026#39; { \u0026#34;Invalidation\u0026#34;: { \u0026#34;Status\u0026#34;: \u0026#34;InProgress\u0026#34;, \u0026#34;InvalidationBatch\u0026#34;: { \u0026#34;Paths\u0026#34;: { \u0026#34;Items\u0026#34;: [ \u0026#34;/*\u0026#34; ], \u0026#34;Quantity\u0026#34;: 1 }, \u0026#34;CallerReference\u0026#34;: \u0026#34;cli-XXXXXXXXXXXX-XXXXX\u0026#34; }, \u0026#34;Id\u0026#34;: \u0026#34;XXXXXXXXXXXXXX\u0026#34;, \u0026#34;CreateTime\u0026#34;: \u0026#34;2017-04-09T01:54:42.985Z\u0026#34; }, \u0026#34;Location\u0026#34;: \u0026#34;https://cloudfront.amazonaws.com/2016-11-25/distribution/E3L5CA48AGLO7U/invalidation/I2BB6FIQJYY9GS\u0026#34; } ","permalink":"https://techteco.github.io/2017/04/09/cloudfront-create-invalidation/","tags":["AWS CLI","CloudFront"],"title":"AWS CLIã§Cloudfrontã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¯ãƒªã‚¢"},{"categories":["Server"],"content":"ã‚ªãƒ¬ã‚ªãƒ¬SSLè¨¼æ˜æ›¸ æƒ…å ±ã¯ã‚°ã‚°ã‚Œã°æ²¢å±±ã§ã¦ãã‚‹ã®ã§å‰²æ„›ã€‚ä¹…ã€…ã«ã¤ãã‚‹æ©Ÿä¼šãŒã‚ã£ãŸã®ã§æ‰‹é †ã‚’è‡ªåˆ†ç”¨ã«ãƒ¡ãƒ¢ã€‚\nç§˜å¯†éµã®ä½œæˆ 1 2 3 4 5 6 7 8 $ openssl genrsa -aes256 -out ./server.key 2048 Generating RSA private key, 2048 bit long modulus ..............................................................+++ .......+++ unable to write \u0026#39;random state\u0026#39; e is 65537 (0x10001) Enter pass phrase for ./server.key: Verifying - Enter pass phrase for ./server.key: CSRã®ä½œæˆ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 $ openssl req -new -sha256 -key ./server.key -out ./server.csr Enter pass phrase for ./server.key: You are about to be asked to enter information that will be incorporated into your certificate request. What you are about to enter is what is called a Distinguished Name or a DN. There are quite a few fields but you can leave some blank For some fields there will be a default value, If you enter \u0026#39;.\u0026#39;, the field will be left blank. ----- Country Name (2 letter code) [AU]:JP State or Province Name (full name) [Some-State]:TOKYO Locality Name (eg, city) []:MINATO-KU Organization Name (eg, company) [Internet Widgits Pty Ltd]:COMPANY Organizational Unit Name (eg, section) []:DEV Common Name (e.g. server FQDN or YOUR name) []:*.local.com Email Address []: Please enter the following \u0026#39;extra\u0026#39; attributes to be sent with your certificate request A challenge password []: An optional company name []: CRTä½œæˆ 1 $ openssl x509 -in ./server.csr -days 3650 -req -signkey ./server.key \u0026gt; ./server.crt ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰è§£é™¤ 1 2 $ cp ./server.key ./server.key.org $ openssl rsa -in ./server.key.org -out ./server.key ","permalink":"https://techteco.github.io/2017/03/08/oreoressl/","tags":["ssl","openssl"],"title":"ã‚ªãƒ¬ã‚ªãƒ¬SSLè¨¼æ˜æ›¸"},{"categories":["PHP"],"content":"Lumenã¨ã¯ Limenã®ã‚ªãƒ•ã‚£ã‚·ãƒ£ãƒ«ãƒšãƒ¼ã‚¸ The stunningly fast micro-framework by Laravel.\nç›´è¨³ã™ã‚‹ã¨ã€\u0026ldquo;Laravelã«ã‚ˆã‚‹ã»ã©ã‚ãã»ã©é«˜é€Ÿãªãƒã‚¤ã‚¯ãƒ­ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯\u0026quot;ã£ã¦ã“ã¨ã§ã™ã­ã€‚\nç¾æ™‚ç‚¹ï¼ˆ2017å¹´2æœˆ14æ—¥ï¼‰ã§ã¯ã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³5.4ãŒæœ€æ–°ã®ã‚ˆã†ã§ã™ã€‚Limen Documentation laravel5.2ã¯ä½¿ã£ãŸã‚ã‚‹ã®ã§ã€ãã“ã¾ã§è‹¦åŠ´ã—ãªã„ã§ä½¿ãˆã‚‹ã¯ãšã€‚ã€‚\nLimenã‚’è©¦ã—ã¦ã¿ã‚‹ ã“ã“ã«æ›¸ã„ã¦ã‚ã‚‹ã¨ãŠã‚Šã‚„ã£ã¦ã¿ã‚‹Limen Installation ç’°å¢ƒ mac OS 10.12.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 $ php -v PHP 7.1.1 (cli) (built: Jan 21 2017 13:36:56) ( NTS ) Copyright (c) 1997-2017 The PHP Group Zend Engine v3.1.0, Copyright (c) 1998-2017 Zend Technologies $ composer -V Composer version 1.3.2 2017-01-27 18:23:41 $ openssl version OpenSSL 0.9.8zh 14 Jan 2016 $ php -m | grep -i pdo PDO pdo_mysql PDO_ODBC pdo_sqlite $ php -m | grep -i mbstring mbstring $ Composerã§Lumen installerã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« 1 2 3 4 5 6 7 8 9 10 11 $ composer global require \u0026#34;laravel/lumen-installer\u0026#34; Changed current directory to /Users/hoge/.composer Using version ^1.0 for laravel/lumen-installer ./composer.json has been updated Loading composer repositories with package information Updating dependencies (including require-dev) Package operations: 1 install, 0 updates, 0 removals - Installing laravel/lumen-installer (v1.0.2) Downloading: 100% Writing lock file Generating autoload files $ ã‚µãƒ³ãƒ—ãƒ«ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 $ lumen new lumen_sample Crafting application... Application ready! Build something amazing. $ cd lumen_sample/ $ tree -L 1 . â”œâ”€â”€ app â”œâ”€â”€ artisan â”œâ”€â”€ bootstrap â”œâ”€â”€ composer.json â”œâ”€â”€ composer.lock â”œâ”€â”€ database â”œâ”€â”€ phpunit.xml â”œâ”€â”€ public â”œâ”€â”€ readme.md â”œâ”€â”€ resources â”œâ”€â”€ routes â”œâ”€â”€ storage â”œâ”€â”€ tests â””â”€â”€ vendor 9 directories, 5 files å‹•ä½œç¢ºèª 1 2 3 4 5 6 $ php -S localhost:8000 -t public PHP 7.1.1 Development Server started at Tue Feb 14 12:46:01 2017 Listening on http://localhost:8000 Document root is /document_root/lumen_sample/public Press Ctrl-C to quit. [Tue Feb 14 12:46:16 2017] ::1:53482 [200]: / ãƒ–ãƒ©ã‚¦ã‚¶ã§ä¸‹è¨˜ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹\nhttp://localhost:8000/\nã“ã‚“ãªæ„Ÿã˜ã§è¡¨ç¤ºã•ã‚ŒãŸã‚‰OK\n","permalink":"https://techteco.github.io/2017/02/15/lumen-install/","tags":null,"title":"lumenã‚’è©¦ã—ã¦ã¿ã‚‹"},{"categories":["Server"],"content":"å‰æ ã“ã“ã¾ã§çµ‚ã‚ã£ã¦ã‚‹ã“ã¨\nansibleå®Ÿè¡Œç”¨ã®hostã‚’vagrantã®ansible_localã§è¨­å®š hostã‹ã‚‰ansibleã§centOS 7.2ã®åŸºæœ¬è¨­å®š ã‚„ã‚‹ã“ã¨ ansibleã§sshdã®è¨­å®š ansibleå®Ÿè¡Œã§è¨­å®šåæ˜  sshdã®èµ·å‹•ç¢ºèª 1.ansibleã§sshdã®è¨­å®š ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 $ tree . â”œâ”€â”€ Vagrantfile â”œâ”€â”€ ansible.cfg â””â”€â”€ provision â”œâ”€â”€ development â”œâ”€â”€ group_vars â”‚Â â””â”€â”€ web.yml â”œâ”€â”€ host â”œâ”€â”€ roles â”‚Â â”œâ”€â”€ CentOS7.2 â”‚Â â”‚Â â”œâ”€â”€ handlers â”‚Â â”‚Â â”‚Â â””â”€â”€ main.yml \u0026lt;\u0026lt;\u0026lt;\u0026lt; å¤‰æ›´ â”‚Â â”‚Â â”œâ”€â”€ tasks â”‚Â â”‚Â â”‚Â â”œâ”€â”€ chrony.yml â”‚Â â”‚Â â”‚Â â”œâ”€â”€ env.yml â”‚Â â”‚Â â”‚Â â”œâ”€â”€ locale.yml â”‚Â â”‚Â â”‚Â â”œâ”€â”€ main.yml \u0026lt;\u0026lt;\u0026lt;\u0026lt; å¤‰æ›´ â”‚Â â”‚Â â”‚Â â”œâ”€â”€ selinux.yml â”‚Â â”‚Â â”‚Â â”œâ”€â”€ sshd.yml \u0026lt;\u0026lt;\u0026lt;\u0026lt; è¿½åŠ  â”‚Â â”‚Â â”‚Â â””â”€â”€ yumallupdate.yml â”‚Â â”‚Â â”œâ”€â”€ templates â”‚Â â”‚Â â”‚Â â”œâ”€â”€ alias.sh.j2 â”‚Â â”‚Â â”‚Â â””â”€â”€ chrony.conf.j2 â”‚Â â”‚Â â””â”€â”€ vars â”‚Â â”‚Â â””â”€â”€ main.yml â”‚Â â””â”€â”€ ansible â”‚Â â”œâ”€â”€ tasks â”‚Â â”‚Â â”œâ”€â”€ main.yml â”‚Â â”‚Â â””â”€â”€ ssh.yml â”‚Â â””â”€â”€ templates â”‚Â â””â”€â”€ ssh â”‚Â â””â”€â”€ config.j2 â””â”€â”€ site.yml 12 directories, 20 files å„ãƒ•ã‚¡ã‚¤ãƒ« provision/roles/CentOS7.2/tasks/main.yml 1 2 3 4 5 @@ -6,3 +6,4 @@ - include: chrony.yml - include: env.yml - include: selinux.yml +- include: sshd.yml provision/roles/CentOS7.2/tasks/ssh.yml 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 --- # file: ./CentOS7.2/tasks/sshd.yml - block: - name: check existing sshd_config backup file stat: path: /etc/ssh/sshd_config.bk register: sshd_config_bkup - debug: var=sshd_config_bkup - name: copy sshd_config to bk command: cp /etc/ssh/sshd_config /etc/ssh/sshd_config.bk when: sshd_config_bkup.stat.exists == False - name: modify sshd_config lineinfile: dest: /etc/ssh/sshd_config state: present backrefs: yes regexp: \u0026#39;{{ item.regexp }}\u0026#39; line: \u0026#39;{{ item.line }}\u0026#39; with_items: - regexp: \u0026#39;^#?\\s*Port\u0026#39; line: \u0026#39;Port {{ ansible_port }}\u0026#39; - regexp: \u0026#39;^#?\\s*PermitRootLogin\u0026#39; line: \u0026#39;PermitRootLogin no\u0026#39; - regexp: \u0026#39;^PasswordAuthentication yes\u0026#39; line: \u0026#39;PasswordAuthentication no\u0026#39; - regexp: \u0026#39;^#?\\s*PubkeyAuthentication\u0026#39; line: \u0026#39;PubkeyAuthentication yes\u0026#39; notify: - restart sshd tags: - construct - ssh - name: check sshd_config changed command: diff /etc/ssh/sshd_config /etc/ssh/sshd_config.bk register: sshd_config_diff ignore_errors: yes - debug: var=sshd_config_diff.stdout_lines become: yes tags: - construct - sshd provision/roles/CentOS7.2/handlers/main.yml 1 2 3 4 5 6 7 8 9 10 11 @@ -8,3 +8,10 @@ name: chronyd state: restarted enabled: yes + + - name: restart sshd + become: yes + service: + name: sshd + state: restarted + enabled: yes ansibleå®Ÿè¡Œã§è¨­å®šåæ˜  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 $ ansible-playbook -i /vagrant/development /vagrant/site.yml PLAY [web] ********************************************************************* TASK [setup] ******************************************************************* ok: [192.168.52.52] TASK [CentOS7.2 : yum update all] ********************************************** ok: [192.168.52.52] TASK [CentOS7.2 : check CentOS version] **************************************** changed: [192.168.52.52] TASK [CentOS7.2 : set LANG] **************************************************** changed: [192.168.52.52] TASK [CentOS7.2 : set keymap] ************************************************** changed: [192.168.52.52] TASK [CentOS7.2 : set timezone] ************************************************ changed: [192.168.52.52] TASK [CentOS7.2 : install chrony] ********************************************** ok: [192.168.52.52] TASK [CentOS7.2 : start chrony] ************************************************ ok: [192.168.52.52] TASK [CentOS7.2 : copy chrony.conf template] *********************************** ok: [192.168.52.52] TASK [CentOS7.2 : copy /etc/profile.d/alias.sh template] *********************** ok: [192.168.52.52] TASK [CentOS7.2 : install selinux util] **************************************** ok: [192.168.52.52] =\u0026gt; (item=[u\u0026#39;libselinux-python\u0026#39;, u\u0026#39;libselinux-utils\u0026#39;, u\u0026#39;selinux-policy\u0026#39;, u\u0026#39;selinux-policy-targeted\u0026#39;]) TASK [CentOS7.2 : disable selinux] ********************************************* ok: [192.168.52.52] TASK [CentOS7.2 : check existing sshd_config backup file] ********************** ok: [192.168.52.52] TASK [CentOS7.2 : debug] ******************************************************* ok: [192.168.52.52] =\u0026gt; { \u0026#34;sshd_config_bkup\u0026#34;: { \u0026#34;changed\u0026#34;: false, \u0026#34;stat\u0026#34;: { \u0026#34;exists\u0026#34;: false } } } TASK [CentOS7.2 : copy sshd_config to bk] ************************************** changed: [192.168.52.52] TASK [CentOS7.2 : modify sshd_config] ****************************************** changed: [192.168.52.52] =\u0026gt; (item={u\u0026#39;regexp\u0026#39;: u\u0026#39;^#?\\\\s*Port\u0026#39;, u\u0026#39;line\u0026#39;: u\u0026#39;Port 22\u0026#39;}) changed: [192.168.52.52] =\u0026gt; (item={u\u0026#39;regexp\u0026#39;: u\u0026#39;^#?\\\\s*PermitRootLogin\u0026#39;, u\u0026#39;line\u0026#39;: u\u0026#39;PermitRootLogin no\u0026#39;}) changed: [192.168.52.52] =\u0026gt; (item={u\u0026#39;regexp\u0026#39;: u\u0026#39;^PasswordAuthentication yes\u0026#39;, u\u0026#39;line\u0026#39;: u\u0026#39;PasswordAuthentication no\u0026#39;}) changed: [192.168.52.52] =\u0026gt; (item={u\u0026#39;regexp\u0026#39;: u\u0026#39;^#?\\\\s*PubkeyAuthentication\u0026#39;, u\u0026#39;line\u0026#39;: u\u0026#39;PubkeyAuthentication yes\u0026#39;}) TASK [CentOS7.2 : check sshd_config changed] *********************************** fatal: [192.168.52.52]: FAILED! =\u0026gt; {\u0026#34;changed\u0026#34;: true, \u0026#34;cmd\u0026#34;: [\u0026#34;diff\u0026#34;, \u0026#34;/etc/ssh/sshd_config\u0026#34;, \u0026#34;/etc/ssh/sshd_config.bk\u0026#34;], \u0026#34;delta\u0026#34;: \u0026#34;0:00:00.002562\u0026#34;, \u0026#34;end\u0026#34;: \u0026#34;2016-12-08 16:24:22.570969\u0026#34;, \u0026#34;failed\u0026#34;: true, \u0026#34;rc\u0026#34;: 1, \u0026#34;start\u0026#34;: \u0026#34;2016-12-08 16:24:22.568407\u0026#34;, \u0026#34;stderr\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;stdout\u0026#34;: \u0026#34;17c17\\n\u0026lt; Port 22\\n---\\n\u0026gt; #Port 22\\n49c49\\n\u0026lt; PermitRootLogin no\\n---\\n\u0026gt; #PermitRootLogin yes\\n55c55\\n\u0026lt; PubkeyAuthentication yes\\n---\\n\u0026gt; #PubkeyAuthentication yes\\n79c79\\n\u0026lt; PasswordAuthentication no\\n---\\n\u0026gt; PasswordAuthentication yes\u0026#34;, \u0026#34;stdout_lines\u0026#34;: [\u0026#34;17c17\u0026#34;, \u0026#34;\u0026lt; Port 22\u0026#34;, \u0026#34;---\u0026#34;, \u0026#34;\u0026gt; #Port 22\u0026#34;, \u0026#34;49c49\u0026#34;, \u0026#34;\u0026lt; PermitRootLogin no\u0026#34;, \u0026#34;---\u0026#34;, \u0026#34;\u0026gt; #PermitRootLogin yes\u0026#34;, \u0026#34;55c55\u0026#34;, \u0026#34;\u0026lt; PubkeyAuthentication yes\u0026#34;, \u0026#34;---\u0026#34;, \u0026#34;\u0026gt; #PubkeyAuthentication yes\u0026#34;, \u0026#34;79c79\u0026#34;, \u0026#34;\u0026lt; PasswordAuthentication no\u0026#34;, \u0026#34;---\u0026#34;, \u0026#34;\u0026gt; PasswordAuthentication yes\u0026#34;], \u0026#34;warnings\u0026#34;: []} ...ignoring TASK [CentOS7.2 : debug] ******************************************************* ok: [192.168.52.52] =\u0026gt; { \u0026#34;sshd_config_diff.stdout_lines\u0026#34;: [ \u0026#34;17c17\u0026#34;, \u0026#34;\u0026lt; Port 22\u0026#34;, \u0026#34;---\u0026#34;, \u0026#34;\u0026gt; #Port 22\u0026#34;, \u0026#34;49c49\u0026#34;, \u0026#34;\u0026lt; PermitRootLogin no\u0026#34;, \u0026#34;---\u0026#34;, \u0026#34;\u0026gt; #PermitRootLogin yes\u0026#34;, \u0026#34;55c55\u0026#34;, \u0026#34;\u0026lt; PubkeyAuthentication yes\u0026#34;, \u0026#34;---\u0026#34;, \u0026#34;\u0026gt; #PubkeyAuthentication yes\u0026#34;, \u0026#34;79c79\u0026#34;, \u0026#34;\u0026lt; PasswordAuthentication no\u0026#34;, \u0026#34;---\u0026#34;, \u0026#34;\u0026gt; PasswordAuthentication yes\u0026#34; ] } RUNNING HANDLER [CentOS7.2 : restart sshd] ************************************* changed: [192.168.52.52] PLAY RECAP ********************************************************************* 192.168.52.52 : ok=19 changed=7 unreachable=0 failed=0 sshdã®èµ·å‹•ç¢ºèª 1 2 3 4 5 6 7 8 9 10 [vagrant@web ssh]$ systemctl status sshd.service â— sshd.service - OpenSSH server daemon Loaded: loaded (/usr/lib/systemd/system/sshd.service; enabled; vendor preset: enabled) Active: active (running) since æœ¨ 2016-12-08 16:24:22 JST; 48min ago Docs: man:sshd(8) man:sshd_config(5) Main PID: 15539 (sshd) CGroup: /system.slice/sshd.service â””â”€15539 /usr/sbin/sshd -D [vagrant@web ssh]$ ","permalink":"https://techteco.github.io/2016/12/08/ansible-sshd/","tags":["Ansible","sshd"],"title":"ansibleã§sshdã®è¨­å®š"},{"categories":["Server"],"content":" ansibleå®Ÿè¡Œç”¨ã®hostã‚’vagrantã®ansible_localã§è¨­å®š hostã‹ã‚‰ansibleã§centOS 7.2ã®åŸºæœ¬è¨­å®š â† ã“ã“ å‰æ OS X El Capitan(10.11.6)\nVagrant ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿\n1 2 3 $ vagrant version Installed Version: 1.8.7 Latest Version: 1.8.7 VirtualBox ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ â€»å‰å›ã‹ã‚‰ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—\n1 2 $ VBoxManage -version 5.1.10r112026 2.hostã‹ã‚‰ansibleã§centOS 7.2ã®åŸºæœ¬è¨­å®š ansibleã®Best Practices ã‚’å‚è€ƒã«ã€ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆã§æº–å‚™ã™ã‚‹ã€‚\nãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 $ tree . â”œâ”€â”€ Vagrantfile â”œâ”€â”€ ansible.cfg â””â”€â”€ provision â”œâ”€â”€ development â”œâ”€â”€ group_vars â”‚Â â””â”€â”€ web.yml â”œâ”€â”€ host â”œâ”€â”€ roles â”‚Â â”œâ”€â”€ CentOS7.2 â”‚Â â”‚Â â”œâ”€â”€ handlers â”‚Â â”‚Â â”‚Â â””â”€â”€ main.yml â”‚Â â”‚Â â”œâ”€â”€ tasks â”‚Â â”‚Â â”‚Â â”œâ”€â”€ chrony.yml â”‚Â â”‚Â â”‚Â â”œâ”€â”€ env.yml â”‚Â â”‚Â â”‚Â â”œâ”€â”€ locale.yml â”‚Â â”‚Â â”‚Â â”œâ”€â”€ main.yml â”‚Â â”‚Â â”‚Â â”œâ”€â”€ selinux.yml â”‚Â â”‚Â â”‚Â â””â”€â”€ yumallupdate.yml â”‚Â â”‚Â â”œâ”€â”€ templates â”‚Â â”‚Â â”‚Â â”œâ”€â”€ alias.sh.j2 â”‚Â â”‚Â â”‚Â â””â”€â”€ chrony.conf.j2 â”‚Â â”‚Â â””â”€â”€ vars â”‚Â â”‚Â â””â”€â”€ main.yml â”‚Â â””â”€â”€ ansible â”‚Â â”œâ”€â”€ tasks â”‚Â â”‚Â â”œâ”€â”€ main.yml â”‚Â â”‚Â â””â”€â”€ ssh.yml â”‚Â â””â”€â”€ templates â”‚Â â””â”€â”€ ssh â”‚Â â””â”€â”€ config.j2 â”œâ”€â”€ site.retry â””â”€â”€ site.yml 12 directories, 20 files å„ãƒ•ã‚¡ã‚¤ãƒ« Vagrantfile 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 # -*- mode: ruby -*- # vi: set ft=ruby : # All Vagrant configuration is done below. The \u0026#34;2\u0026#34; in Vagrant.configure # configures the configuration version (we support older styles for # backwards compatibility). Please don\u0026#39;t change it unless you know what # you\u0026#39;re doing. Vagrant.configure(\u0026#34;2\u0026#34;) do |config| config.vm.define \u0026#34;web\u0026#34; do |node| node.vm.box = \u0026#34;bento/centos-7.2\u0026#34; node.vm.hostname = \u0026#34;web\u0026#34; node.vm.network :private_network, ip: \u0026#34;192.168.52.52\u0026#34; end config.vm.define \u0026#34;host\u0026#34; do |node| node.vm.box = \u0026#34;bento/centos-7.2\u0026#34; node.vm.hostname = \u0026#34;host\u0026#34; node.vm.network :private_network, ip: \u0026#34;192.168.52.51\u0026#34; node.vm.synced_folder \u0026#34;./provision\u0026#34;, \u0026#34;/vagrant\u0026#34;, owner: \u0026#34;vagrant\u0026#34;, group: \u0026#34;vagrant\u0026#34;, mount_options: [\u0026#34;dmode=775\u0026#34;] # Run Ansible from the Vagrant VM node.vm.provision :ansible_local do |ansible| ansible.playbook = \u0026#34;site.yml\u0026#34; ansible.verbose = true ansible.install = true ansible.install_mode = :default ansible.limit = \u0026#34;host\u0026#34; # or only \u0026#34;nodes\u0026#34; group, etc. ansible.inventory_path = \u0026#34;host\u0026#34; end end end ansible.cfg å¤‰æ›´ãªã—\n1 2 3 4 5 [defaults] host_key_checking = no [ssh_connection] ssh_args = -o ControlMaster=auto -o ControlPersist=60s -o UserKnownHostsFile=/dev/null -o IdentitiesOnly=yes inventory provision/inventory â†’ provision/host 1 2 # host inventory host ansible_connection=local provision/development 1 2 3 4 # development Inventory [web] 192.168.52.52 playbook provision/site.yml 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 # file: site.yml # --------------- # host # --------------- - hosts: host gather_facts: yes roles: - CentOS7.2 - ansible # --------------- - hosts: web gather_facts: yes roles: - CentOS7.2 vars provision/group_vars/web.yml 1 2 3 4 5 6 7 8 9 10 11 12 --- # file: group_vars/web.yml ansible_port: 22 iptables: accept_tcp_rules: - { port: 22 } - { port: 80 } - { port: 88 } - { port: 443 } - { port: 3306 } roles provision/roles/ansible/tasks main.yml 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 --- # file: ./ansible/tasks/ssh.yml - block: - name: ssh config template: src: ssh/config.j2 dest: /home/vagrant/.ssh/config owner: vagrant group: vagrant mode: 0600 - name: check existing id_rsa stat: path: /home/vagrant/.ssh/id_rsa register: id_rsa - debug: var=id_rsa - name: Generate SSH keys shell: ssh-keygen -b 2048 -t rsa -f /home/vagrant/.ssh/id_rsa -q -N \u0026#34;\u0026#34; args: creates: /home/vagrant/.ssh/id_rsa when: id_rsa.stat.exists == False - name: copy ssh keys shell: sshpass -p \u0026#39;vagrant\u0026#39; ssh-copy-id -i /home/vagrant/.ssh/id_rsa.pub vagrant@{{ item }} with_items: - 192.168.52.52 # front - name: check ssh shell: \u0026#34;ansible -i /vagrant/development {{ item }} -m ping\u0026#34; with_items: - 192.168.52.52 # front become: yes become_user: vagrant tags: ansible provision/roles/ansible/templates ssh/config.j2 1 2 3 # {{ ansible_managed }} # ~/.ssh/config StrictHostKeyChecking no provision/roles/CentOS7.2/tasks main.yml 1 2 3 4 5 6 7 8 --- # file: ./CentOS7.2/tasks/main.yml - include: yumallupdate.yml - include: locale.yml - include: chrony.yml - include: env.yml - include: selinux.yml yumallupdate.yml 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 --- # file: ./CentOS7.2/tasks/yumallupdate.yml - block: - name: yum update all yum: name=* state=latest update_cache=yes - name: check CentOS version command: cat /etc/redhat-release become: yes tags: - construct - yumallupdate locale.yml 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 --- # file: ./CentOS7.2/tasks/locale.yml - block: - name: set LANG command: localectl set-locale LANG=\u0026#34;{{ locale }}\u0026#34; - name: set keymap command: localectl set-keymap \u0026#34;{{ keymap }}\u0026#34; - name: set timezone command: timedatectl set-timezone \u0026#34;{{ timezone }}\u0026#34; become: yes tags: - construct - locale chrony.yml 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 --- # file: ./CentOS7.2/tasks/chrony.yml - block: - name: install chrony yum: name: chrony state: present - name: start chrony service: name: chronyd state: started enabled: yes - name: copy chrony.conf template template: src: chrony.conf.j2 dest: /etc/chrony.conf owner: root group: root mode: 0644 notify: - restart chronyd become: yes tags: - construct - chrony env.yml 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 --- # file: ./CentOS7.2/tasks/env.yml - block: - name: copy /etc/profile.d/alias.sh template template: src: alias.sh.j2 dest: /etc/profile.d/alias.sh owner: root group: root mode: 0644 become: yes tags: - construct - env selinux.yml 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 --- # file: ./CentOS7.2/tasks/selinux.yml - block: - name: install selinux util yum: name: \u0026#34;{{ item }}\u0026#34; state: present with_items: - libselinux-python - libselinux-utils - selinux-policy - selinux-policy-targeted - name: disable selinux selinux: state: disabled become: yes tags: - construct - selinux provision/roles/CentOS7.2/handlers main.yml 1 2 3 4 5 6 7 8 9 10 --- # file: ./CentOS7.2/handlers/main.yml - block: - name: restart chronyd become: yes service: name: chronyd state: restarted enabled: yes provision/roles/CentOS7.2/templates alias.sh.j2 1 2 3 4 5 6 --- # {{ ansible_managed }} # /etc/profile.d/alias.sh alias ls=\u0026#34;ls -G\u0026#34; alias ll=\u0026#34;ls -lG\u0026#34; alias la=\u0026#34;ls -laG\u0026#34; chrony.conf.j2 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 --- # {{ ansible_managed }} # Use public servers from the pool.ntp.org project. # Please consider joining the pool (http://www.pool.ntp.org/join.html). server ntp.nict.jp iburst server ntp1.jst.mfeed.ad.jp iburst server ntp2.jst.mfeed.ad.jp iburst server ntp3.jst.mfeed.ad.jp iburst # Ignore stratum in source selection. stratumweight 0 # Record the rate at which the system clock gains/losses time. driftfile /var/lib/chrony/drift # Enable kernel RTC synchronization. rtcsync # In first three updates step the system clock instead of slew # if the adjustment is larger than 10 seconds. makestep 10 3 # Allow NTP client access from local network. #allow 192.168/16 # Listen for commands only on localhost. bindcmdaddress 127.0.0.1 bindcmdaddress ::1 # Serve time even if not synchronized to any NTP server. #local stratum 10 keyfile /etc/chrony.keys # Specify the key used as password for chronyc. commandkey 1 # Generate command key if missing. generatecommandkey # Disable logging of client accesses. noclientlog # Send a message to syslog if a clock adjustment is larger than 0.5 seconds. logchange 0.5 logdir /var/log/chrony #log measurements statistics tracking provision/roles/CentOS7.2/vars main.yml 1 2 3 4 5 --- # file: ./CentOS7.2/vars/main.yml locale: ja_JP.UTF-8 keymap: jp106 timezone: Asia/Tokyo vagrantã®å®Ÿè¡Œ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 234 235 236 237 238 239 240 241 242 243 244 245 246 247 248 249 250 251 252 253 254 255 256 257 258 259 260 261 262 263 264 265 266 267 268 269 270 271 272 273 274 275 276 277 278 279 280 281 282 283 284 285 286 287 288 289 290 291 292 293 294 295 296 297 298 299 300 301 302 303 304 305 306 307 308 309 310 311 312 313 314 315 316 317 318 319 320 321 322 323 324 325 326 327 328 329 330 331 332 333 334 335 336 337 338 339 340 341 342 343 344 345 346 347 348 349 350 351 352 353 354 355 356 357 358 359 360 361 362 363 364 365 366 367 368 369 370 371 372 373 374 375 376 377 378 379 380 381 382 383 384 385 386 387 388 389 390 391 392 393 394 395 396 397 398 399 400 401 402 403 404 405 406 407 408 409 410 411 412 413 414 415 416 417 418 419 420 421 422 423 424 425 426 427 428 429 430 431 432 433 434 435 436 437 438 439 440 441 442 443 444 445 446 447 448 449 450 451 452 453 454 455 456 457 458 459 460 461 462 463 464 465 466 467 468 469 470 471 472 473 474 475 476 477 478 479 480 481 482 483 484 485 486 487 488 489 490 491 492 493 494 495 496 497 498 499 500 501 502 503 504 505 506 507 508 509 510 511 512 513 514 515 516 517 518 519 520 521 522 523 524 525 526 527 528 529 530 531 532 533 534 535 536 537 538 539 540 541 542 543 544 545 546 547 548 549 550 551 552 553 554 555 556 557 558 559 560 561 562 563 564 565 566 567 568 569 570 571 572 573 574 575 576 577 578 579 580 581 582 583 584 585 586 587 588 589 590 591 592 593 594 595 596 597 598 599 600 601 602 603 604 605 606 607 608 609 610 611 612 613 614 615 616 617 618 619 620 621 622 623 624 625 626 627 628 629 630 631 632 633 634 635 636 637 638 639 640 641 642 643 644 645 646 647 648 649 650 651 652 653 654 655 656 657 658 659 660 661 662 663 664 665 666 667 668 669 670 671 672 673 674 675 676 677 678 679 680 681 682 683 684 685 686 687 688 689 690 691 692 693 694 695 696 697 698 699 700 701 702 703 704 705 706 707 708 709 710 711 712 713 714 715 716 717 718 719 720 721 722 723 724 725 726 727 728 $ vagrant up --provision Bringing machine \u0026#39;web\u0026#39; up with \u0026#39;virtualbox\u0026#39; provider... Bringing machine \u0026#39;host\u0026#39; up with \u0026#39;virtualbox\u0026#39; provider... ==\u0026gt; web: Importing base box \u0026#39;bento/centos-7.2\u0026#39;... ==\u0026gt; web: Matching MAC address for NAT networking... ==\u0026gt; web: Checking if box \u0026#39;bento/centos-7.2\u0026#39; is up to date... ==\u0026gt; web: Setting the name of the VM: vagrant_web_1480400603229_26813 ==\u0026gt; web: Clearing any previously set network interfaces... ==\u0026gt; web: Preparing network interfaces based on configuration... web: Adapter 1: nat web: Adapter 2: hostonly ==\u0026gt; web: Forwarding ports... web: 22 (guest) =\u0026gt; 2222 (host) (adapter 1) ==\u0026gt; web: Booting VM... ==\u0026gt; web: Waiting for machine to boot. This may take a few minutes... web: SSH address: 127.0.0.1:2222 web: SSH username: vagrant web: SSH auth method: private key web: Warning: Remote connection disconnect. Retrying... web: Warning: Remote connection disconnect. Retrying... web: Warning: Remote connection disconnect. Retrying... web: web: Vagrant insecure key detected. Vagrant will automatically replace web: this with a newly generated keypair for better security. web: web: Inserting generated public key within guest... web: Removing insecure key from the guest if it\u0026#39;s present... web: Key inserted! Disconnecting and reconnecting using new SSH key... ==\u0026gt; web: Machine booted and ready! [web] GuestAdditions versions on your host (5.1.10) and guest (5.1.6) do not match. Loaded plugins: fastestmirror Determining fastest mirrors * base: ftp.riken.jp * extras: ftp.riken.jp * updates: ftp.riken.jp Package binutils-2.23.52.0.1-55.el7.x86_64 already installed and latest version Package 1:make-3.82-21.el7.x86_64 already installed and latest version Package bzip2-1.0.6-13.el7.x86_64 already installed and latest version Resolving Dependencies --\u0026gt; Running transaction check ---\u0026gt; Package gcc.x86_64 0:4.8.5-4.el7 will be installed --\u0026gt; Processing Dependency: cpp = 4.8.5-4.el7 for package: gcc-4.8.5-4.el7.x86_64 --\u0026gt; Processing Dependency: glibc-devel \u0026gt;= 2.2.90-12 for package: gcc-4.8.5-4.el7.x86_64 ---\u0026gt; Package kernel-devel.x86_64 0:3.10.0-327.el7 will be installed ---\u0026gt; Package perl.x86_64 4:5.16.3-286.el7 will be installed --\u0026gt; Processing Dependency: perl-libs = 4:5.16.3-286.el7 for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(Socket) \u0026gt;= 1.3 for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(Scalar::Util) \u0026gt;= 1.10 for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl-macros for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl-libs for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(threads::shared) for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(threads) for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(constant) for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(Time::Local) for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(Time::HiRes) for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(Storable) for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(Socket) for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(Scalar::Util) for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(Pod::Simple::XHTML) for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(Pod::Simple::Search) for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(Getopt::Long) for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(Filter::Util::Call) for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(File::Temp) for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(File::Spec::Unix) for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(File::Spec::Functions) for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(File::Spec) for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(File::Path) for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(Exporter) for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(Cwd) for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(Carp) for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: libperl.so()(64bit) for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Running transaction check ---\u0026gt; Package cpp.x86_64 0:4.8.5-4.el7 will be installed ---\u0026gt; Package glibc-devel.x86_64 0:2.17-106.el7_2.8 will be installed --\u0026gt; Processing Dependency: glibc-headers = 2.17-106.el7_2.8 for package: glibc-devel-2.17-106.el7_2.8.x86_64 --\u0026gt; Processing Dependency: glibc = 2.17-106.el7_2.8 for package: glibc-devel-2.17-106.el7_2.8.x86_64 --\u0026gt; Processing Dependency: glibc-headers for package: glibc-devel-2.17-106.el7_2.8.x86_64 ---\u0026gt; Package perl-Carp.noarch 0:1.26-244.el7 will be installed ---\u0026gt; Package perl-Exporter.noarch 0:5.68-3.el7 will be installed ---\u0026gt; Package perl-File-Path.noarch 0:2.09-2.el7 will be installed ---\u0026gt; Package perl-File-Temp.noarch 0:0.23.01-3.el7 will be installed ---\u0026gt; Package perl-Filter.x86_64 0:1.49-3.el7 will be installed ---\u0026gt; Package perl-Getopt-Long.noarch 0:2.40-2.el7 will be installed --\u0026gt; Processing Dependency: perl(Pod::Usage) \u0026gt;= 1.14 for package: perl-Getopt-Long-2.40-2.el7.noarch --\u0026gt; Processing Dependency: perl(Text::ParseWords) for package: perl-Getopt-Long-2.40-2.el7.noarch ---\u0026gt; Package perl-PathTools.x86_64 0:3.40-5.el7 will be installed ---\u0026gt; Package perl-Pod-Simple.noarch 1:3.28-4.el7 will be installed --\u0026gt; Processing Dependency: perl(Pod::Escapes) \u0026gt;= 1.04 for package: 1:perl-Pod-Simple-3.28-4.el7.noarch --\u0026gt; Processing Dependency: perl(Encode) for package: 1:perl-Pod-Simple-3.28-4.el7.noarch ---\u0026gt; Package perl-Scalar-List-Utils.x86_64 0:1.27-248.el7 will be installed ---\u0026gt; Package perl-Socket.x86_64 0:2.010-3.el7 will be installed ---\u0026gt; Package perl-Storable.x86_64 0:2.45-3.el7 will be installed ---\u0026gt; Package perl-Time-HiRes.x86_64 4:1.9725-3.el7 will be installed ---\u0026gt; Package perl-Time-Local.noarch 0:1.2300-2.el7 will be installed ---\u0026gt; Package perl-constant.noarch 0:1.27-2.el7 will be installed ---\u0026gt; Package perl-libs.x86_64 4:5.16.3-286.el7 will be installed ---\u0026gt; Package perl-macros.x86_64 4:5.16.3-286.el7 will be installed ---\u0026gt; Package perl-threads.x86_64 0:1.87-4.el7 will be installed ---\u0026gt; Package perl-threads-shared.x86_64 0:1.43-6.el7 will be installed --\u0026gt; Running transaction check ---\u0026gt; Package glibc.x86_64 0:2.17-105.el7 will be updated --\u0026gt; Processing Dependency: glibc = 2.17-105.el7 for package: glibc-common-2.17-105.el7.x86_64 ---\u0026gt; Package glibc.x86_64 0:2.17-106.el7_2.8 will be an update ---\u0026gt; Package glibc-headers.x86_64 0:2.17-106.el7_2.8 will be installed --\u0026gt; Processing Dependency: kernel-headers \u0026gt;= 2.2.1 for package: glibc-headers-2.17-106.el7_2.8.x86_64 --\u0026gt; Processing Dependency: kernel-headers for package: glibc-headers-2.17-106.el7_2.8.x86_64 ---\u0026gt; Package perl-Encode.x86_64 0:2.51-7.el7 will be installed ---\u0026gt; Package perl-Pod-Escapes.noarch 1:1.04-286.el7 will be installed ---\u0026gt; Package perl-Pod-Usage.noarch 0:1.63-3.el7 will be installed --\u0026gt; Processing Dependency: perl(Pod::Text) \u0026gt;= 3.15 for package: perl-Pod-Usage-1.63-3.el7.noarch --\u0026gt; Processing Dependency: perl-Pod-Perldoc for package: perl-Pod-Usage-1.63-3.el7.noarch ---\u0026gt; Package perl-Text-ParseWords.noarch 0:3.29-4.el7 will be installed --\u0026gt; Running transaction check ---\u0026gt; Package glibc-common.x86_64 0:2.17-105.el7 will be updated ---\u0026gt; Package glibc-common.x86_64 0:2.17-106.el7_2.8 will be an update ---\u0026gt; Package kernel-headers.x86_64 0:3.10.0-327.36.3.el7 will be installed ---\u0026gt; Package perl-Pod-Perldoc.noarch 0:3.20-4.el7 will be installed --\u0026gt; Processing Dependency: perl(parent) for package: perl-Pod-Perldoc-3.20-4.el7.noarch --\u0026gt; Processing Dependency: perl(HTTP::Tiny) for package: perl-Pod-Perldoc-3.20-4.el7.noarch ---\u0026gt; Package perl-podlators.noarch 0:2.5.1-3.el7 will be installed --\u0026gt; Running transaction check ---\u0026gt; Package perl-HTTP-Tiny.noarch 0:0.033-3.el7 will be installed ---\u0026gt; Package perl-parent.noarch 1:0.225-244.el7 will be installed --\u0026gt; Finished Dependency Resolution Dependencies Resolved ================================================================================ Package Arch Version Repository Size ================================================================================ Installing: gcc x86_64 4.8.5-4.el7 base 16 M kernel-devel x86_64 3.10.0-327.el7 base 11 M perl x86_64 4:5.16.3-286.el7 base 8.0 M Installing for dependencies: cpp x86_64 4.8.5-4.el7 base 5.9 M glibc-devel x86_64 2.17-106.el7_2.8 updates 1.0 M glibc-headers x86_64 2.17-106.el7_2.8 updates 663 k kernel-headers x86_64 3.10.0-327.36.3.el7 updates 3.2 M perl-Carp noarch 1.26-244.el7 base 19 k perl-Encode x86_64 2.51-7.el7 base 1.5 M perl-Exporter noarch 5.68-3.el7 base 28 k perl-File-Path noarch 2.09-2.el7 base 26 k perl-File-Temp noarch 0.23.01-3.el7 base 56 k perl-Filter x86_64 1.49-3.el7 base 76 k perl-Getopt-Long noarch 2.40-2.el7 base 56 k perl-HTTP-Tiny noarch 0.033-3.el7 base 38 k perl-PathTools x86_64 3.40-5.el7 base 82 k perl-Pod-Escapes noarch 1:1.04-286.el7 base 50 k perl-Pod-Perldoc noarch 3.20-4.el7 base 87 k perl-Pod-Simple noarch 1:3.28-4.el7 base 216 k perl-Pod-Usage noarch 1.63-3.el7 base 27 k perl-Scalar-List-Utils x86_64 1.27-248.el7 base 36 k perl-Socket x86_64 2.010-3.el7 base 49 k perl-Storable x86_64 2.45-3.el7 base 77 k perl-Text-ParseWords noarch 3.29-4.el7 base 14 k perl-Time-HiRes x86_64 4:1.9725-3.el7 base 45 k perl-Time-Local noarch 1.2300-2.el7 base 24 k perl-constant noarch 1.27-2.el7 base 19 k perl-libs x86_64 4:5.16.3-286.el7 base 687 k perl-macros x86_64 4:5.16.3-286.el7 base 43 k perl-parent noarch 1:0.225-244.el7 base 12 k perl-podlators noarch 2.5.1-3.el7 base 112 k perl-threads x86_64 1.87-4.el7 base 49 k perl-threads-shared x86_64 1.43-6.el7 base 39 k Updating for dependencies: glibc x86_64 2.17-106.el7_2.8 updates 3.6 M glibc-common x86_64 2.17-106.el7_2.8 updates 11 M Transaction Summary ================================================================================ Install 3 Packages (+30 Dependent packages) Upgrade ( 2 Dependent packages) Total download size: 64 M Downloading packages: Delta RPMs disabled because /usr/bin/applydeltarpm not installed. warning: /var/cache/yum/x86_64/7/updates/packages/glibc-devel-2.17-106.el7_2.8.x86_64.rpm: Header V3 RSA/SHA256 Signature, key ID f4a80eb5: NOKEY Public key for glibc-devel-2.17-106.el7_2.8.x86_64.rpm is not installed Public key for cpp-4.8.5-4.el7.x86_64.rpm is not installed -------------------------------------------------------------------------------- Total 3.8 MB/s | 64 MB 00:16 Retrieving key from file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7 Importing GPG key 0xF4A80EB5: Userid : \u0026#34;CentOS-7 Key (CentOS 7 Official Signing Key) \u0026lt;security@centos.org\u0026gt;\u0026#34; Fingerprint: 6341 ab27 53d7 8a78 a7c2 7bb1 24c6 a8a7 f4a8 0eb5 Package : centos-release-7-2.1511.el7.centos.2.10.x86_64 (@anaconda) From : /etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7 Running transaction check Running transaction test Transaction test succeeded Running transaction Warning: RPMDB altered outside of yum. Updating : glibc-2.17-106.el7_2.8.x86_64 1/37 Updating : glibc-common-2.17-106.el7_2.8.x86_64 2/37 Installing : 1:perl-parent-0.225-244.el7.noarch 3/37 Installing : perl-HTTP-Tiny-0.033-3.el7.noarch 4/37 Installing : perl-podlators-2.5.1-3.el7.noarch 5/37 Installing : perl-Pod-Perldoc-3.20-4.el7.noarch 6/37 Installing : 1:perl-Pod-Escapes-1.04-286.el7.noarch 7/37 Installing : perl-Text-ParseWords-3.29-4.el7.noarch 8/37 Installing : perl-Encode-2.51-7.el7.x86_64 9/37 Installing : perl-Pod-Usage-1.63-3.el7.noarch 10/37 Installing : 4:perl-libs-5.16.3-286.el7.x86_64 11/37 Installing : 4:perl-macros-5.16.3-286.el7.x86_64 12/37 Installing : perl-Storable-2.45-3.el7.x86_64 13/37 Installing : perl-Exporter-5.68-3.el7.noarch 14/37 Installing : perl-constant-1.27-2.el7.noarch 15/37 Installing : perl-Time-Local-1.2300-2.el7.noarch 16/37 Installing : perl-Socket-2.010-3.el7.x86_64 17/37 Installing : perl-Carp-1.26-244.el7.noarch 18/37 Installing : 4:perl-Time-HiRes-1.9725-3.el7.x86_64 19/37 Installing : perl-PathTools-3.40-5.el7.x86_64 20/37 Installing : perl-Scalar-List-Utils-1.27-248.el7.x86_64 21/37 Installing : perl-File-Temp-0.23.01-3.el7.noarch 22/37 Installing : perl-File-Path-2.09-2.el7.noarch 23/37 Installing : perl-threads-shared-1.43-6.el7.x86_64 24/37 Installing : perl-threads-1.87-4.el7.x86_64 25/37 Installing : perl-Filter-1.49-3.el7.x86_64 26/37 Installing : 1:perl-Pod-Simple-3.28-4.el7.noarch 27/37 Installing : perl-Getopt-Long-2.40-2.el7.noarch 28/37 Installing : 4:perl-5.16.3-286.el7.x86_64 29/37 Installing : cpp-4.8.5-4.el7.x86_64 30/37 Installing : kernel-headers-3.10.0-327.36.3.el7.x86_64 31/37 Installing : glibc-headers-2.17-106.el7_2.8.x86_64 32/37 Installing : glibc-devel-2.17-106.el7_2.8.x86_64 33/37 Installing : gcc-4.8.5-4.el7.x86_64 34/37 Installing : kernel-devel-3.10.0-327.el7.x86_64 35/37 Cleanup : glibc-2.17-105.el7.x86_64 36/37 Cleanup : glibc-common-2.17-105.el7.x86_64 37/37 Verifying : perl-HTTP-Tiny-0.033-3.el7.noarch 1/37 Verifying : gcc-4.8.5-4.el7.x86_64 2/37 Verifying : perl-threads-shared-1.43-6.el7.x86_64 3/37 Verifying : perl-Storable-2.45-3.el7.x86_64 4/37 Verifying : kernel-headers-3.10.0-327.36.3.el7.x86_64 5/37 Verifying : perl-Exporter-5.68-3.el7.noarch 6/37 Verifying : perl-constant-1.27-2.el7.noarch 7/37 Verifying : perl-PathTools-3.40-5.el7.x86_64 8/37 Verifying : 4:perl-libs-5.16.3-286.el7.x86_64 9/37 Verifying : 4:perl-macros-5.16.3-286.el7.x86_64 10/37 Verifying : 1:perl-Pod-Escapes-1.04-286.el7.noarch 11/37 Verifying : 1:perl-parent-0.225-244.el7.noarch 12/37 Verifying : 4:perl-5.16.3-286.el7.x86_64 13/37 Verifying : glibc-devel-2.17-106.el7_2.8.x86_64 14/37 Verifying : perl-File-Temp-0.23.01-3.el7.noarch 15/37 Verifying : 1:perl-Pod-Simple-3.28-4.el7.noarch 16/37 Verifying : glibc-headers-2.17-106.el7_2.8.x86_64 17/37 Verifying : perl-Time-Local-1.2300-2.el7.noarch 18/37 Verifying : glibc-common-2.17-106.el7_2.8.x86_64 19/37 Verifying : perl-Pod-Perldoc-3.20-4.el7.noarch 20/37 Verifying : perl-Socket-2.010-3.el7.x86_64 21/37 Verifying : perl-Carp-1.26-244.el7.noarch 22/37 Verifying : perl-podlators-2.5.1-3.el7.noarch 23/37 Verifying : 4:perl-Time-HiRes-1.9725-3.el7.x86_64 24/37 Verifying : perl-Scalar-List-Utils-1.27-248.el7.x86_64 25/37 Verifying : glibc-2.17-106.el7_2.8.x86_64 26/37 Verifying : perl-Pod-Usage-1.63-3.el7.noarch 27/37 Verifying : perl-Encode-2.51-7.el7.x86_64 28/37 Verifying : perl-Getopt-Long-2.40-2.el7.noarch 29/37 Verifying : kernel-devel-3.10.0-327.el7.x86_64 30/37 Verifying : cpp-4.8.5-4.el7.x86_64 31/37 Verifying : perl-File-Path-2.09-2.el7.noarch 32/37 Verifying : perl-threads-1.87-4.el7.x86_64 33/37 Verifying : perl-Filter-1.49-3.el7.x86_64 34/37 Verifying : perl-Text-ParseWords-3.29-4.el7.noarch 35/37 Verifying : glibc-common-2.17-105.el7.x86_64 36/37 Verifying : glibc-2.17-105.el7.x86_64 37/37 Installed: gcc.x86_64 0:4.8.5-4.el7 kernel-devel.x86_64 0:3.10.0-327.el7 perl.x86_64 4:5.16.3-286.el7 Dependency Installed: cpp.x86_64 0:4.8.5-4.el7 glibc-devel.x86_64 0:2.17-106.el7_2.8 glibc-headers.x86_64 0:2.17-106.el7_2.8 kernel-headers.x86_64 0:3.10.0-327.36.3.el7 perl-Carp.noarch 0:1.26-244.el7 perl-Encode.x86_64 0:2.51-7.el7 perl-Exporter.noarch 0:5.68-3.el7 perl-File-Path.noarch 0:2.09-2.el7 perl-File-Temp.noarch 0:0.23.01-3.el7 perl-Filter.x86_64 0:1.49-3.el7 perl-Getopt-Long.noarch 0:2.40-2.el7 perl-HTTP-Tiny.noarch 0:0.033-3.el7 perl-PathTools.x86_64 0:3.40-5.el7 perl-Pod-Escapes.noarch 1:1.04-286.el7 perl-Pod-Perldoc.noarch 0:3.20-4.el7 perl-Pod-Simple.noarch 1:3.28-4.el7 perl-Pod-Usage.noarch 0:1.63-3.el7 perl-Scalar-List-Utils.x86_64 0:1.27-248.el7 perl-Socket.x86_64 0:2.010-3.el7 perl-Storable.x86_64 0:2.45-3.el7 perl-Text-ParseWords.noarch 0:3.29-4.el7 perl-Time-HiRes.x86_64 4:1.9725-3.el7 perl-Time-Local.noarch 0:1.2300-2.el7 perl-constant.noarch 0:1.27-2.el7 perl-libs.x86_64 4:5.16.3-286.el7 perl-macros.x86_64 4:5.16.3-286.el7 perl-parent.noarch 1:0.225-244.el7 perl-podlators.noarch 0:2.5.1-3.el7 perl-threads.x86_64 0:1.87-4.el7 perl-threads-shared.x86_64 0:1.43-6.el7 Dependency Updated: glibc.x86_64 0:2.17-106.el7_2.8 glibc-common.x86_64 0:2.17-106.el7_2.8 Complete! Copy iso file /Applications/VirtualBox.app/Contents/MacOS/VBoxGuestAdditions.iso into the box /tmp/VBoxGuestAdditions.iso mount: /dev/loop0 is write-protected, mounting read-only Installing Virtualbox Guest Additions 5.1.10 - guest version is 5.1.6 Verifying archive integrity... All good. Uncompressing VirtualBox 5.1.10 Guest Additions for Linux........... VirtualBox Guest Additions installer Removing installed version 5.1.6 of VirtualBox Guest Additions... Copying additional installer modules ... Installing additional modules ... vboxadd.sh: Building Guest Additions kernel modules. vboxadd.sh: You should restart your guest to make sure the new modules are actually used. vboxadd.sh: Starting the VirtualBox Guest Additions. Could not find the X.Org or XFree86 Window System, skipping. ==\u0026gt; web: Checking for guest additions in VM... ==\u0026gt; web: Setting hostname... ==\u0026gt; web: Configuring and enabling network interfaces... ==\u0026gt; web: Mounting shared folders... web: /vagrant =\u0026gt; /Users/XXXXX/development/bitbucket.org/vagrant ==\u0026gt; host: Importing base box \u0026#39;bento/centos-7.2\u0026#39;... ==\u0026gt; host: Matching MAC address for NAT networking... ==\u0026gt; host: Checking if box \u0026#39;bento/centos-7.2\u0026#39; is up to date... ==\u0026gt; host: Setting the name of the VM: vagrant_host_1480400782463_92110 ==\u0026gt; host: Fixed port collision for 22 =\u0026gt; 2222. Now on port 2200. ==\u0026gt; host: Clearing any previously set network interfaces... ==\u0026gt; host: Preparing network interfaces based on configuration... host: Adapter 1: nat host: Adapter 2: hostonly ==\u0026gt; host: Forwarding ports... host: 22 (guest) =\u0026gt; 2200 (host) (adapter 1) ==\u0026gt; host: Booting VM... ==\u0026gt; host: Waiting for machine to boot. This may take a few minutes... host: SSH address: 127.0.0.1:2200 host: SSH username: vagrant host: SSH auth method: private key host: Warning: Remote connection disconnect. Retrying... host: Warning: Remote connection disconnect. Retrying... host: Warning: Remote connection disconnect. Retrying... host: host: Vagrant insecure key detected. Vagrant will automatically replace host: this with a newly generated keypair for better security. host: host: Inserting generated public key within guest... host: Removing insecure key from the guest if it\u0026#39;s present... host: Key inserted! Disconnecting and reconnecting using new SSH key... ==\u0026gt; host: Machine booted and ready! [host] GuestAdditions versions on your host (5.1.10) and guest (5.1.6) do not match. Loaded plugins: fastestmirror Determining fastest mirrors * base: ftp.iij.ad.jp * extras: ftp.iij.ad.jp * updates: ftp.iij.ad.jp Package binutils-2.23.52.0.1-55.el7.x86_64 already installed and latest version Package 1:make-3.82-21.el7.x86_64 already installed and latest version Package bzip2-1.0.6-13.el7.x86_64 already installed and latest version Resolving Dependencies --\u0026gt; Running transaction check ---\u0026gt; Package gcc.x86_64 0:4.8.5-4.el7 will be installed --\u0026gt; Processing Dependency: cpp = 4.8.5-4.el7 for package: gcc-4.8.5-4.el7.x86_64 --\u0026gt; Processing Dependency: glibc-devel \u0026gt;= 2.2.90-12 for package: gcc-4.8.5-4.el7.x86_64 ---\u0026gt; Package kernel-devel.x86_64 0:3.10.0-327.el7 will be installed ---\u0026gt; Package perl.x86_64 4:5.16.3-286.el7 will be installed --\u0026gt; Processing Dependency: perl-libs = 4:5.16.3-286.el7 for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(Socket) \u0026gt;= 1.3 for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(Scalar::Util) \u0026gt;= 1.10 for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl-macros for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl-libs for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(threads::shared) for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(threads) for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(constant) for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(Time::Local) for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(Time::HiRes) for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(Storable) for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(Socket) for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(Scalar::Util) for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(Pod::Simple::XHTML) for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(Pod::Simple::Search) for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(Getopt::Long) for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(Filter::Util::Call) for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(File::Temp) for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(File::Spec::Unix) for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(File::Spec::Functions) for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(File::Spec) for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(File::Path) for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(Exporter) for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(Cwd) for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(Carp) for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: libperl.so()(64bit) for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Running transaction check ---\u0026gt; Package cpp.x86_64 0:4.8.5-4.el7 will be installed ---\u0026gt; Package glibc-devel.x86_64 0:2.17-106.el7_2.8 will be installed --\u0026gt; Processing Dependency: glibc-headers = 2.17-106.el7_2.8 for package: glibc-devel-2.17-106.el7_2.8.x86_64 --\u0026gt; Processing Dependency: glibc = 2.17-106.el7_2.8 for package: glibc-devel-2.17-106.el7_2.8.x86_64 --\u0026gt; Processing Dependency: glibc-headers for package: glibc-devel-2.17-106.el7_2.8.x86_64 ---\u0026gt; Package perl-Carp.noarch 0:1.26-244.el7 will be installed ---\u0026gt; Package perl-Exporter.noarch 0:5.68-3.el7 will be installed ---\u0026gt; Package perl-File-Path.noarch 0:2.09-2.el7 will be installed ---\u0026gt; Package perl-File-Temp.noarch 0:0.23.01-3.el7 will be installed ---\u0026gt; Package perl-Filter.x86_64 0:1.49-3.el7 will be installed ---\u0026gt; Package perl-Getopt-Long.noarch 0:2.40-2.el7 will be installed --\u0026gt; Processing Dependency: perl(Pod::Usage) \u0026gt;= 1.14 for package: perl-Getopt-Long-2.40-2.el7.noarch --\u0026gt; Processing Dependency: perl(Text::ParseWords) for package: perl-Getopt-Long-2.40-2.el7.noarch ---\u0026gt; Package perl-PathTools.x86_64 0:3.40-5.el7 will be installed ---\u0026gt; Package perl-Pod-Simple.noarch 1:3.28-4.el7 will be installed --\u0026gt; Processing Dependency: perl(Pod::Escapes) \u0026gt;= 1.04 for package: 1:perl-Pod-Simple-3.28-4.el7.noarch --\u0026gt; Processing Dependency: perl(Encode) for package: 1:perl-Pod-Simple-3.28-4.el7.noarch ---\u0026gt; Package perl-Scalar-List-Utils.x86_64 0:1.27-248.el7 will be installed ---\u0026gt; Package perl-Socket.x86_64 0:2.010-3.el7 will be installed ---\u0026gt; Package perl-Storable.x86_64 0:2.45-3.el7 will be installed ---\u0026gt; Package perl-Time-HiRes.x86_64 4:1.9725-3.el7 will be installed ---\u0026gt; Package perl-Time-Local.noarch 0:1.2300-2.el7 will be installed ---\u0026gt; Package perl-constant.noarch 0:1.27-2.el7 will be installed ---\u0026gt; Package perl-libs.x86_64 4:5.16.3-286.el7 will be installed ---\u0026gt; Package perl-macros.x86_64 4:5.16.3-286.el7 will be installed ---\u0026gt; Package perl-threads.x86_64 0:1.87-4.el7 will be installed ---\u0026gt; Package perl-threads-shared.x86_64 0:1.43-6.el7 will be installed --\u0026gt; Running transaction check ---\u0026gt; Package glibc.x86_64 0:2.17-105.el7 will be updated --\u0026gt; Processing Dependency: glibc = 2.17-105.el7 for package: glibc-common-2.17-105.el7.x86_64 ---\u0026gt; Package glibc.x86_64 0:2.17-106.el7_2.8 will be an update ---\u0026gt; Package glibc-headers.x86_64 0:2.17-106.el7_2.8 will be installed --\u0026gt; Processing Dependency: kernel-headers \u0026gt;= 2.2.1 for package: glibc-headers-2.17-106.el7_2.8.x86_64 --\u0026gt; Processing Dependency: kernel-headers for package: glibc-headers-2.17-106.el7_2.8.x86_64 ---\u0026gt; Package perl-Encode.x86_64 0:2.51-7.el7 will be installed ---\u0026gt; Package perl-Pod-Escapes.noarch 1:1.04-286.el7 will be installed ---\u0026gt; Package perl-Pod-Usage.noarch 0:1.63-3.el7 will be installed --\u0026gt; Processing Dependency: perl(Pod::Text) \u0026gt;= 3.15 for package: perl-Pod-Usage-1.63-3.el7.noarch --\u0026gt; Processing Dependency: perl-Pod-Perldoc for package: perl-Pod-Usage-1.63-3.el7.noarch ---\u0026gt; Package perl-Text-ParseWords.noarch 0:3.29-4.el7 will be installed --\u0026gt; Running transaction check ---\u0026gt; Package glibc-common.x86_64 0:2.17-105.el7 will be updated ---\u0026gt; Package glibc-common.x86_64 0:2.17-106.el7_2.8 will be an update ---\u0026gt; Package kernel-headers.x86_64 0:3.10.0-327.36.3.el7 will be installed ---\u0026gt; Package perl-Pod-Perldoc.noarch 0:3.20-4.el7 will be installed --\u0026gt; Processing Dependency: perl(parent) for package: perl-Pod-Perldoc-3.20-4.el7.noarch --\u0026gt; Processing Dependency: perl(HTTP::Tiny) for package: perl-Pod-Perldoc-3.20-4.el7.noarch ---\u0026gt; Package perl-podlators.noarch 0:2.5.1-3.el7 will be installed --\u0026gt; Running transaction check ---\u0026gt; Package perl-HTTP-Tiny.noarch 0:0.033-3.el7 will be installed ---\u0026gt; Package perl-parent.noarch 1:0.225-244.el7 will be installed --\u0026gt; Finished Dependency Resolution Dependencies Resolved ================================================================================ Package Arch Version Repository Size ================================================================================ Installing: gcc x86_64 4.8.5-4.el7 base 16 M kernel-devel x86_64 3.10.0-327.el7 base 11 M perl x86_64 4:5.16.3-286.el7 base 8.0 M Installing for dependencies: cpp x86_64 4.8.5-4.el7 base 5.9 M glibc-devel x86_64 2.17-106.el7_2.8 updates 1.0 M glibc-headers x86_64 2.17-106.el7_2.8 updates 663 k kernel-headers x86_64 3.10.0-327.36.3.el7 updates 3.2 M perl-Carp noarch 1.26-244.el7 base 19 k perl-Encode x86_64 2.51-7.el7 base 1.5 M perl-Exporter noarch 5.68-3.el7 base 28 k perl-File-Path noarch 2.09-2.el7 base 26 k perl-File-Temp noarch 0.23.01-3.el7 base 56 k perl-Filter x86_64 1.49-3.el7 base 76 k perl-Getopt-Long noarch 2.40-2.el7 base 56 k perl-HTTP-Tiny noarch 0.033-3.el7 base 38 k perl-PathTools x86_64 3.40-5.el7 base 82 k perl-Pod-Escapes noarch 1:1.04-286.el7 base 50 k perl-Pod-Perldoc noarch 3.20-4.el7 base 87 k perl-Pod-Simple noarch 1:3.28-4.el7 base 216 k perl-Pod-Usage noarch 1.63-3.el7 base 27 k perl-Scalar-List-Utils x86_64 1.27-248.el7 base 36 k perl-Socket x86_64 2.010-3.el7 base 49 k perl-Storable x86_64 2.45-3.el7 base 77 k perl-Text-ParseWords noarch 3.29-4.el7 base 14 k perl-Time-HiRes x86_64 4:1.9725-3.el7 base 45 k perl-Time-Local noarch 1.2300-2.el7 base 24 k perl-constant noarch 1.27-2.el7 base 19 k perl-libs x86_64 4:5.16.3-286.el7 base 687 k perl-macros x86_64 4:5.16.3-286.el7 base 43 k perl-parent noarch 1:0.225-244.el7 base 12 k perl-podlators noarch 2.5.1-3.el7 base 112 k perl-threads x86_64 1.87-4.el7 base 49 k perl-threads-shared x86_64 1.43-6.el7 base 39 k Updating for dependencies: glibc x86_64 2.17-106.el7_2.8 updates 3.6 M glibc-common x86_64 2.17-106.el7_2.8 updates 11 M Transaction Summary ================================================================================ Install 3 Packages (+30 Dependent packages) Upgrade ( 2 Dependent packages) Total download size: 64 M Downloading packages: Delta RPMs disabled because /usr/bin/applydeltarpm not installed. Public key for glibc-devel-2.17-106.el7_2.8.x86_64.rpm is not installed warning: /var/cache/yum/x86_64/7/updates/packages/glibc-devel-2.17-106.el7_2.8.x86_64.rpm: Header V3 RSA/SHA256 Signature, key ID f4a80eb5: NOKEY Public key for cpp-4.8.5-4.el7.x86_64.rpm is not installed -------------------------------------------------------------------------------- Total 6.0 MB/s | 64 MB 00:10 Retrieving key from file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7 Importing GPG key 0xF4A80EB5: Userid : \u0026#34;CentOS-7 Key (CentOS 7 Official Signing Key) \u0026lt;security@centos.org\u0026gt;\u0026#34; Fingerprint: 6341 ab27 53d7 8a78 a7c2 7bb1 24c6 a8a7 f4a8 0eb5 Package : centos-release-7-2.1511.el7.centos.2.10.x86_64 (@anaconda) From : /etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7 Running transaction check Running transaction test Transaction test succeeded Running transaction Warning: RPMDB altered outside of yum. Updating : glibc-2.17-106.el7_2.8.x86_64 1/37 Updating : glibc-common-2.17-106.el7_2.8.x86_64 2/37 Installing : 1:perl-parent-0.225-244.el7.noarch 3/37 Installing : perl-HTTP-Tiny-0.033-3.el7.noarch 4/37 Installing : perl-podlators-2.5.1-3.el7.noarch 5/37 Installing : perl-Pod-Perldoc-3.20-4.el7.noarch 6/37 Installing : 1:perl-Pod-Escapes-1.04-286.el7.noarch 7/37 Installing : perl-Text-ParseWords-3.29-4.el7.noarch 8/37 Installing : perl-Encode-2.51-7.el7.x86_64 9/37 Installing : perl-Pod-Usage-1.63-3.el7.noarch 10/37 Installing : 4:perl-libs-5.16.3-286.el7.x86_64 11/37 Installing : 4:perl-macros-5.16.3-286.el7.x86_64 12/37 Installing : perl-Storable-2.45-3.el7.x86_64 13/37 Installing : perl-Exporter-5.68-3.el7.noarch 14/37 Installing : perl-constant-1.27-2.el7.noarch 15/37 Installing : perl-Time-Local-1.2300-2.el7.noarch 16/37 Installing : perl-Socket-2.010-3.el7.x86_64 17/37 Installing : perl-Carp-1.26-244.el7.noarch 18/37 Installing : 4:perl-Time-HiRes-1.9725-3.el7.x86_64 19/37 Installing : perl-PathTools-3.40-5.el7.x86_64 20/37 Installing : perl-Scalar-List-Utils-1.27-248.el7.x86_64 21/37 Installing : perl-File-Temp-0.23.01-3.el7.noarch 22/37 Installing : perl-File-Path-2.09-2.el7.noarch 23/37 Installing : perl-threads-shared-1.43-6.el7.x86_64 24/37 Installing : perl-threads-1.87-4.el7.x86_64 25/37 Installing : perl-Filter-1.49-3.el7.x86_64 26/37 Installing : 1:perl-Pod-Simple-3.28-4.el7.noarch 27/37 Installing : perl-Getopt-Long-2.40-2.el7.noarch 28/37 Installing : 4:perl-5.16.3-286.el7.x86_64 29/37 Installing : cpp-4.8.5-4.el7.x86_64 30/37 Installing : kernel-headers-3.10.0-327.36.3.el7.x86_64 31/37 Installing : glibc-headers-2.17-106.el7_2.8.x86_64 32/37 Installing : glibc-devel-2.17-106.el7_2.8.x86_64 33/37 Installing : gcc-4.8.5-4.el7.x86_64 34/37 Installing : kernel-devel-3.10.0-327.el7.x86_64 35/37 Cleanup : glibc-2.17-105.el7.x86_64 36/37 Cleanup : glibc-common-2.17-105.el7.x86_64 37/37 Verifying : perl-HTTP-Tiny-0.033-3.el7.noarch 1/37 Verifying : gcc-4.8.5-4.el7.x86_64 2/37 Verifying : perl-threads-shared-1.43-6.el7.x86_64 3/37 Verifying : perl-Storable-2.45-3.el7.x86_64 4/37 Verifying : kernel-headers-3.10.0-327.36.3.el7.x86_64 5/37 Verifying : perl-Exporter-5.68-3.el7.noarch 6/37 Verifying : perl-constant-1.27-2.el7.noarch 7/37 Verifying : perl-PathTools-3.40-5.el7.x86_64 8/37 Verifying : 4:perl-libs-5.16.3-286.el7.x86_64 9/37 Verifying : 4:perl-macros-5.16.3-286.el7.x86_64 10/37 Verifying : 1:perl-Pod-Escapes-1.04-286.el7.noarch 11/37 Verifying : 1:perl-parent-0.225-244.el7.noarch 12/37 Verifying : 4:perl-5.16.3-286.el7.x86_64 13/37 Verifying : glibc-devel-2.17-106.el7_2.8.x86_64 14/37 Verifying : perl-File-Temp-0.23.01-3.el7.noarch 15/37 Verifying : 1:perl-Pod-Simple-3.28-4.el7.noarch 16/37 Verifying : glibc-headers-2.17-106.el7_2.8.x86_64 17/37 Verifying : perl-Time-Local-1.2300-2.el7.noarch 18/37 Verifying : glibc-common-2.17-106.el7_2.8.x86_64 19/37 Verifying : perl-Pod-Perldoc-3.20-4.el7.noarch 20/37 Verifying : perl-Socket-2.010-3.el7.x86_64 21/37 Verifying : perl-Carp-1.26-244.el7.noarch 22/37 Verifying : perl-podlators-2.5.1-3.el7.noarch 23/37 Verifying : 4:perl-Time-HiRes-1.9725-3.el7.x86_64 24/37 Verifying : perl-Scalar-List-Utils-1.27-248.el7.x86_64 25/37 Verifying : glibc-2.17-106.el7_2.8.x86_64 26/37 Verifying : perl-Pod-Usage-1.63-3.el7.noarch 27/37 Verifying : perl-Encode-2.51-7.el7.x86_64 28/37 Verifying : perl-Getopt-Long-2.40-2.el7.noarch 29/37 Verifying : kernel-devel-3.10.0-327.el7.x86_64 30/37 Verifying : cpp-4.8.5-4.el7.x86_64 31/37 Verifying : perl-File-Path-2.09-2.el7.noarch 32/37 Verifying : perl-threads-1.87-4.el7.x86_64 33/37 Verifying : perl-Filter-1.49-3.el7.x86_64 34/37 Verifying : perl-Text-ParseWords-3.29-4.el7.noarch 35/37 Verifying : glibc-common-2.17-105.el7.x86_64 36/37 Verifying : glibc-2.17-105.el7.x86_64 37/37 Installed: gcc.x86_64 0:4.8.5-4.el7 kernel-devel.x86_64 0:3.10.0-327.el7 perl.x86_64 4:5.16.3-286.el7 Dependency Installed: cpp.x86_64 0:4.8.5-4.el7 glibc-devel.x86_64 0:2.17-106.el7_2.8 glibc-headers.x86_64 0:2.17-106.el7_2.8 kernel-headers.x86_64 0:3.10.0-327.36.3.el7 perl-Carp.noarch 0:1.26-244.el7 perl-Encode.x86_64 0:2.51-7.el7 perl-Exporter.noarch 0:5.68-3.el7 perl-File-Path.noarch 0:2.09-2.el7 perl-File-Temp.noarch 0:0.23.01-3.el7 perl-Filter.x86_64 0:1.49-3.el7 perl-Getopt-Long.noarch 0:2.40-2.el7 perl-HTTP-Tiny.noarch 0:0.033-3.el7 perl-PathTools.x86_64 0:3.40-5.el7 perl-Pod-Escapes.noarch 1:1.04-286.el7 perl-Pod-Perldoc.noarch 0:3.20-4.el7 perl-Pod-Simple.noarch 1:3.28-4.el7 perl-Pod-Usage.noarch 0:1.63-3.el7 perl-Scalar-List-Utils.x86_64 0:1.27-248.el7 perl-Socket.x86_64 0:2.010-3.el7 perl-Storable.x86_64 0:2.45-3.el7 perl-Text-ParseWords.noarch 0:3.29-4.el7 perl-Time-HiRes.x86_64 4:1.9725-3.el7 perl-Time-Local.noarch 0:1.2300-2.el7 perl-constant.noarch 0:1.27-2.el7 perl-libs.x86_64 4:5.16.3-286.el7 perl-macros.x86_64 4:5.16.3-286.el7 perl-parent.noarch 1:0.225-244.el7 perl-podlators.noarch 0:2.5.1-3.el7 perl-threads.x86_64 0:1.87-4.el7 perl-threads-shared.x86_64 0:1.43-6.el7 Dependency Updated: glibc.x86_64 0:2.17-106.el7_2.8 glibc-common.x86_64 0:2.17-106.el7_2.8 Complete! Copy iso file /Applications/VirtualBox.app/Contents/MacOS/VBoxGuestAdditions.iso into the box /tmp/VBoxGuestAdditions.iso mount: /dev/loop0 is write-protected, mounting read-only Installing Virtualbox Guest Additions 5.1.10 - guest version is 5.1.6 Verifying archive integrity... All good. Uncompressing VirtualBox 5.1.10 Guest Additions for Linux........... VirtualBox Guest Additions installer Removing installed version 5.1.6 of VirtualBox Guest Additions... Copying additional installer modules ... Installing additional modules ... vboxadd.sh: Building Guest Additions kernel modules. vboxadd.sh: You should restart your guest to make sure the new modules are actually used. vboxadd.sh: Starting the VirtualBox Guest Additions. Could not find the X.Org or XFree86 Window System, skipping. ==\u0026gt; host: Checking for guest additions in VM... ==\u0026gt; host: Setting hostname... ==\u0026gt; host: Configuring and enabling network interfaces... ==\u0026gt; host: Mounting shared folders... host: /vagrant =\u0026gt; /Users/XXXXX/development/bitbucket.org/vagrant/provision ==\u0026gt; host: Running provisioner: ansible_local... host: Installing Ansible... host: Running ansible-playbook... cd /vagrant \u0026amp;\u0026amp; PYTHONUNBUFFERED=1 ANSIBLE_FORCE_COLOR=true ansible-playbook --limit=\u0026#34;host\u0026#34; --inventory-file=host -v site.yml Using /etc/ansible/ansible.cfg as config file PLAY [host] ******************************************************************** TASK [setup] ******************************************************************* ok: [host] TASK [CentOS7.2 : yum update all] ********************************************** changed: [host] =\u0026gt; {\u0026#34;changed\u0026#34;: true, \u0026#34;msg\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;rc\u0026#34;: 0, \u0026#34;results\u0026#34;: [\u0026#34;Loaded plugins: fastestmirror\\nLoading mirror speeds from cached hostfile\\n * base: ftp.iij.ad.jp\\n * epel: ftp.riken.jp\\n * extras: ftp.iij.ad.jp\\n * updates: ftp.iij.ad.jp\\nResolving Dependencies\\n--\u0026gt; Running transaction check\\n---\u0026gt; Package NetworkManager.x86_64 1:1.0.6-27.el7 will be updated\\n---\u0026gt; Package NetworkManager.x86_64 1:1.0.6-31.el7_2 will be an update\\n---\u0026gt; Package NetworkManager-libnm.x86_64 1:1.0.6-27.el7 will be updated\\n---\u0026gt; Package NetworkManager-libnm.x86_64 1:1.0.6-31.el7_2 will be an update\\n---\u0026gt; Package NetworkManager-team.x86_64 1:1.0.6-27.el7 will be updated\\n---\u0026gt; Package NetworkManager-team.x86_64 1:1.0.6-31.el7_2 will be an update\\n---\u0026gt; Package NetworkManager-tui.x86_64 1:1.0.6-27.el7 will be updated\\n---\u0026gt; Package NetworkManager-tui.x86_64 1:1.0.6-31.el7_2 will be an update\\n---\u0026gt; Package avahi-autoipd.x86_64 0:0.6.31-15.el7 will be updated\\n---\u0026gt; Package avahi-autoipd.x86_64 0:0.6.31-15.el7_2.1 will be an update\\n---\u0026gt; Package avahi-libs.x86_64 0:0.6.31-15.el7 will be updated\\n---\u0026gt; Package avahi-libs.x86_64 0:0.6.31-15.el7_2.1 will be an update\\n---\u0026gt; Package bash.x86_64 0:4.2.46-19.el7 will be updated\\n---\u0026gt; Package bash.x86_64 0:4.2.46-20.el7_2 will be an update\\n---\u0026gt; Package bind-libs-lite.x86_64 32:9.9.4-29.el7 will be updated\\n---\u0026gt; Package bind-libs-lite.x86_64 32:9.9.4-29.el7_2.4 will be an update\\n---\u0026gt; Package bind-license.noarch 32:9.9.4-29.el7 will be updated\\n---\u0026gt; Package bind-license.noarch 32:9.9.4-29.el7_2.4 will be an update\\n---\u0026gt; Package ca-certificates.noarch 0:2015.2.4-71.el7 will be updated\\n---\u0026gt; Package ca-certificates.noarch 0:2015.2.6-70.1.el7_2 will be an update\\n---\u0026gt; Package chkconfig.x86_64 0:1.3.61-5.el7 will be updated\\n---\u0026gt; Package chkconfig.x86_64 0:1.3.61-5.el7_2.1 will be an update\\n---\u0026gt; Package coreutils.x86_64 0:8.22-15.el7 will be updated\\n---\u0026gt; Package coreutils.x86_64 0:8.22-15.el7_2.1 will be an update\\n---\u0026gt; Package cronie.x86_64 0:1.4.11-14.el7 will be updated\\n---\u0026gt; Package cronie.x86_64 0:1.4.11-14.el7_2.1 will be an update\\n---\u0026gt; Package cronie-anacron.x86_64 0:1.4.11-14.el7 will be updated\\n---\u0026gt; Package cronie-anacron.x86_64 0:1.4.11-14.el7_2.1 will be an update\\n---\u0026gt; Package cyrus-sasl-lib.x86_64 0:2.1.26-19.2.el7 will be updated\\n---\u0026gt; Package cyrus-sasl-lib.x86_64 0:2.1.26-20.el7_2 will be an update\\n---\u0026gt; Package dbus.x86_64 1:1.6.12-13.el7 will be updated\\n---\u0026gt; Package dbus.x86_64 1:1.6.12-14.el7_2 will be an update\\n---\u0026gt; Package dbus-libs.x86_64 1:1.6.12-13.el7 will be updated\\n---\u0026gt; Package dbus-libs.x86_64 1:1.6.12-14.el7_2 will be an update\\n---\u0026gt; Package device-mapper.x86_64 7:1.02.107-5.el7 will be updated\\n---\u0026gt; Package device-mapper.x86_64 7:1.02.107-5.el7_2.5 will be an update\\n---\u0026gt; Package device-mapper-event.x86_64 7:1.02.107-5.el7 will be updated\\n---\u0026gt; Package device-mapper-event.x86_64 7:1.02.107-5.el7_2.5 will be an update\\n---\u0026gt; Package device-mapper-event-libs.x86_64 7:1.02.107-5.el7 will be updated\\n---\u0026gt; Package device-mapper-event-libs.x86_64 7:1.02.107-5.el7_2.5 will be an update\\n---\u0026gt; Package device-mapper-libs.x86_64 7:1.02.107-5.el7 will be updated\\n---\u0026gt; Package device-mapper-libs.x86_64 7:1.02.107-5.el7_2.5 will be an update\\n---\u0026gt; Package device-mapper-persistent-data.x86_64 0:0.5.5-1.el7 will be updated\\n---\u0026gt; Package device-mapper-persistent-data.x86_64 0:0.6.2-1.el7_2 will be an update\\n---\u0026gt; Package dnsmasq.x86_64 0:2.66-14.el7_1 will be updated\\n---\u0026gt; Package dnsmasq.x86_64 0:2.66-14.el7_2.1 will be an update\\n---\u0026gt; Package dracut.x86_64 0:033-359.el7 will be updated\\n---\u0026gt; Package dracut.x86_64 0:033-360.el7_2.1 will be an update\\n---\u0026gt; Package dracut-config-rescue.x86_64 0:033-359.el7 will be updated\\n---\u0026gt; Package dracut-config-rescue.x86_64 0:033-360.el7_2.1 will be an update\\n---\u0026gt; Package dracut-network.x86_64 0:033-359.el7 will be updated\\n---\u0026gt; Package dracut-network.x86_64 0:033-360.el7_2.1 will be an update\\n---\u0026gt; Package gmp.x86_64 1:6.0.0-11.el7 will be updated\\n---\u0026gt; Package gmp.x86_64 1:6.0.0-12.el7_1 will be an update\\n---\u0026gt; Package gnutls.x86_64 0:3.3.8-12.el7_1.1 will be updated\\n---\u0026gt; Package gnutls.x86_64 0:3.3.8-14.el7_2 will be an update\\n---\u0026gt; Package grub2.x86_64 1:2.02-0.29.el7.centos will be updated\\n---\u0026gt; Package grub2.x86_64 1:2.02-0.34.el7.centos will be an update\\n---\u0026gt; Package grub2-tools.x86_64 1:2.02-0.29.el7.centos will be updated\\n---\u0026gt; Package grub2-tools.x86_64 1:2.02-0.34.el7.centos will be an update\\n---\u0026gt; Package gssproxy.x86_64 0:0.4.1-7.el7 will be updated\\n---\u0026gt; Package gssproxy.x86_64 0:0.4.1-8.el7_2 will be an update\\n---\u0026gt; Package initscripts.x86_64 0:9.49.30-1.el7 will be updated\\n---\u0026gt; Package initscripts.x86_64 0:9.49.30-1.el7_2.3 will be an update\\n---\u0026gt; Package iproute.x86_64 0:3.10.0-54.el7 will be updated\\n---\u0026gt; Package iproute.x86_64 0:3.10.0-54.el7_2.1 will be an update\\n---\u0026gt; Package kernel.x86_64 0:3.10.0-327.36.3.el7 will be installed\\n---\u0026gt; Package kernel-devel.x86_64 0:3.10.0-327.36.3.el7 will be installed\\n---\u0026gt; Package kernel-tools.x86_64 0:3.10.0-327.el7 will be updated\\n---\u0026gt; Package kernel-tools.x86_64 0:3.10.0-327.36.3.el7 will be an update\\n---\u0026gt; Package kernel-tools-libs.x86_64 0:3.10.0-327.el7 will be updated\\n---\u0026gt; Package kernel-tools-libs.x86_64 0:3.10.0-327.36.3.el7 will be an update\\n---\u0026gt; Package kexec-tools.x86_64 0:2.0.7-38.el7 will be updated\\n---\u0026gt; Package kexec-tools.x86_64 0:2.0.7-38.el7_2.1 will be an update\\n---\u0026gt; Package kmod.x86_64 0:20-5.el7 will be updated\\n---\u0026gt; Package kmod.x86_64 0:20-8.el7_2 will be an update\\n---\u0026gt; Package kmod-libs.x86_64 0:20-5.el7 will be updated\\n---\u0026gt; Package kmod-libs.x86_64 0:20-8.el7_2 will be an update\\n---\u0026gt; Package kpartx.x86_64 0:0.4.9-85.el7 will be updated\\n---\u0026gt; Package kpartx.x86_64 0:0.4.9-85.el7_2.6 will be an update\\n---\u0026gt; Package krb5-libs.x86_64 0:1.13.2-10.el7 will be updated\\n---\u0026gt; Package krb5-libs.x86_64 0:1.13.2-12.el7_2 will be an update\\n---\u0026gt; Package libblkid.x86_64 0:2.23.2-26.el7 will be updated\\n---\u0026gt; Package libblkid.x86_64 0:2.23.2-26.el7_2.3 will be an update\\n---\u0026gt; Package libgudev1.x86_64 0:219-19.el7 will be updated\\n---\u0026gt; Package libgudev1.x86_64 0:219-19.el7_2.13 will be an update\\n---\u0026gt; Package libmount.x86_64 0:2.23.2-26.el7 will be updated\\n---\u0026gt; Package libmount.x86_64 0:2.23.2-26.el7_2.3 will be an update\\n---\u0026gt; Package libndp.x86_64 0:1.2-4.el7 will be updated\\n---\u0026gt; Package libndp.x86_64 0:1.2-6.el7_2 will be an update\\n---\u0026gt; Package libssh2.x86_64 0:1.4.3-10.el7 will be updated\\n---\u0026gt; Package libssh2.x86_64 0:1.4.3-10.el7_2.1 will be an update\\n---\u0026gt; Package libtalloc.x86_64 0:2.1.2-1.el7 will be updated\\n---\u0026gt; Package libtalloc.x86_64 0:2.1.5-1.el7_2 will be an update\\n---\u0026gt; Package libteam.x86_64 0:1.17-5.el7 will be updated\\n---\u0026gt; Package libteam.x86_64 0:1.17-7.el7_2 will be an update\\n---\u0026gt; Package libtevent.x86_64 0:0.9.25-1.el7 will be updated\\n---\u0026gt; Package libtevent.x86_64 0:0.9.26-1.el7_2.1 will be an update\\n---\u0026gt; Package libuuid.x86_64 0:2.23.2-26.el7 will be updated\\n---\u0026gt; Package libuuid.x86_64 0:2.23.2-26.el7_2.3 will be an update\\n---\u0026gt; Package libxml2.x86_64 0:2.9.1-5.el7_1.2 will be updated\\n---\u0026gt; Package libxml2.x86_64 0:2.9.1-6.el7_2.3 will be an update\\n---\u0026gt; Package logrotate.x86_64 0:3.8.6-6.el7 will be updated\\n---\u0026gt; Package logrotate.x86_64 0:3.8.6-7.el7_2 will be an update\\n---\u0026gt; Package lvm2.x86_64 7:2.02.130-5.el7 will be updated\\n---\u0026gt; Package lvm2.x86_64 7:2.02.130-5.el7_2.5 will be an update\\n---\u0026gt; Package lvm2-libs.x86_64 7:2.02.130-5.el7 will be updated\\n---\u0026gt; Package lvm2-libs.x86_64 7:2.02.130-5.el7_2.5 will be an update\\n---\u0026gt; Package mariadb-libs.x86_64 1:5.5.44-2.el7.centos will be updated\\n---\u0026gt; Package mariadb-libs.x86_64 1:5.5.50-1.el7_2 will be an update\\n---\u0026gt; Package microcode_ctl.x86_64 2:2.1-12.el7 will be updated\\n---\u0026gt; Package microcode_ctl.x86_64 2:2.1-12.el7_2.1 will be an update\\n---\u0026gt; Package nfs-utils.x86_64 1:1.3.0-0.21.el7 will be updated\\n---\u0026gt; Package nfs-utils.x86_64 1:1.3.0-0.21.el7_2.1 will be an update\\n---\u0026gt; Package nspr.x86_64 0:4.10.8-2.el7_1 will be updated\\n---\u0026gt; Package nspr.x86_64 0:4.11.0-1.el7_2 will be an update\\n---\u0026gt; Package nss.x86_64 0:3.19.1-18.el7 will be updated\\n---\u0026gt; Package nss.x86_64 0:3.21.0-9.el7_2 will be an update\\n---\u0026gt; Package nss-softokn.x86_64 0:3.16.2.3-13.el7_1 will be updated\\n---\u0026gt; Package nss-softokn.x86_64 0:3.16.2.3-14.2.el7_2 will be an update\\n---\u0026gt; Package nss-softokn-freebl.x86_64 0:3.16.2.3-13.el7_1 will be updated\\n---\u0026gt; Package nss-softokn-freebl.x86_64 0:3.16.2.3-14.2.el7_2 will be an update\\n---\u0026gt; Package nss-sysinit.x86_64 0:3.19.1-18.el7 will be updated\\n---\u0026gt; Package nss-sysinit.x86_64 0:3.21.0-9.el7_2 will be an update\\n---\u0026gt; Package nss-tools.x86_64 0:3.19.1-18.el7 will be updated\\n---\u0026gt; Package nss-tools.x86_64 0:3.21.0-9.el7_2 will be an update\\n---\u0026gt; Package nss-util.x86_64 0:3.19.1-4.el7_1 will be updated\\n---\u0026gt; Package nss-util.x86_64 0:3.21.0-2.2.el7_2 will be an update\\n---\u0026gt; Package numactl-libs.x86_64 0:2.0.9-5.el7_1 will be updated\\n---\u0026gt; Package numactl-libs.x86_64 0:2.0.9-6.el7_2 will be an update\\n---\u0026gt; Package openldap.x86_64 0:2.4.40-8.el7 will be updated\\n---\u0026gt; Package openldap.x86_64 0:2.4.40-9.el7_2 will be an update\\n---\u0026gt; Package openssh.x86_64 0:6.6.1p1-22.el7 will be updated\\n---\u0026gt; Package openssh.x86_64 0:6.6.1p1-25.el7_2 will be an update\\n---\u0026gt; Package openssh-clients.x86_64 0:6.6.1p1-22.el7 will be updated\\n---\u0026gt; Package openssh-clients.x86_64 0:6.6.1p1-25.el7_2 will be an update\\n---\u0026gt; Package openssh-server.x86_64 0:6.6.1p1-22.el7 will be updated\\n---\u0026gt; Package openssh-server.x86_64 0:6.6.1p1-25.el7_2 will be an update\\n---\u0026gt; Package openssl.x86_64 1:1.0.1e-42.el7.9 will be updated\\n---\u0026gt; Package openssl.x86_64 1:1.0.1e-51.el7_2.7 will be an update\\n---\u0026gt; Package openssl-libs.x86_64 1:1.0.1e-42.el7.9 will be updated\\n---\u0026gt; Package openssl-libs.x86_64 1:1.0.1e-51.el7_2.7 will be an update\\n---\u0026gt; Package pcre.x86_64 0:8.32-15.el7 will be updated\\n---\u0026gt; Package pcre.x86_64 0:8.32-15.el7_2.1 will be an update\\n---\u0026gt; Package polkit.x86_64 0:0.112-5.el7 will be updated\\n---\u0026gt; Package polkit.x86_64 0:0.112-7.el7_2 will be an update\\n---\u0026gt; Package procps-ng.x86_64 0:3.3.10-3.el7 will be updated\\n---\u0026gt; Package procps-ng.x86_64 0:3.3.10-5.el7_2 will be an update\\n---\u0026gt; Package python.x86_64 0:2.7.5-34.el7 will be updated\\n---\u0026gt; Package python.x86_64 0:2.7.5-39.el7_2 will be an update\\n---\u0026gt; Package python-libs.x86_64 0:2.7.5-34.el7 will be updated\\n---\u0026gt; Package python-libs.x86_64 0:2.7.5-39.el7_2 will be an update\\n---\u0026gt; Package python-perf.x86_64 0:3.10.0-327.el7 will be updated\\n---\u0026gt; Package python-perf.x86_64 0:3.10.0-327.36.3.el7 will be an update\\n---\u0026gt; Package python-pyudev.noarch 0:0.15-7.el7 will be updated\\n---\u0026gt; Package python-pyudev.noarch 0:0.15-7.el7_2.1 will be an update\\n---\u0026gt; Package quota.x86_64 1:4.01-11.el7 will be updated\\n---\u0026gt; Package quota.x86_64 1:4.01-11.el7_2.1 will be an update\\n---\u0026gt; Package quota-nls.noarch 1:4.01-11.el7 will be updated\\n---\u0026gt; Package quota-nls.noarch 1:4.01-11.el7_2.1 will be an update\\n---\u0026gt; Package rdma.noarch 0:7.2_4.1_rc6-1.el7 will be updated\\n---\u0026gt; Package rdma.noarch 0:7.2_4.1_rc6-2.el7 will be an update\\n---\u0026gt; Package rpcbind.x86_64 0:0.2.0-32.el7 will be updated\\n---\u0026gt; Package rpcbind.x86_64 0:0.2.0-33.el7_2.1 will be an update\\n---\u0026gt; Package selinux-policy.noarch 0:3.13.1-60.el7 will be updated\\n---\u0026gt; Package selinux-policy.noarch 0:3.13.1-60.el7_2.9 will be an update\\n---\u0026gt; Package selinux-policy-devel.noarch 0:3.13.1-60.el7 will be updated\\n---\u0026gt; Package selinux-policy-devel.noarch 0:3.13.1-60.el7_2.9 will be an update\\n---\u0026gt; Package selinux-policy-targeted.noarch 0:3.13.1-60.el7 will be updated\\n---\u0026gt; Package selinux-policy-targeted.noarch 0:3.13.1-60.el7_2.9 will be an update\\n---\u0026gt; Package sudo.x86_64 0:1.8.6p7-16.el7 will be updated\\n---\u0026gt; Package sudo.x86_64 0:1.8.6p7-17.el7_2 will be an update\\n---\u0026gt; Package systemd.x86_64 0:219-19.el7 will be updated\\n---\u0026gt; Package systemd.x86_64 0:219-19.el7_2.13 will be an update\\n---\u0026gt; Package systemd-libs.x86_64 0:219-19.el7 will be updated\\n---\u0026gt; Package systemd-libs.x86_64 0:219-19.el7_2.13 will be an update\\n---\u0026gt; Package systemd-sysv.x86_64 0:219-19.el7 will be updated\\n---\u0026gt; Package systemd-sysv.x86_64 0:219-19.el7_2.13 will be an update\\n---\u0026gt; Package teamd.x86_64 0:1.17-5.el7 will be updated\\n---\u0026gt; Package teamd.x86_64 0:1.17-7.el7_2 will be an update\\n---\u0026gt; Package tuned.noarch 0:2.5.1-4.el7 will be updated\\n---\u0026gt; Package tuned.noarch 0:2.5.1-4.el7_2.6 will be an update\\n---\u0026gt; Package tzdata.noarch 0:2015g-1.el7 will be updated\\n---\u0026gt; Package tzdata.noarch 0:2016h-1.el7 will be an update\\n---\u0026gt; Package util-linux.x86_64 0:2.23.2-26.el7 will be updated\\n---\u0026gt; Package util-linux.x86_64 0:2.23.2-26.el7_2.3 will be an update\\n--\u0026gt; Finished Dependency Resolution\\n\\nDependencies Resolved\\n\\n================================================================================\\n Package Arch Version Repository\\n Size\\n================================================================================\\nInstalling:\\n kernel x86_64 3.10.0-327.36.3.el7 updates 33 M\\n kernel-devel x86_64 3.10.0-327.36.3.el7 updates 11 M\\nUpdating:\\n NetworkManager x86_64 1:1.0.6-31.el7_2 updates 2.0 M\\n NetworkManager-libnm x86_64 1:1.0.6-31.el7_2 updates 498 k\\n NetworkManager-team x86_64 1:1.0.6-31.el7_2 updates 132 k\\n NetworkManager-tui x86_64 1:1.0.6-31.el7_2 updates 212 k\\n avahi-autoipd x86_64 0.6.31-15.el7_2.1 updates 39 k\\n avahi-libs x86_64 0.6.31-15.el7_2.1 updates 61 k\\n bash x86_64 4.2.46-20.el7_2 updates 1.0 M\\n bind-libs-lite x86_64 32:9.9.4-29.el7_2.4 updates 724 k\\n bind-license noarch 32:9.9.4-29.el7_2.4 updates 82 k\\n ca-certificates noarch 2015.2.6-70.1.el7_2 updates 428 k\\n chkconfig x86_64 1.3.61-5.el7_2.1 updates 173 k\\n coreutils x86_64 8.22-15.el7_2.1 updates 3.2 M\\n cronie x86_64 1.4.11-14.el7_2.1 updates 90 k\\n cronie-anacron x86_64 1.4.11-14.el7_2.1 updates 35 k\\n cyrus-sasl-lib x86_64 2.1.26-20.el7_2 updates 155 k\\n dbus x86_64 1:1.6.12-14.el7_2 updates 306 k\\n dbus-libs x86_64 1:1.6.12-14.el7_2 updates 151 k\\n device-mapper x86_64 7:1.02.107-5.el7_2.5 updates 252 k\\n device-mapper-event x86_64 7:1.02.107-5.el7_2.5 updates 167 k\\n device-mapper-event-libs x86_64 7:1.02.107-5.el7_2.5 updates 169 k\\n device-mapper-libs x86_64 7:1.02.107-5.el7_2.5 updates 305 k\\n device-mapper-persistent-data x86_64 0.6.2-1.el7_2 updates 366 k\\n dnsmasq x86_64 2.66-14.el7_2.1 updates 229 k\\n dracut x86_64 033-360.el7_2.1 updates 311 k\\n dracut-config-rescue x86_64 033-360.el7_2.1 updates 50 k\\n dracut-network x86_64 033-360.el7_2.1 updates 90 k\\n gmp x86_64 1:6.0.0-12.el7_1 updates 280 k\\n gnutls x86_64 3.3.8-14.el7_2 updates 662 k\\n grub2 x86_64 1:2.02-0.34.el7.centos updates 1.5 M\\n grub2-tools x86_64 1:2.02-0.34.el7.centos updates 3.3 M\\n gssproxy x86_64 0.4.1-8.el7_2 updates 84 k\\n initscripts x86_64 9.49.30-1.el7_2.3 updates 429 k\\n iproute x86_64 3.10.0-54.el7_2.1 updates 526 k\\n kernel-tools x86_64 3.10.0-327.36.3.el7 updates 2.4 M\\n kernel-tools-libs x86_64 3.10.0-327.36.3.el7 updates 2.3 M\\n kexec-tools x86_64 2.0.7-38.el7_2.1 updates 306 k\\n kmod x86_64 20-8.el7_2 updates 114 k\\n kmod-libs x86_64 20-8.el7_2 updates 47 k\\n kpartx x86_64 0.4.9-85.el7_2.6 updates 60 k\\n krb5-libs x86_64 1.13.2-12.el7_2 updates 843 k\\n libblkid x86_64 2.23.2-26.el7_2.3 updates 167 k\\n libgudev1 x86_64 219-19.el7_2.13 updates 67 k\\n libmount x86_64 2.23.2-26.el7_2.3 updates 169 k\\n libndp x86_64 1.2-6.el7_2 updates 31 k\\n libssh2 x86_64 1.4.3-10.el7_2.1 updates 134 k\\n libtalloc x86_64 2.1.5-1.el7_2 updates 34 k\\n libteam x86_64 1.17-7.el7_2 updates 45 k\\n libtevent x86_64 0.9.26-1.el7_2.1 updates 33 k\\n libuuid x86_64 2.23.2-26.el7_2.3 updates 74 k\\n libxml2 x86_64 2.9.1-6.el7_2.3 updates 668 k\\n logrotate x86_64 3.8.6-7.el7_2 updates 66 k\\n lvm2 x86_64 7:2.02.130-5.el7_2.5 updates 1.0 M\\n lvm2-libs x86_64 7:2.02.130-5.el7_2.5 updates 873 k\\n mariadb-libs x86_64 1:5.5.50-1.el7_2 updates 755 k\\n microcode_ctl x86_64 2:2.1-12.el7_2.1 updates 535 k\\n nfs-utils x86_64 1:1.3.0-0.21.el7_2.1 updates 371 k\\n nspr x86_64 4.11.0-1.el7_2 updates 126 k\\n nss x86_64 3.21.0-9.el7_2 updates 850 k\\n nss-softokn x86_64 3.16.2.3-14.2.el7_2 updates 305 k\\n nss-softokn-freebl x86_64 3.16.2.3-14.2.el7_2 updates 204 k\\n nss-sysinit x86_64 3.21.0-9.el7_2 updates 55 k\\n nss-tools x86_64 3.21.0-9.el7_2 updates 487 k\\n nss-util x86_64 3.21.0-2.2.el7_2 updates 72 k\\n numactl-libs x86_64 2.0.9-6.el7_2 updates 29 k\\n openldap x86_64 2.4.40-9.el7_2 updates 348 k\\n openssh x86_64 6.6.1p1-25.el7_2 updates 435 k\\n openssh-clients x86_64 6.6.1p1-25.el7_2 updates 639 k\\n openssh-server x86_64 6.6.1p1-25.el7_2 updates 436 k\\n openssl x86_64 1:1.0.1e-51.el7_2.7 updates 712 k\\n openssl-libs x86_64 1:1.0.1e-51.el7_2.7 updates 953 k\\n pcre x86_64 8.32-15.el7_2.1 updates 420 k\\n polkit x86_64 0.112-7.el7_2 updates 166 k\\n procps-ng x86_64 3.3.10-5.el7_2 updates 287 k\\n python x86_64 2.7.5-39.el7_2 updates 89 k\\n python-libs x86_64 2.7.5-39.el7_2 updates 5.6 M\\n python-perf x86_64 3.10.0-327.36.3.el7 updates 2.4 M\\n python-pyudev noarch 0.15-7.el7_2.1 updates 54 k\\n quota x86_64 1:4.01-11.el7_2.1 updates 178 k\\n quota-nls noarch 1:4.01-11.el7_2.1 updates 90 k\\n rdma noarch 7.2_4.1_rc6-2.el7 updates 28 k\\n rpcbind x86_64 0.2.0-33.el7_2.1 updates 58 k\\n selinux-policy noarch 3.13.1-60.el7_2.9 updates 377 k\\n selinux-policy-devel noarch 3.13.1-60.el7_2.9 updates 3.3 M\\n selinux-policy-targeted noarch 3.13.1-60.el7_2.9 updates 3.9 M\\n sudo x86_64 1.8.6p7-17.el7_2 updates 732 k\\n systemd x86_64 219-19.el7_2.13 updates 5.1 M\\n systemd-libs x86_64 219-19.el7_2.13 updates 358 k\\n systemd-sysv x86_64 219-19.el7_2.13 updates 54 k\\n teamd x86_64 1.17-7.el7_2 updates 109 k\\n tuned noarch 2.5.1-4.el7_2.6 updates 194 k\\n tzdata noarch 2016h-1.el7 updates 439 k\\n util-linux x86_64 2.23.2-26.el7_2.3 updates 1.9 M\\n\\nTransaction Summary\\n================================================================================\\nInstall 2 Packages\\nUpgrade 92 Packages\\n\\nTotal download size: 104 M\\nDownloading packages:\\nDelta RPMs disabled because /usr/bin/applydeltarpm not installed.\\n--------------------------------------------------------------------------------\\nTotal 10 MB/s | 104 MB 00:10 \\nRunning transaction check\\nRunning transaction test\\nTransaction test succeeded\\nRunning transaction\\n Updating : bash-4.2.46-20.el7_2.x86_64 1/186 \\n Updating : systemd-libs-219-19.el7_2.13.x86_64 2/186 \\n Updating : nspr-4.11.0-1.el7_2.x86_64 3/186 \\n Updating : nss-util-3.21.0-2.2.el7_2.x86_64 4/186 \\n Updating : 1:dbus-libs-1.6.12-14.el7_2.x86_64 5/186 \\n Updating : chkconfig-1.3.61-5.el7_2.1.x86_64 6/186 \\n Updating : libuuid-2.23.2-26.el7_2.3.x86_64 7/186 \\n Updating : libgudev1-219-19.el7_2.13.x86_64 8/186 \\n Updating : iproute-3.10.0-54.el7_2.1.x86_64 9/186 \\n Updating : procps-ng-3.3.10-5.el7_2.x86_64 10/186 \\n Updating : nss-softokn-freebl-3.16.2.3-14.2.el7_2.x86_64 11/186 \\n Updating : nss-softokn-3.16.2.3-14.2.el7_2.x86_64 12/186 \\n Updating : 1:gmp-6.0.0-12.el7_1.x86_64 13/186 \\n Updating : krb5-libs-1.13.2-12.el7_2.x86_64 14/186 \\n Updating : 1:openssl-libs-1.0.1e-51.el7_2.7.x86_64 15/186 \\n Updating : coreutils-8.22-15.el7_2.1.x86_64 16/186 \\n Updating : ca-certificates-2015.2.6-70.1.el7_2.noarch 17/186 \\n Updating : libblkid-2.23.2-26.el7_2.3.x86_64 18/186 \\n Updating : libmount-2.23.2-26.el7_2.3.x86_64 19/186 \\n Updating : util-linux-2.23.2-26.el7_2.3.x86_64 20/186 \\n Updating : selinux-policy-3.13.1-60.el7_2.9.noarch 21/186 \\n Updating : python-libs-2.7.5-39.el7_2.x86_64 22/186 \\n Updating : python-2.7.5-39.el7_2.x86_64 23/186 \\n Updating : python-perf-3.10.0-327.36.3.el7.x86_64 24/186 \\n Updating : python-pyudev-0.15-7.el7_2.1.noarch 25/186 \\n Updating : nss-3.21.0-9.el7_2.x86_64 26/186 \\n Updating : nss-sysinit-3.21.0-9.el7_2.x86_64 27/186 \\n Updating : 1:NetworkManager-libnm-1.0.6-31.el7_2.x86_64 28/186 \\n Updating : nss-tools-3.21.0-9.el7_2.x86_64 29/186 \\n Updating : avahi-libs-0.6.31-15.el7_2.1.x86_64 30/186 \\n Updating : avahi-autoipd-0.6.31-15.el7_2.1.x86_64 31/186 \\n Updating : libteam-1.17-7.el7_2.x86_64 32/186 \\n Updating : teamd-1.17-7.el7_2.x86_64 33/186 \\n Updating : libtalloc-2.1.5-1.el7_2.x86_64 34/186 \\n Updating : libndp-1.2-6.el7_2.x86_64 35/186 \\n Updating : device-mapper-persistent-data-0.6.2-1.el7_2.x86_64 36/186 \\n Updating : 1:quota-nls-4.01-11.el7_2.1.noarch 37/186 \\n Updating : kernel-tools-libs-3.10.0-327.36.3.el7.x86_64 38/186 \\n Updating : libxml2-2.9.1-6.el7_2.3.x86_64 39/186 \\n Updating : cyrus-sasl-lib-2.1.26-20.el7_2.x86_64 40/186 \\n Updating : openldap-2.4.40-9.el7_2.x86_64 41/186 \\n Updating : openssh-6.6.1p1-25.el7_2.x86_64 42/186 \\n Updating : kmod-libs-20-8.el7_2.x86_64 43/186 \\n Updating : 7:device-mapper-1.02.107-5.el7_2.5.x86_64 44/186 \\n Updating : 7:device-mapper-libs-1.02.107-5.el7_2.5.x86_64 45/186 \\n Updating : kpartx-0.4.9-85.el7_2.6.x86_64 46/186 \\n Updating : dracut-033-360.el7_2.1.x86_64 47/186 \\n Updating : kmod-20-8.el7_2.x86_64 48/186 \\n Updating : systemd-219-19.el7_2.13.x86_64 49/186 \\n Updating : 1:dbus-1.6.12-14.el7_2.x86_64 50/186 \\n Updating : systemd-sysv-219-19.el7_2.13.x86_64 51/186 \\n Updating : 7:device-mapper-event-libs-1.02.107-5.el7_2.5.x86_64 52/186 \\n Updating : rpcbind-0.2.0-33.el7_2.1.x86_64 53/186 \\n Updating : 1:quota-4.01-11.el7_2.1.x86_64 54/186 \\n Updating : 7:device-mapper-event-1.02.107-5.el7_2.5.x86_64 55/186 \\n Updating : 7:lvm2-libs-2.02.130-5.el7_2.5.x86_64 56/186 \\n Updating : dnsmasq-2.66-14.el7_2.1.x86_64 57/186 \\n Updating : polkit-0.112-7.el7_2.x86_64 58/186 \\n Updating : 1:NetworkManager-1.0.6-31.el7_2.x86_64 59/186 \\n Updating : initscripts-9.49.30-1.el7_2.3.x86_64 60/186 \\n Updating : gssproxy-0.4.1-8.el7_2.x86_64 61/186 \\n Updating : cronie-anacron-1.4.11-14.el7_2.1.x86_64 62/186 \\n Updating : cronie-1.4.11-14.el7_2.1.x86_64 63/186 \\n Updating : dracut-network-033-360.el7_2.1.x86_64 64/186 \\n Updating : 1:grub2-tools-2.02-0.34.el7.centos.x86_64 65/186 \\n Updating : 32:bind-license-9.9.4-29.el7_2.4.noarch 66/186 \\n Updating : 32:bind-libs-lite-9.9.4-29.el7_2.4.x86_64 67/186 \\n Updating : 1:grub2-2.02-0.34.el7.centos.x86_64 68/186 \\n Updating : kexec-tools-2.0.7-38.el7_2.1.x86_64 69/186 \\n Updating : 1:nfs-utils-1.3.0-0.21.el7_2.1.x86_64 70/186 \\n Installing : kernel-3.10.0-327.36.3.el7.x86_64 71/186 \\n Updating : 1:NetworkManager-team-1.0.6-31.el7_2.x86_64 72/186 \\n Updating : 1:NetworkManager-tui-1.0.6-31.el7_2.x86_64 73/186 \\n Updating : 7:lvm2-2.02.130-5.el7_2.5.x86_64 74/186 \\n Updating : openssh-server-6.6.1p1-25.el7_2.x86_64 75/186 \\n Updating : 2:microcode_ctl-2.1-12.el7_2.1.x86_64 76/186 \\n Updating : rdma-7.2_4.1_rc6-2.el7.noarch 77/186 \\n Updating : tuned-2.5.1-4.el7_2.6.noarch 78/186 \\n Updating : dracut-config-rescue-033-360.el7_2.1.x86_64 79/186 \\n Updating : openssh-clients-6.6.1p1-25.el7_2.x86_64 80/186 \\n Updating : sudo-1.8.6p7-17.el7_2.x86_64 81/186 \\n Updating : kernel-tools-3.10.0-327.36.3.el7.x86_64 82/186 \\n Updating : libtevent-0.9.26-1.el7_2.1.x86_64 83/186 \\n Updating : selinux-policy-devel-3.13.1-60.el7_2.9.noarch 84/186 \\n Updating : selinux-policy-targeted-3.13.1-60.el7_2.9.noarch 85/186 \\n Updating : 1:openssl-1.0.1e-51.el7_2.7.x86_64 86/186 \\n Updating : logrotate-3.8.6-7.el7_2.x86_64 87/186 \\n Updating : libssh2-1.4.3-10.el7_2.1.x86_64 88/186 \\n Updating : 1:mariadb-libs-5.5.50-1.el7_2.x86_64 89/186 \\n Updating : gnutls-3.3.8-14.el7_2.x86_64 90/186 \\n Installing : kernel-devel-3.10.0-327.36.3.el7.x86_64 91/186 \\n Updating : tzdata-2016h-1.el7.noarch 92/186 \\n Updating : numactl-libs-2.0.9-6.el7_2.x86_64 93/186 \\n Updating : pcre-8.32-15.el7_2.1.x86_64 94/186 \\n Cleanup : 1:nfs-utils-1.3.0-0.21.el7.x86_64 95/186 \\n Cleanup : 7:lvm2-2.02.130-5.el7.x86_64 96/186 \\n Cleanup : 1:NetworkManager-tui-1.0.6-27.el7.x86_64 97/186 \\n Cleanup : tuned-2.5.1-4.el7.noarch 98/186 \\n Cleanup : rpcbind-0.2.0-32.el7.x86_64 99/186 \\n Cleanup : openssh-server-6.6.1p1-22.el7.x86_64 100/186 \\n Cleanup : rdma-7.2_4.1_rc6-1.el7.noarch 101/186 \\n Cleanup : selinux-policy-targeted-3.13.1-60.el7.noarch 102/186 \\n Cleanup : 1:grub2-2.02-0.29.el7.centos.x86_64 103/186 \\n Cleanup : dracut-config-rescue-033-359.el7.x86_64 104/186 \\n Cleanup : selinux-policy-devel-3.13.1-60.el7.noarch 105/186 \\n Cleanup : 7:lvm2-libs-2.02.130-5.el7.x86_64 106/186 \\n Cleanup : 7:device-mapper-event-1.02.107-5.el7.x86_64 107/186 \\n Cleanup : openssh-clients-6.6.1p1-22.el7.x86_64 108/186 \\n Cleanup : kexec-tools-2.0.7-38.el7.x86_64 109/186 \\n Cleanup : 1:openssl-1.0.1e-42.el7.9.x86_64 110/186 \\n Cleanup : openssh-6.6.1p1-22.el7.x86_64 111/186 \\n Cleanup : 32:bind-libs-lite-9.9.4-29.el7.x86_64 112/186 \\n Cleanup : 1:NetworkManager-team-1.0.6-27.el7.x86_64 113/186 \\n Cleanup : dracut-network-033-359.el7.x86_64 114/186 \\n Cleanup : 1:NetworkManager-1.0.6-27.el7.x86_64 115/186 \\n Cleanup : 1:NetworkManager-libnm-1.0.6-27.el7.x86_64 116/186 \\n Cleanup : dnsmasq-2.66-14.el7_1.x86_64 117/186 \\n Cleanup : polkit-0.112-5.el7.x86_64 118/186 \\n Cleanup : teamd-1.17-5.el7.x86_64 119/186 \\n Cleanup : 1:grub2-tools-2.02-0.29.el7.centos.x86_64 120/186 \\n Cleanup : gssproxy-0.4.1-7.el7.x86_64 121/186 \\n Cleanup : 1:quota-4.01-11.el7.x86_64 122/186 \\n Cleanup : initscripts-9.49.30-1.el7.x86_64 123/186 \\n Cleanup : cronie-1.4.11-14.el7.x86_64 124/186 \\n Cleanup : cronie-anacron-1.4.11-14.el7.x86_64 125/186 \\n Cleanup : systemd-sysv-219-19.el7.x86_64 126/186 \\n Cleanup : selinux-policy-3.13.1-60.el7.noarch 127/186 \\n Cleanup : avahi-autoipd-0.6.31-15.el7.x86_64 128/186 \\n Cleanup : python-perf-3.10.0-327.el7.x86_64 129/186 \\n Cleanup : kernel-tools-3.10.0-327.el7.x86_64 130/186 \\n Cleanup : logrotate-3.8.6-6.el7.x86_64 131/186 \\n Cleanup : 2:microcode_ctl-2.1-12.el7.x86_64 132/186 \\n Cleanup : sudo-1.8.6p7-16.el7.x86_64 133/186 \\n Cleanup : python-pyudev-0.15-7.el7.noarch 134/186 \\n Cleanup : openldap-2.4.40-8.el7.x86_64 135/186 \\n Cleanup : nss-tools-3.19.1-18.el7.x86_64 136/186 \\n Cleanup : nss-sysinit-3.19.1-18.el7.x86_64 137/186 \\n Cleanup : nss-3.19.1-18.el7.x86_64 138/186 \\n Cleanup : nss-softokn-3.16.2.3-13.el7_1.x86_64 139/186 \\n Cleanup : nss-util-3.19.1-4.el7_1.x86_64 140/186 \\n Cleanup : nss-softokn-freebl-3.16.2.3-13.el7_1.x86_64 141/186 \\n Cleanup : python-2.7.5-34.el7.x86_64 142/186 \\n Cleanup : python-libs-2.7.5-34.el7.x86_64 143/186 \\n Cleanup : avahi-libs-0.6.31-15.el7.x86_64 144/186 \\n Cleanup : iproute-3.10.0-54.el7.x86_64 145/186 \\n Cleanup : libgudev1-219-19.el7.x86_64 146/186 \\n Cleanup : 7:device-mapper-event-libs-1.02.107-5.el7.x86_64 147/186 \\n Cleanup : kpartx-0.4.9-85.el7.x86_64 148/186 \\n Cleanup : 7:device-mapper-libs-1.02.107-5.el7.x86_64 149/186 \\n Cleanup : 7:device-mapper-1.02.107-5.el7.x86_64 150/186 \\n Cleanup : kmod-20-5.el7.x86_64 151/186 \\n Cleanup : dracut-033-359.el7.x86_64 152/186 \\n Cleanup : 1:dbus-1.6.12-13.el7.x86_64 153/186 \\n Cleanup : systemd-219-19.el7.x86_64 154/186 \\n Cleanup : util-linux-2.23.2-26.el7.x86_64 155/186 \\n Cleanup : libmount-2.23.2-26.el7.x86_64 156/186 \\n Cleanup : libblkid-2.23.2-26.el7.x86_64 157/186 \\n Cleanup : procps-ng-3.3.10-3.el7.x86_64 158/186 \\n Cleanup : 1:mariadb-libs-5.5.44-2.el7.centos.x86_64 159/186 \\n Cleanup : libtevent-0.9.25-1.el7.x86_64 160/186 \\n Cleanup : libssh2-1.4.3-10.el7.x86_64 161/186 \\n Cleanup : ca-certificates-2015.2.4-71.el7.noarch 162/186 \\n Cleanup : krb5-libs-1.13.2-10.el7.x86_64 163/186 \\n Cleanup : coreutils-8.22-15.el7.x86_64 164/186 \\n Cleanup : 1:openssl-libs-1.0.1e-42.el7.9.x86_64 165/186 \\n Cleanup : gnutls-3.3.8-12.el7_1.1.x86_64 166/186 \\n Cleanup : 1:quota-nls-4.01-11.el7.noarch 167/186 \\n Cleanup : 32:bind-license-9.9.4-29.el7.noarch 168/186 \\n Cleanup : tzdata-2015g-1.el7.noarch 169/186 \\n Cleanup : 1:gmp-6.0.0-11.el7.x86_64 170/186 \\n Cleanup : bash-4.2.46-19.el7.x86_64 171/186 \\n Cleanup : libtalloc-2.1.2-1.el7.x86_64 172/186 \\n Cleanup : systemd-libs-219-19.el7.x86_64 173/186 \\n Cleanup : libuuid-2.23.2-26.el7.x86_64 174/186 \\n Cleanup : kmod-libs-20-5.el7.x86_64 175/186 \\n Cleanup : chkconfig-1.3.61-5.el7.x86_64 176/186 \\n Cleanup : 1:dbus-libs-1.6.12-13.el7.x86_64 177/186 \\n Cleanup : nspr-4.10.8-2.el7_1.x86_64 178/186 \\n Cleanup : cyrus-sasl-lib-2.1.26-19.2.el7.x86_64 179/186 \\n Cleanup : kernel-tools-libs-3.10.0-327.el7.x86_64 180/186 \\n Cleanup : libteam-1.17-5.el7.x86_64 181/186 \\n Cleanup : libndp-1.2-4.el7.x86_64 182/186 \\n Cleanup : libxml2-2.9.1-5.el7_1.2.x86_64 183/186 \\n Cleanup : device-mapper-persistent-data-0.5.5-1.el7.x86_64 184/186 \\n Cleanup : numactl-libs-2.0.9-5.el7_1.x86_64 185/186 \\n Cleanup : pcre-8.32-15.el7.x86_64 186/186 \\nvboxadd.sh: Building Guest Additions kernel modules.\\n Verifying : openssh-server-6.6.1p1-25.el7_2.x86_64 1/186 \\n Verifying : 32:bind-license-9.9.4-29.el7_2.4.noarch 2/186 \\n Verifying : dnsmasq-2.66-14.el7_2.1.x86_64 3/186 \\n Verifying : iproute-3.10.0-54.el7_2.1.x86_64 4/186 \\n Verifying : sudo-1.8.6p7-17.el7_2.x86_64 5/186 \\n Verifying : nspr-4.11.0-1.el7_2.x86_64 6/186 \\n Verifying : util-linux-2.23.2-26.el7_2.3.x86_64 7/186 \\n Verifying : pcre-8.32-15.el7_2.1.x86_64 8/186 \\n Verifying : selinux-policy-devel-3.13.1-60.el7_2.9.noarch 9/186 \\n Verifying : gnutls-3.3.8-14.el7_2.x86_64 10/186 \\n Verifying : ca-certificates-2015.2.6-70.1.el7_2.noarch 11/186 \\n Verifying : 1:nfs-utils-1.3.0-0.21.el7_2.1.x86_64 12/186 \\n Verifying : nss-util-3.21.0-2.2.el7_2.x86_64 13/186 \\n Verifying : systemd-sysv-219-19.el7_2.13.x86_64 14/186 \\n Verifying : numactl-libs-2.0.9-6.el7_2.x86_64 15/186 \\n Verifying : cronie-anacron-1.4.11-14.el7_2.1.x86_64 16/186 \\n Verifying : 1:NetworkManager-team-1.0.6-31.el7_2.x86_64 17/186 \\n Verifying : dracut-config-rescue-033-360.el7_2.1.x86_64 18/186 \\n Verifying : libuuid-2.23.2-26.el7_2.3.x86_64 19/186 \\n Verifying : coreutils-8.22-15.el7_2.1.x86_64 20/186 \\n Verifying : kpartx-0.4.9-85.el7_2.6.x86_64 21/186 \\n Verifying : selinux-policy-3.13.1-60.el7_2.9.noarch 22/186 \\n Verifying : kernel-3.10.0-327.36.3.el7.x86_64 23/186 \\n Verifying : 7:device-mapper-1.02.107-5.el7_2.5.x86_64 24/186 \\n Verifying : 1:NetworkManager-tui-1.0.6-31.el7_2.x86_64 25/186 \\n Verifying : 7:device-mapper-libs-1.02.107-5.el7_2.5.x86_64 26/186 \\n Verifying : 2:microcode_ctl-2.1-12.el7_2.1.x86_64 27/186 \\n Verifying : rpcbind-0.2.0-33.el7_2.1.x86_64 28/186 \\n Verifying : 7:lvm2-libs-2.02.130-5.el7_2.5.x86_64 29/186 \\n Verifying : openldap-2.4.40-9.el7_2.x86_64 30/186 \\n Verifying : initscripts-9.49.30-1.el7_2.3.x86_64 31/186 \\n Verifying : 1:openssl-1.0.1e-51.el7_2.7.x86_64 32/186 \\n Verifying : avahi-libs-0.6.31-15.el7_2.1.x86_64 33/186 \\n Verifying : 7:lvm2-2.02.130-5.el7_2.5.x86_64 34/186 \\n Verifying : libblkid-2.23.2-26.el7_2.3.x86_64 35/186 \\n Verifying : kmod-libs-20-8.el7_2.x86_64 36/186 \\n Verifying : 32:bind-libs-lite-9.9.4-29.el7_2.4.x86_64 37/186 \\n Verifying : python-perf-3.10.0-327.36.3.el7.x86_64 38/186 \\n Verifying : krb5-libs-1.13.2-12.el7_2.x86_64 39/186 \\n Verifying : python-libs-2.7.5-39.el7_2.x86_64 40/186 \\n Verifying : bash-4.2.46-20.el7_2.x86_64 41/186 \\n Verifying : libssh2-1.4.3-10.el7_2.1.x86_64 42/186 \\n Verifying : cyrus-sasl-lib-2.1.26-20.el7_2.x86_64 43/186 \\n Verifying : nss-tools-3.21.0-9.el7_2.x86_64 44/186 \\n Verifying : 7:device-mapper-event-libs-1.02.107-5.el7_2.5.x86_64 45/186 \\n Verifying : libxml2-2.9.1-6.el7_2.3.x86_64 46/186 \\n Verifying : chkconfig-1.3.61-5.el7_2.1.x86_64 47/186 \\n Verifying : procps-ng-3.3.10-5.el7_2.x86_64 48/186 \\n Verifying : avahi-autoipd-0.6.31-15.el7_2.1.x86_64 49/186 \\n Verifying : 1:grub2-2.02-0.34.el7.centos.x86_64 50/186 \\n Verifying : kernel-tools-libs-3.10.0-327.36.3.el7.x86_64 51/186 \\n Verifying : systemd-libs-219-19.el7_2.13.x86_64 52/186 \\n Verifying : python-2.7.5-39.el7_2.x86_64 53/186 \\n Verifying : kexec-tools-2.0.7-38.el7_2.1.x86_64 54/186 \\n Verifying : libtevent-0.9.26-1.el7_2.1.x86_64 55/186 \\n Verifying : 1:quota-nls-4.01-11.el7_2.1.noarch 56/186 \\n Verifying : logrotate-3.8.6-7.el7_2.x86_64 57/186 \\n Verifying : 1:mariadb-libs-5.5.50-1.el7_2.x86_64 58/186 \\n Verifying : 1:grub2-tools-2.02-0.34.el7.centos.x86_64 59/186 \\n Verifying : kernel-tools-3.10.0-327.36.3.el7.x86_64 60/186 \\n Verifying : kernel-devel-3.10.0-327.36.3.el7.x86_64 61/186 \\n Verifying : gssproxy-0.4.1-8.el7_2.x86_64 62/186 \\n Verifying : 1:gmp-6.0.0-12.el7_1.x86_64 63/186 \\n Verifying : dracut-network-033-360.el7_2.1.x86_64 64/186 \\n Verifying : nss-3.21.0-9.el7_2.x86_64 65/186 \\n Verifying : nss-softokn-3.16.2.3-14.2.el7_2.x86_64 66/186 \\n Verifying : nss-softokn-freebl-3.16.2.3-14.2.el7_2.x86_64 67/186 \\n Verifying : tzdata-2016h-1.el7.noarch 68/186 \\n Verifying : dracut-033-360.el7_2.1.x86_64 69/186 \\n Verifying : device-mapper-persistent-data-0.6.2-1.el7_2.x86_64 70/186 \\n Verifying : 1:openssl-libs-1.0.1e-51.el7_2.7.x86_64 71/186 \\n Verifying : nss-sysinit-3.21.0-9.el7_2.x86_64 72/186 \\n Verifying : python-pyudev-0.15-7.el7_2.1.noarch 73/186 \\n Verifying : 1:dbus-1.6.12-14.el7_2.x86_64 74/186 \\n Verifying : 1:NetworkManager-libnm-1.0.6-31.el7_2.x86_64 75/186 \\n Verifying : libgudev1-219-19.el7_2.13.x86_64 76/186 \\n Verifying : selinux-policy-targeted-3.13.1-60.el7_2.9.noarch 77/186 \\n Verifying : teamd-1.17-7.el7_2.x86_64 78/186 \\n Verifying : polkit-0.112-7.el7_2.x86_64 79/186 \\n Verifying : 1:quota-4.01-11.el7_2.1.x86_64 80/186 \\n Verifying : openssh-6.6.1p1-25.el7_2.x86_64 81/186 \\n Verifying : libndp-1.2-6.el7_2.x86_64 82/186 \\n Verifying : kmod-20-8.el7_2.x86_64 83/186 \\n Verifying : rdma-7.2_4.1_rc6-2.el7.noarch 84/186 \\n Verifying : libtalloc-2.1.5-1.el7_2.x86_64 85/186 \\n Verifying : systemd-219-19.el7_2.13.x86_64 86/186 \\n Verifying : 7:device-mapper-event-1.02.107-5.el7_2.5.x86_64 87/186 \\n Verifying : cronie-1.4.11-14.el7_2.1.x86_64 88/186 \\n Verifying : 1:NetworkManager-1.0.6-31.el7_2.x86_64 89/186 \\n Verifying : openssh-clients-6.6.1p1-25.el7_2.x86_64 90/186 \\n Verifying : tuned-2.5.1-4.el7_2.6.noarch 91/186 \\n Verifying : 1:dbus-libs-1.6.12-14.el7_2.x86_64 92/186 \\n Verifying : libteam-1.17-7.el7_2.x86_64 93/186 \\n Verifying : libmount-2.23.2-26.el7_2.3.x86_64 94/186 \\n Verifying : dracut-config-rescue-033-359.el7.x86_64 95/186 \\n Verifying : gnutls-3.3.8-12.el7_1.1.x86_64 96/186 \\n Verifying : openssh-6.6.1p1-22.el7.x86_64 97/186 \\n Verifying : 7:device-mapper-event-libs-1.02.107-5.el7.x86_64 98/186 \\n Verifying : polkit-0.112-5.el7.x86_64 99/186 \\n Verifying : avahi-autoipd-0.6.31-15.el7.x86_64 100/186 \\n Verifying : 1:NetworkManager-1.0.6-27.el7.x86_64 101/186 \\n Verifying : selinux-policy-3.13.1-60.el7.noarch 102/186 \\n Verifying : systemd-libs-219-19.el7.x86_64 103/186 \\n Verifying : libblkid-2.23.2-26.el7.x86_64 104/186 \\n Verifying : libndp-1.2-4.el7.x86_64 105/186 \\n Verifying : device-mapper-persistent-data-0.5.5-1.el7.x86_64 106/186 \\n Verifying : 1:quota-4.01-11.el7.x86_64 107/186 \\n Verifying : kpartx-0.4.9-85.el7.x86_64 108/186 \\n Verifying : krb5-libs-1.13.2-10.el7.x86_64 109/186 \\n Verifying : python-pyudev-0.15-7.el7.noarch 110/186 \\n Verifying : sudo-1.8.6p7-16.el7.x86_64 111/186 \\n Verifying : nss-util-3.19.1-4.el7_1.x86_64 112/186 \\n Verifying : cronie-1.4.11-14.el7.x86_64 113/186 \\n Verifying : rdma-7.2_4.1_rc6-1.el7.noarch 114/186 \\n Verifying : 1:dbus-1.6.12-13.el7.x86_64 115/186 \\n Verifying : kexec-tools-2.0.7-38.el7.x86_64 116/186 \\n Verifying : rpcbind-0.2.0-32.el7.x86_64 117/186 \\n Verifying : kernel-tools-3.10.0-327.el7.x86_64 118/186 \\n Verifying : procps-ng-3.3.10-3.el7.x86_64 119/186 \\n Verifying : 7:lvm2-libs-2.02.130-5.el7.x86_64 120/186 \\n Verifying : nss-softokn-3.16.2.3-13.el7_1.x86_64 121/186 \\n Verifying : 1:NetworkManager-tui-1.0.6-27.el7.x86_64 122/186 \\n Verifying : python-2.7.5-34.el7.x86_64 123/186 \\n Verifying : libuuid-2.23.2-26.el7.x86_64 124/186 \\n Verifying : logrotate-3.8.6-6.el7.x86_64 125/186 \\n Verifying : 1:grub2-tools-2.02-0.29.el7.centos.x86_64 126/186 \\n Verifying : systemd-sysv-219-19.el7.x86_64 127/186 \\n Verifying : libgudev1-219-19.el7.x86_64 128/186 \\n Verifying : tzdata-2015g-1.el7.noarch 129/186 \\n Verifying : nss-sysinit-3.19.1-18.el7.x86_64 130/186 \\n Verifying : libmount-2.23.2-26.el7.x86_64 131/186 \\n Verifying : 1:gmp-6.0.0-11.el7.x86_64 132/186 \\n Verifying : 7:device-mapper-event-1.02.107-5.el7.x86_64 133/186 \\n Verifying : 1:NetworkManager-team-1.0.6-27.el7.x86_64 134/186 \\n Verifying : kernel-tools-libs-3.10.0-327.el7.x86_64 135/186 \\n Verifying : cronie-anacron-1.4.11-14.el7.x86_64 136/186 \\n Verifying : iproute-3.10.0-54.el7.x86_64 137/186 \\n Verifying : 1:quota-nls-4.01-11.el7.noarch 138/186 \\n Verifying : teamd-1.17-5.el7.x86_64 139/186 \\n Verifying : 1:grub2-2.02-0.29.el7.centos.x86_64 140/186 \\n Verifying : ca-certificates-2015.2.4-71.el7.noarch 141/186 \\n Verifying : util-linux-2.23.2-26.el7.x86_64 142/186 \\n Verifying : dnsmasq-2.66-14.el7_1.x86_64 143/186 \\n Verifying : 1:openssl-1.0.1e-42.el7.9.x86_64 144/186 \\n Verifying : 7:lvm2-2.02.130-5.el7.x86_64 145/186 \\n Verifying : tuned-2.5.1-4.el7.noarch 146/186 \\n Verifying : dracut-network-033-359.el7.x86_64 147/186 \\n Verifying : bash-4.2.46-19.el7.x86_64 148/186 \\n Verifying : python-libs-2.7.5-34.el7.x86_64 149/186 \\n Verifying : selinux-policy-targeted-3.13.1-60.el7.noarch 150/186 \\n Verifying : libtevent-0.9.25-1.el7.x86_64 151/186 \\n Verifying : 1:mariadb-libs-5.5.44-2.el7.centos.x86_64 152/186 \\n Verifying : cyrus-sasl-lib-2.1.26-19.2.el7.x86_64 153/186 \\n Verifying : pcre-8.32-15.el7.x86_64 154/186 \\n Verifying : chkconfig-1.3.61-5.el7.x86_64 155/186 \\n Verifying : nss-softokn-freebl-3.16.2.3-13.el7_1.x86_64 156/186 \\n Verifying : initscripts-9.49.30-1.el7.x86_64 157/186 \\n Verifying : nss-tools-3.19.1-18.el7.x86_64 158/186 \\n Verifying : numactl-libs-2.0.9-5.el7_1.x86_64 159/186 \\n Verifying : 1:openssl-libs-1.0.1e-42.el7.9.x86_64 160/186 \\n Verifying : 32:bind-libs-lite-9.9.4-29.el7.x86_64 161/186 \\n Verifying : 2:microcode_ctl-2.1-12.el7.x86_64 162/186 \\n Verifying : 7:device-mapper-1.02.107-5.el7.x86_64 163/186 \\n Verifying : python-perf-3.10.0-327.el7.x86_64 164/186 \\n Verifying : 32:bind-license-9.9.4-29.el7.noarch 165/186 \\n Verifying : libteam-1.17-5.el7.x86_64 166/186 \\n Verifying : coreutils-8.22-15.el7.x86_64 167/186 \\n Verifying : libtalloc-2.1.2-1.el7.x86_64 168/186 \\n Verifying : nss-3.19.1-18.el7.x86_64 169/186 \\n Verifying : kmod-20-5.el7.x86_64 170/186 \\n Verifying : kmod-libs-20-5.el7.x86_64 171/186 \\n Verifying : 1:nfs-utils-1.3.0-0.21.el7.x86_64 172/186 \\n Verifying : systemd-219-19.el7.x86_64 173/186 \\n Verifying : dracut-033-359.el7.x86_64 174/186 \\n Verifying : 1:dbus-libs-1.6.12-13.el7.x86_64 175/186 \\n Verifying : avahi-libs-0.6.31-15.el7.x86_64 176/186 \\n Verifying : openssh-clients-6.6.1p1-22.el7.x86_64 177/186 \\n Verifying : 1:NetworkManager-libnm-1.0.6-27.el7.x86_64 178/186 \\n Verifying : openssh-server-6.6.1p1-22.el7.x86_64 179/186 \\n Verifying : gssproxy-0.4.1-7.el7.x86_64 180/186 \\n Verifying : selinux-policy-devel-3.13.1-60.el7.noarch 181/186 \\n Verifying : libxml2-2.9.1-5.el7_1.2.x86_64 182/186 \\n Verifying : openldap-2.4.40-8.el7.x86_64 183/186 \\n Verifying : libssh2-1.4.3-10.el7.x86_64 184/186 \\n Verifying : 7:device-mapper-libs-1.02.107-5.el7.x86_64 185/186 \\n Verifying : nspr-4.10.8-2.el7_1.x86_64 186/186 \\n\\nInstalled:\\n kernel.x86_64 0:3.10.0-327.36.3.el7 kernel-devel.x86_64 0:3.10.0-327.36.3.el7\\n\\nUpdated:\\n NetworkManager.x86_64 1:1.0.6-31.el7_2 \\n NetworkManager-libnm.x86_64 1:1.0.6-31.el7_2 \\n NetworkManager-team.x86_64 1:1.0.6-31.el7_2 \\n NetworkManager-tui.x86_64 1:1.0.6-31.el7_2 \\n avahi-autoipd.x86_64 0:0.6.31-15.el7_2.1 \\n avahi-libs.x86_64 0:0.6.31-15.el7_2.1 \\n bash.x86_64 0:4.2.46-20.el7_2 \\n bind-libs-lite.x86_64 32:9.9.4-29.el7_2.4 \\n bind-license.noarch 32:9.9.4-29.el7_2.4 \\n ca-certificates.noarch 0:2015.2.6-70.1.el7_2 \\n chkconfig.x86_64 0:1.3.61-5.el7_2.1 \\n coreutils.x86_64 0:8.22-15.el7_2.1 \\n cronie.x86_64 0:1.4.11-14.el7_2.1 \\n cronie-anacron.x86_64 0:1.4.11-14.el7_2.1 \\n cyrus-sasl-lib.x86_64 0:2.1.26-20.el7_2 \\n dbus.x86_64 1:1.6.12-14.el7_2 \\n dbus-libs.x86_64 1:1.6.12-14.el7_2 \\n device-mapper.x86_64 7:1.02.107-5.el7_2.5 \\n device-mapper-event.x86_64 7:1.02.107-5.el7_2.5 \\n device-mapper-event-libs.x86_64 7:1.02.107-5.el7_2.5 \\n device-mapper-libs.x86_64 7:1.02.107-5.el7_2.5 \\n device-mapper-persistent-data.x86_64 0:0.6.2-1.el7_2 \\n dnsmasq.x86_64 0:2.66-14.el7_2.1 \\n dracut.x86_64 0:033-360.el7_2.1 \\n dracut-config-rescue.x86_64 0:033-360.el7_2.1 \\n dracut-network.x86_64 0:033-360.el7_2.1 \\n gmp.x86_64 1:6.0.0-12.el7_1 \\n gnutls.x86_64 0:3.3.8-14.el7_2 \\n grub2.x86_64 1:2.02-0.34.el7.centos \\n grub2-tools.x86_64 1:2.02-0.34.el7.centos \\n gssproxy.x86_64 0:0.4.1-8.el7_2 \\n initscripts.x86_64 0:9.49.30-1.el7_2.3 \\n iproute.x86_64 0:3.10.0-54.el7_2.1 \\n kernel-tools.x86_64 0:3.10.0-327.36.3.el7 \\n kernel-tools-libs.x86_64 0:3.10.0-327.36.3.el7 \\n kexec-tools.x86_64 0:2.0.7-38.el7_2.1 \\n kmod.x86_64 0:20-8.el7_2 \\n kmod-libs.x86_64 0:20-8.el7_2 \\n kpartx.x86_64 0:0.4.9-85.el7_2.6 \\n krb5-libs.x86_64 0:1.13.2-12.el7_2 \\n libblkid.x86_64 0:2.23.2-26.el7_2.3 \\n libgudev1.x86_64 0:219-19.el7_2.13 \\n libmount.x86_64 0:2.23.2-26.el7_2.3 \\n libndp.x86_64 0:1.2-6.el7_2 \\n libssh2.x86_64 0:1.4.3-10.el7_2.1 \\n libtalloc.x86_64 0:2.1.5-1.el7_2 \\n libteam.x86_64 0:1.17-7.el7_2 \\n libtevent.x86_64 0:0.9.26-1.el7_2.1 \\n libuuid.x86_64 0:2.23.2-26.el7_2.3 \\n libxml2.x86_64 0:2.9.1-6.el7_2.3 \\n logrotate.x86_64 0:3.8.6-7.el7_2 \\n lvm2.x86_64 7:2.02.130-5.el7_2.5 \\n lvm2-libs.x86_64 7:2.02.130-5.el7_2.5 \\n mariadb-libs.x86_64 1:5.5.50-1.el7_2 \\n microcode_ctl.x86_64 2:2.1-12.el7_2.1 \\n nfs-utils.x86_64 1:1.3.0-0.21.el7_2.1 \\n nspr.x86_64 0:4.11.0-1.el7_2 \\n nss.x86_64 0:3.21.0-9.el7_2 \\n nss-softokn.x86_64 0:3.16.2.3-14.2.el7_2 \\n nss-softokn-freebl.x86_64 0:3.16.2.3-14.2.el7_2 \\n nss-sysinit.x86_64 0:3.21.0-9.el7_2 \\n nss-tools.x86_64 0:3.21.0-9.el7_2 \\n nss-util.x86_64 0:3.21.0-2.2.el7_2 \\n numactl-libs.x86_64 0:2.0.9-6.el7_2 \\n openldap.x86_64 0:2.4.40-9.el7_2 \\n openssh.x86_64 0:6.6.1p1-25.el7_2 \\n openssh-clients.x86_64 0:6.6.1p1-25.el7_2 \\n openssh-server.x86_64 0:6.6.1p1-25.el7_2 \\n openssl.x86_64 1:1.0.1e-51.el7_2.7 \\n openssl-libs.x86_64 1:1.0.1e-51.el7_2.7 \\n pcre.x86_64 0:8.32-15.el7_2.1 \\n polkit.x86_64 0:0.112-7.el7_2 \\n procps-ng.x86_64 0:3.3.10-5.el7_2 \\n python.x86_64 0:2.7.5-39.el7_2 \\n python-libs.x86_64 0:2.7.5-39.el7_2 \\n python-perf.x86_64 0:3.10.0-327.36.3.el7 \\n python-pyudev.noarch 0:0.15-7.el7_2.1 \\n quota.x86_64 1:4.01-11.el7_2.1 \\n quota-nls.noarch 1:4.01-11.el7_2.1 \\n rdma.noarch 0:7.2_4.1_rc6-2.el7 \\n rpcbind.x86_64 0:0.2.0-33.el7_2.1 \\n selinux-policy.noarch 0:3.13.1-60.el7_2.9 \\n selinux-policy-devel.noarch 0:3.13.1-60.el7_2.9 \\n selinux-policy-targeted.noarch 0:3.13.1-60.el7_2.9 \\n sudo.x86_64 0:1.8.6p7-17.el7_2 \\n systemd.x86_64 0:219-19.el7_2.13 \\n systemd-libs.x86_64 0:219-19.el7_2.13 \\n systemd-sysv.x86_64 0:219-19.el7_2.13 \\n teamd.x86_64 0:1.17-7.el7_2 \\n tuned.noarch 0:2.5.1-4.el7_2.6 \\n tzdata.noarch 0:2016h-1.el7 \\n util-linux.x86_64 0:2.23.2-26.el7_2.3 \\n\\nComplete!\\n\u0026#34;]} TASK [CentOS7.2 : check CentOS version] **************************************** changed: [host] =\u0026gt; {\u0026#34;changed\u0026#34;: true, \u0026#34;cmd\u0026#34;: [\u0026#34;cat\u0026#34;, \u0026#34;/etc/redhat-release\u0026#34;], \u0026#34;delta\u0026#34;: \u0026#34;0:00:00.003325\u0026#34;, \u0026#34;end\u0026#34;: \u0026#34;2016-11-29 06:33:46.599010\u0026#34;, \u0026#34;rc\u0026#34;: 0, \u0026#34;start\u0026#34;: \u0026#34;2016-11-29 06:33:46.595685\u0026#34;, \u0026#34;stderr\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;stdout\u0026#34;: \u0026#34;CentOS Linux release 7.2.1511 (Core) \u0026#34;, \u0026#34;stdout_lines\u0026#34;: [\u0026#34;CentOS Linux release 7.2.1511 (Core) \u0026#34;], \u0026#34;warnings\u0026#34;: []} TASK [CentOS7.2 : set LANG] **************************************************** changed: [host] =\u0026gt; {\u0026#34;changed\u0026#34;: true, \u0026#34;cmd\u0026#34;: [\u0026#34;localectl\u0026#34;, \u0026#34;set-locale\u0026#34;, \u0026#34;LANG=ja_JP.UTF-8\u0026#34;], \u0026#34;delta\u0026#34;: \u0026#34;0:00:00.112148\u0026#34;, \u0026#34;end\u0026#34;: \u0026#34;2016-11-29 06:33:46.888318\u0026#34;, \u0026#34;rc\u0026#34;: 0, \u0026#34;start\u0026#34;: \u0026#34;2016-11-29 06:33:46.776170\u0026#34;, \u0026#34;stderr\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;stdout\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;stdout_lines\u0026#34;: [], \u0026#34;warnings\u0026#34;: []} TASK [CentOS7.2 : set keymap] ************************************************** changed: [host] =\u0026gt; {\u0026#34;changed\u0026#34;: true, \u0026#34;cmd\u0026#34;: [\u0026#34;localectl\u0026#34;, \u0026#34;set-keymap\u0026#34;, \u0026#34;jp106\u0026#34;], \u0026#34;delta\u0026#34;: \u0026#34;0:00:00.009940\u0026#34;, \u0026#34;end\u0026#34;: \u0026#34;2016-11-29 06:33:47.051681\u0026#34;, \u0026#34;rc\u0026#34;: 0, \u0026#34;start\u0026#34;: \u0026#34;2016-11-29 06:33:47.041741\u0026#34;, \u0026#34;stderr\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;stdout\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;stdout_lines\u0026#34;: [], \u0026#34;warnings\u0026#34;: []} TASK [CentOS7.2 : set timezone] ************************************************ changed: [host] =\u0026gt; {\u0026#34;changed\u0026#34;: true, \u0026#34;cmd\u0026#34;: [\u0026#34;timedatectl\u0026#34;, \u0026#34;set-timezone\u0026#34;, \u0026#34;Asia/Tokyo\u0026#34;], \u0026#34;delta\u0026#34;: \u0026#34;9:00:00.029756\u0026#34;, \u0026#34;end\u0026#34;: \u0026#34;2016-11-29 15:33:47.309770\u0026#34;, \u0026#34;rc\u0026#34;: 0, \u0026#34;start\u0026#34;: \u0026#34;2016-11-29 06:33:47.280014\u0026#34;, \u0026#34;stderr\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;stdout\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;stdout_lines\u0026#34;: [], \u0026#34;warnings\u0026#34;: []} TASK [CentOS7.2 : install chrony] ********************************************** changed: [host] =\u0026gt; {\u0026#34;changed\u0026#34;: true, \u0026#34;msg\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;rc\u0026#34;: 0, \u0026#34;results\u0026#34;: [\u0026#34;Loaded plugins: fastestmirror\\nLoading mirror speeds from cached hostfile\\n * base: ftp.iij.ad.jp\\n * epel: ftp.riken.jp\\n * extras: ftp.iij.ad.jp\\n * updates: ftp.iij.ad.jp\\nResolving Dependencies\\n--\u0026gt; Running transaction check\\n---\u0026gt; Package chrony.x86_64 0:2.1.1-1.el7.centos will be installed\\n--\u0026gt; Finished Dependency Resolution\\n\\nDependencies Resolved\\n\\n================================================================================\\n Package Arch Version Repository Size\\n================================================================================\\nInstalling:\\n chrony x86_64 2.1.1-1.el7.centos base 280 k\\n\\nTransaction Summary\\n================================================================================\\nInstall 1 Package\\n\\nTotal download size: 280 k\\nInstalled size: 468 k\\nDownloading packages:\\nRunning transaction check\\nRunning transaction test\\nTransaction test succeeded\\nRunning transaction\\n Installing : chrony-2.1.1-1.el7.centos.x86_64 1/1 \\n Verifying : chrony-2.1.1-1.el7.centos.x86_64 1/1 \\n\\nInstalled:\\n chrony.x86_64 0:2.1.1-1.el7.centos \\n\\nComplete!\\n\u0026#34;]} TASK [CentOS7.2 : start chrony] ************************************************ changed: [host] =\u0026gt; {\u0026#34;changed\u0026#34;: true, \u0026#34;enabled\u0026#34;: true, \u0026#34;name\u0026#34;: \u0026#34;chronyd\u0026#34;, \u0026#34;state\u0026#34;: \u0026#34;started\u0026#34;, \u0026#34;status\u0026#34;: {\u0026#34;ActiveEnterTimestampMonotonic\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;ActiveExitTimestampMonotonic\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;ActiveState\u0026#34;: \u0026#34;inactive\u0026#34;, \u0026#34;After\u0026#34;: \u0026#34;ntpdate.service basic.target system.slice ntpd.service sntp.service systemd-journald.socket\u0026#34;, \u0026#34;AllowIsolate\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;AssertResult\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;AssertTimestampMonotonic\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;Before\u0026#34;: \u0026#34;multi-user.target shutdown.target\u0026#34;, \u0026#34;BlockIOAccounting\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;BlockIOWeight\u0026#34;: \u0026#34;18446744073709551615\u0026#34;, \u0026#34;CPUAccounting\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;CPUQuotaPerSecUSec\u0026#34;: \u0026#34;infinity\u0026#34;, \u0026#34;CPUSchedulingPolicy\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;CPUSchedulingPriority\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;CPUSchedulingResetOnFork\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;CPUShares\u0026#34;: \u0026#34;18446744073709551615\u0026#34;, \u0026#34;CanIsolate\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;CanReload\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;CanStart\u0026#34;: \u0026#34;yes\u0026#34;, \u0026#34;CanStop\u0026#34;: \u0026#34;yes\u0026#34;, \u0026#34;CapabilityBoundingSet\u0026#34;: \u0026#34;18446744073709551615\u0026#34;, \u0026#34;ConditionResult\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;ConditionTimestampMonotonic\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;Conflicts\u0026#34;: \u0026#34;ntpd.service shutdown.target\u0026#34;, \u0026#34;ControlPID\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;DefaultDependencies\u0026#34;: \u0026#34;yes\u0026#34;, \u0026#34;Delegate\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;Description\u0026#34;: \u0026#34;NTP client/server\u0026#34;, \u0026#34;DevicePolicy\u0026#34;: \u0026#34;auto\u0026#34;, \u0026#34;EnvironmentFile\u0026#34;: \u0026#34;/etc/sysconfig/chronyd (ignore_errors=yes)\u0026#34;, \u0026#34;ExecMainCode\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;ExecMainExitTimestampMonotonic\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;ExecMainPID\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;ExecMainStartTimestampMonotonic\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;ExecMainStatus\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;ExecStart\u0026#34;: \u0026#34;{ path=/usr/sbin/chronyd ; argv[]=/usr/sbin/chronyd $OPTIONS ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }\u0026#34;, \u0026#34;ExecStartPost\u0026#34;: \u0026#34;{ path=/usr/libexec/chrony-helper ; argv[]=/usr/libexec/chrony-helper update-daemon ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }\u0026#34;, \u0026#34;FailureAction\u0026#34;: \u0026#34;none\u0026#34;, \u0026#34;FileDescriptorStoreMax\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;FragmentPath\u0026#34;: \u0026#34;/usr/lib/systemd/system/chronyd.service\u0026#34;, \u0026#34;GuessMainPID\u0026#34;: \u0026#34;yes\u0026#34;, \u0026#34;IOScheduling\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;Id\u0026#34;: \u0026#34;chronyd.service\u0026#34;, \u0026#34;IgnoreOnIsolate\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;IgnoreOnSnapshot\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;IgnoreSIGPIPE\u0026#34;: \u0026#34;yes\u0026#34;, \u0026#34;InactiveEnterTimestampMonotonic\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;InactiveExitTimestampMonotonic\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;JobTimeoutAction\u0026#34;: \u0026#34;none\u0026#34;, \u0026#34;JobTimeoutUSec\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;KillMode\u0026#34;: \u0026#34;control-group\u0026#34;, \u0026#34;KillSignal\u0026#34;: \u0026#34;15\u0026#34;, \u0026#34;LimitAS\u0026#34;: \u0026#34;18446744073709551615\u0026#34;, \u0026#34;LimitCORE\u0026#34;: \u0026#34;18446744073709551615\u0026#34;, \u0026#34;LimitCPU\u0026#34;: \u0026#34;18446744073709551615\u0026#34;, \u0026#34;LimitDATA\u0026#34;: \u0026#34;18446744073709551615\u0026#34;, \u0026#34;LimitFSIZE\u0026#34;: \u0026#34;18446744073709551615\u0026#34;, \u0026#34;LimitLOCKS\u0026#34;: \u0026#34;18446744073709551615\u0026#34;, \u0026#34;LimitMEMLOCK\u0026#34;: \u0026#34;65536\u0026#34;, \u0026#34;LimitMSGQUEUE\u0026#34;: \u0026#34;819200\u0026#34;, \u0026#34;LimitNICE\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;LimitNOFILE\u0026#34;: \u0026#34;4096\u0026#34;, \u0026#34;LimitNPROC\u0026#34;: \u0026#34;1875\u0026#34;, \u0026#34;LimitRSS\u0026#34;: \u0026#34;18446744073709551615\u0026#34;, \u0026#34;LimitRTPRIO\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;LimitRTTIME\u0026#34;: \u0026#34;18446744073709551615\u0026#34;, \u0026#34;LimitSIGPENDING\u0026#34;: \u0026#34;1875\u0026#34;, \u0026#34;LimitSTACK\u0026#34;: \u0026#34;18446744073709551615\u0026#34;, \u0026#34;LoadState\u0026#34;: \u0026#34;loaded\u0026#34;, \u0026#34;MainPID\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;MemoryAccounting\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;MemoryCurrent\u0026#34;: \u0026#34;18446744073709551615\u0026#34;, \u0026#34;MemoryLimit\u0026#34;: \u0026#34;18446744073709551615\u0026#34;, \u0026#34;MountFlags\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;Names\u0026#34;: \u0026#34;chronyd.service\u0026#34;, \u0026#34;NeedDaemonReload\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;Nice\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;NoNewPrivileges\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;NonBlocking\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;NotifyAccess\u0026#34;: \u0026#34;none\u0026#34;, \u0026#34;OOMScoreAdjust\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;OnFailureJobMode\u0026#34;: \u0026#34;replace\u0026#34;, \u0026#34;PIDFile\u0026#34;: \u0026#34;/var/run/chronyd.pid\u0026#34;, \u0026#34;PermissionsStartOnly\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;PrivateDevices\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;PrivateNetwork\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;PrivateTmp\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;ProtectHome\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;ProtectSystem\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;RefuseManualStart\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;RefuseManualStop\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;RemainAfterExit\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;Requires\u0026#34;: \u0026#34;basic.target\u0026#34;, \u0026#34;Restart\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;RestartUSec\u0026#34;: \u0026#34;100ms\u0026#34;, \u0026#34;Result\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;RootDirectoryStartOnly\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;RuntimeDirectoryMode\u0026#34;: \u0026#34;0755\u0026#34;, \u0026#34;SameProcessGroup\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;SecureBits\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;SendSIGHUP\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;SendSIGKILL\u0026#34;: \u0026#34;yes\u0026#34;, \u0026#34;Slice\u0026#34;: \u0026#34;system.slice\u0026#34;, \u0026#34;StandardError\u0026#34;: \u0026#34;inherit\u0026#34;, \u0026#34;StandardInput\u0026#34;: \u0026#34;null\u0026#34;, \u0026#34;StandardOutput\u0026#34;: \u0026#34;journal\u0026#34;, \u0026#34;StartLimitAction\u0026#34;: \u0026#34;none\u0026#34;, \u0026#34;StartLimitBurst\u0026#34;: \u0026#34;5\u0026#34;, \u0026#34;StartLimitInterval\u0026#34;: \u0026#34;10000000\u0026#34;, \u0026#34;StartupBlockIOWeight\u0026#34;: \u0026#34;18446744073709551615\u0026#34;, \u0026#34;StartupCPUShares\u0026#34;: \u0026#34;18446744073709551615\u0026#34;, \u0026#34;StatusErrno\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;StopWhenUnneeded\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;SubState\u0026#34;: \u0026#34;dead\u0026#34;, \u0026#34;SyslogLevelPrefix\u0026#34;: \u0026#34;yes\u0026#34;, \u0026#34;SyslogPriority\u0026#34;: \u0026#34;30\u0026#34;, \u0026#34;SystemCallErrorNumber\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;TTYReset\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;TTYVHangup\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;TTYVTDisallocate\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;TimeoutStartUSec\u0026#34;: \u0026#34;1min 30s\u0026#34;, \u0026#34;TimeoutStopUSec\u0026#34;: \u0026#34;1min 30s\u0026#34;, \u0026#34;TimerSlackNSec\u0026#34;: \u0026#34;50000\u0026#34;, \u0026#34;Transient\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;Type\u0026#34;: \u0026#34;forking\u0026#34;, \u0026#34;UMask\u0026#34;: \u0026#34;0022\u0026#34;, \u0026#34;UnitFilePreset\u0026#34;: \u0026#34;enabled\u0026#34;, \u0026#34;UnitFileState\u0026#34;: \u0026#34;enabled\u0026#34;, \u0026#34;WantedBy\u0026#34;: \u0026#34;multi-user.target\u0026#34;, \u0026#34;Wants\u0026#34;: \u0026#34;system.slice\u0026#34;, \u0026#34;WatchdogTimestampMonotonic\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;WatchdogUSec\u0026#34;: \u0026#34;0\u0026#34;}} TASK [CentOS7.2 : copy chrony.conf template] *********************************** changed: [host] =\u0026gt; {\u0026#34;changed\u0026#34;: true, \u0026#34;checksum\u0026#34;: \u0026#34;edc2fa30b6c4cd9e96df43f7746b2f8d99fd4b30\u0026#34;, \u0026#34;dest\u0026#34;: \u0026#34;/etc/chrony.conf\u0026#34;, \u0026#34;gid\u0026#34;: 0, \u0026#34;group\u0026#34;: \u0026#34;root\u0026#34;, \u0026#34;md5sum\u0026#34;: \u0026#34;0f5442788b66fdcc513dd5b1c40a8dea\u0026#34;, \u0026#34;mode\u0026#34;: \u0026#34;0644\u0026#34;, \u0026#34;owner\u0026#34;: \u0026#34;root\u0026#34;, \u0026#34;secontext\u0026#34;: \u0026#34;system_u:object_r:etc_t:s0\u0026#34;, \u0026#34;size\u0026#34;: 1170, \u0026#34;src\u0026#34;: \u0026#34;/home/vagrant/.ansible/tmp/ansible-tmp-1480401232.06-224884913361550/source\u0026#34;, \u0026#34;state\u0026#34;: \u0026#34;file\u0026#34;, \u0026#34;uid\u0026#34;: 0} TASK [CentOS7.2 : copy /etc/profile.d/alias.sh template] *********************** changed: [host] =\u0026gt; {\u0026#34;changed\u0026#34;: true, \u0026#34;checksum\u0026#34;: \u0026#34;781ebc25847eb135ec260d405817a435de70c4db\u0026#34;, \u0026#34;dest\u0026#34;: \u0026#34;/etc/profile.d/alias.sh\u0026#34;, \u0026#34;gid\u0026#34;: 0, \u0026#34;group\u0026#34;: \u0026#34;root\u0026#34;, \u0026#34;md5sum\u0026#34;: \u0026#34;01206c14444d91222bb445b27522afcf\u0026#34;, \u0026#34;mode\u0026#34;: \u0026#34;0644\u0026#34;, \u0026#34;owner\u0026#34;: \u0026#34;root\u0026#34;, \u0026#34;secontext\u0026#34;: \u0026#34;system_u:object_r:bin_t:s0\u0026#34;, \u0026#34;size\u0026#34;: 98, \u0026#34;src\u0026#34;: \u0026#34;/home/vagrant/.ansible/tmp/ansible-tmp-1480401232.56-62694927164343/source\u0026#34;, \u0026#34;state\u0026#34;: \u0026#34;file\u0026#34;, \u0026#34;uid\u0026#34;: 0} TASK [CentOS7.2 : install selinux util] **************************************** ok: [host] =\u0026gt; (item=[u\u0026#39;libselinux-python\u0026#39;, u\u0026#39;libselinux-utils\u0026#39;, u\u0026#39;selinux-policy\u0026#39;, u\u0026#39;selinux-policy-targeted\u0026#39;]) =\u0026gt; {\u0026#34;changed\u0026#34;: false, \u0026#34;item\u0026#34;: [\u0026#34;libselinux-python\u0026#34;, \u0026#34;libselinux-utils\u0026#34;, \u0026#34;selinux-policy\u0026#34;, \u0026#34;selinux-policy-targeted\u0026#34;], \u0026#34;msg\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;rc\u0026#34;: 0, \u0026#34;results\u0026#34;: [\u0026#34;libselinux-python-2.2.2-6.el7.x86_64 providing libselinux-python is already installed\u0026#34;, \u0026#34;libselinux-utils-2.2.2-6.el7.x86_64 providing libselinux-utils is already installed\u0026#34;, \u0026#34;selinux-policy-3.13.1-60.el7_2.9.noarch providing selinux-policy is already installed\u0026#34;, \u0026#34;selinux-policy-targeted-3.13.1-60.el7_2.9.noarch providing selinux-policy-targeted is already installed\u0026#34;]} TASK [CentOS7.2 : disable selinux] ********************************************* changed: [host] =\u0026gt; {\u0026#34;changed\u0026#34;: true, \u0026#34;configfile\u0026#34;: \u0026#34;/etc/selinux/config\u0026#34;, \u0026#34;msg\u0026#34;: \u0026#34;state change will take effect next reboot, config state changed from \u0026#39;permissive\u0026#39; to \u0026#39;disabled\u0026#39;\u0026#34;, \u0026#34;policy\u0026#34;: \u0026#34;targeted\u0026#34;, \u0026#34;state\u0026#34;: \u0026#34;disabled\u0026#34;} TASK [ansible : ssh config] **************************************************** changed: [host] =\u0026gt; {\u0026#34;changed\u0026#34;: true, \u0026#34;checksum\u0026#34;: \u0026#34;325f4dac20857674a7d02879087d4ed90817546d\u0026#34;, \u0026#34;dest\u0026#34;: \u0026#34;/home/vagrant/.ssh/config\u0026#34;, \u0026#34;gid\u0026#34;: 1000, \u0026#34;group\u0026#34;: \u0026#34;vagrant\u0026#34;, \u0026#34;md5sum\u0026#34;: \u0026#34;6ed07d165913f46204d417d11564ffcb\u0026#34;, \u0026#34;mode\u0026#34;: \u0026#34;0600\u0026#34;, \u0026#34;owner\u0026#34;: \u0026#34;vagrant\u0026#34;, \u0026#34;secontext\u0026#34;: \u0026#34;unconfined_u:object_r:ssh_home_t:s0\u0026#34;, \u0026#34;size\u0026#34;: 59, \u0026#34;src\u0026#34;: \u0026#34;/home/vagrant/.ansible/tmp/ansible-tmp-1480401233.45-176277810981132/source\u0026#34;, \u0026#34;state\u0026#34;: \u0026#34;file\u0026#34;, \u0026#34;uid\u0026#34;: 1000} TASK [ansible : check existing id_rsa] ***************************************** ok: [host] =\u0026gt; {\u0026#34;changed\u0026#34;: false, \u0026#34;stat\u0026#34;: {\u0026#34;exists\u0026#34;: false}} TASK [ansible : debug] ********************************************************* ok: [host] =\u0026gt; { \u0026#34;id_rsa\u0026#34;: { \u0026#34;changed\u0026#34;: false, \u0026#34;stat\u0026#34;: { \u0026#34;exists\u0026#34;: false } } } TASK [ansible : Generate SSH keys] ********************************************* changed: [host] =\u0026gt; {\u0026#34;changed\u0026#34;: true, \u0026#34;cmd\u0026#34;: \u0026#34;ssh-keygen -b 2048 -t rsa -f /home/vagrant/.ssh/id_rsa -q -N \\\u0026#34;\\\u0026#34;\u0026#34;, \u0026#34;delta\u0026#34;: \u0026#34;0:00:00.033785\u0026#34;, \u0026#34;end\u0026#34;: \u0026#34;2016-11-29 15:33:54.054979\u0026#34;, \u0026#34;rc\u0026#34;: 0, \u0026#34;start\u0026#34;: \u0026#34;2016-11-29 15:33:54.021194\u0026#34;, \u0026#34;stderr\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;stdout\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;stdout_lines\u0026#34;: [], \u0026#34;warnings\u0026#34;: []} TASK [ansible : copy ssh keys] ************************************************* changed: [host] =\u0026gt; (item=192.168.52.52) =\u0026gt; {\u0026#34;changed\u0026#34;: true, \u0026#34;cmd\u0026#34;: \u0026#34;sshpass -p \u0026#39;vagrant\u0026#39; ssh-copy-id -i /home/vagrant/.ssh/id_rsa.pub vagrant@192.168.52.52\u0026#34;, \u0026#34;delta\u0026#34;: \u0026#34;0:00:00.444070\u0026#34;, \u0026#34;end\u0026#34;: \u0026#34;2016-11-29 15:33:54.664431\u0026#34;, \u0026#34;item\u0026#34;: \u0026#34;192.168.52.52\u0026#34;, \u0026#34;rc\u0026#34;: 0, \u0026#34;start\u0026#34;: \u0026#34;2016-11-29 15:33:54.220361\u0026#34;, \u0026#34;stderr\u0026#34;: \u0026#34;/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed\\n/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted now it is to install the new keys\u0026#34;, \u0026#34;stdout\u0026#34;: \u0026#34;\\nNumber of key(s) added: 1\\n\\nNow try logging into the machine, with: \\\u0026#34;ssh \u0026#39;vagrant@192.168.52.52\u0026#39;\\\u0026#34;\\nand check to make sure that only the key(s) you wanted were added.\u0026#34;, \u0026#34;stdout_lines\u0026#34;: [\u0026#34;\u0026#34;, \u0026#34;Number of key(s) added: 1\u0026#34;, \u0026#34;\u0026#34;, \u0026#34;Now try logging into the machine, with: \\\u0026#34;ssh \u0026#39;vagrant@192.168.52.52\u0026#39;\\\u0026#34;\u0026#34;, \u0026#34;and check to make sure that only the key(s) you wanted were added.\u0026#34;], \u0026#34;warnings\u0026#34;: []} TASK [ansible : check ssh] ***************************************************** changed: [host] =\u0026gt; (item=192.168.52.52) =\u0026gt; {\u0026#34;changed\u0026#34;: true, \u0026#34;cmd\u0026#34;: \u0026#34;ansible -i /vagrant/development 192.168.52.52 -m ping\u0026#34;, \u0026#34;delta\u0026#34;: \u0026#34;0:00:01.026443\u0026#34;, \u0026#34;end\u0026#34;: \u0026#34;2016-11-29 15:33:55.863515\u0026#34;, \u0026#34;item\u0026#34;: \u0026#34;192.168.52.52\u0026#34;, \u0026#34;rc\u0026#34;: 0, \u0026#34;start\u0026#34;: \u0026#34;2016-11-29 15:33:54.837072\u0026#34;, \u0026#34;stderr\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;stdout\u0026#34;: \u0026#34;\\u001b[0;32m192.168.52.52 | SUCCESS =\u0026gt; {\\n \\\u0026#34;changed\\\u0026#34;: false, \\n \\\u0026#34;ping\\\u0026#34;: \\\u0026#34;pong\\\u0026#34;\\n}\\u001b[0m\u0026#34;, \u0026#34;stdout_lines\u0026#34;: [\u0026#34;\\u001b[0;32m192.168.52.52 | SUCCESS =\u0026gt; {\u0026#34;, \u0026#34; \\\u0026#34;changed\\\u0026#34;: false, \u0026#34;, \u0026#34; \\\u0026#34;ping\\\u0026#34;: \\\u0026#34;pong\\\u0026#34;\u0026#34;, \u0026#34;}\\u001b[0m\u0026#34;], \u0026#34;warnings\u0026#34;: []} RUNNING HANDLER [CentOS7.2 : restart chronyd] ********************************** changed: [host] =\u0026gt; {\u0026#34;changed\u0026#34;: true, \u0026#34;enabled\u0026#34;: true, \u0026#34;name\u0026#34;: \u0026#34;chronyd\u0026#34;, \u0026#34;state\u0026#34;: \u0026#34;started\u0026#34;, \u0026#34;status\u0026#34;: {\u0026#34;ActiveEnterTimestamp\u0026#34;: \u0026#34;Tue 2016-11-29 15:33:51 JST\u0026#34;, \u0026#34;ActiveEnterTimestampMonotonic\u0026#34;: \u0026#34;440875960\u0026#34;, \u0026#34;ActiveExitTimestampMonotonic\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;ActiveState\u0026#34;: \u0026#34;active\u0026#34;, \u0026#34;After\u0026#34;: \u0026#34;ntpdate.service basic.target system.slice ntpd.service sntp.service systemd-journald.socket\u0026#34;, \u0026#34;AllowIsolate\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;AssertResult\u0026#34;: \u0026#34;yes\u0026#34;, \u0026#34;AssertTimestamp\u0026#34;: \u0026#34;Tue 2016-11-29 15:33:51 JST\u0026#34;, \u0026#34;AssertTimestampMonotonic\u0026#34;: \u0026#34;440840965\u0026#34;, \u0026#34;Before\u0026#34;: \u0026#34;multi-user.target shutdown.target\u0026#34;, \u0026#34;BlockIOAccounting\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;BlockIOWeight\u0026#34;: \u0026#34;18446744073709551615\u0026#34;, \u0026#34;CPUAccounting\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;CPUQuotaPerSecUSec\u0026#34;: \u0026#34;infinity\u0026#34;, \u0026#34;CPUSchedulingPolicy\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;CPUSchedulingPriority\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;CPUSchedulingResetOnFork\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;CPUShares\u0026#34;: \u0026#34;18446744073709551615\u0026#34;, \u0026#34;CanIsolate\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;CanReload\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;CanStart\u0026#34;: \u0026#34;yes\u0026#34;, \u0026#34;CanStop\u0026#34;: \u0026#34;yes\u0026#34;, \u0026#34;CapabilityBoundingSet\u0026#34;: \u0026#34;18446744073709551615\u0026#34;, \u0026#34;ConditionResult\u0026#34;: \u0026#34;yes\u0026#34;, \u0026#34;ConditionTimestamp\u0026#34;: \u0026#34;Tue 2016-11-29 15:33:51 JST\u0026#34;, \u0026#34;ConditionTimestampMonotonic\u0026#34;: \u0026#34;440840965\u0026#34;, \u0026#34;Conflicts\u0026#34;: \u0026#34;ntpd.service shutdown.target\u0026#34;, \u0026#34;ControlGroup\u0026#34;: \u0026#34;/system.slice/chronyd.service\u0026#34;, \u0026#34;ControlPID\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;DefaultDependencies\u0026#34;: \u0026#34;yes\u0026#34;, \u0026#34;Delegate\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;Description\u0026#34;: \u0026#34;NTP client/server\u0026#34;, \u0026#34;DevicePolicy\u0026#34;: \u0026#34;auto\u0026#34;, \u0026#34;EnvironmentFile\u0026#34;: \u0026#34;/etc/sysconfig/chronyd (ignore_errors=yes)\u0026#34;, \u0026#34;ExecMainCode\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;ExecMainExitTimestampMonotonic\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;ExecMainPID\u0026#34;: \u0026#34;25933\u0026#34;, \u0026#34;ExecMainStartTimestamp\u0026#34;: \u0026#34;Tue 2016-11-29 15:33:51 JST\u0026#34;, \u0026#34;ExecMainStartTimestampMonotonic\u0026#34;: \u0026#34;440870739\u0026#34;, \u0026#34;ExecMainStatus\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;ExecStart\u0026#34;: \u0026#34;{ path=/usr/sbin/chronyd ; argv[]=/usr/sbin/chronyd $OPTIONS ; ignore_errors=no ; start_time=[Tue 2016-11-29 15:33:51 JST] ; stop_time=[Tue 2016-11-29 15:33:51 JST] ; pid=25931 ; code=exited ; status=0 }\u0026#34;, \u0026#34;ExecStartPost\u0026#34;: \u0026#34;{ path=/usr/libexec/chrony-helper ; argv[]=/usr/libexec/chrony-helper update-daemon ; ignore_errors=no ; start_time=[Tue 2016-11-29 15:33:51 JST] ; stop_time=[Tue 2016-11-29 15:33:51 JST] ; pid=25935 ; code=exited ; status=0 }\u0026#34;, \u0026#34;FailureAction\u0026#34;: \u0026#34;none\u0026#34;, \u0026#34;FileDescriptorStoreMax\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;FragmentPath\u0026#34;: \u0026#34;/usr/lib/systemd/system/chronyd.service\u0026#34;, \u0026#34;GuessMainPID\u0026#34;: \u0026#34;yes\u0026#34;, \u0026#34;IOScheduling\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;Id\u0026#34;: \u0026#34;chronyd.service\u0026#34;, \u0026#34;IgnoreOnIsolate\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;IgnoreOnSnapshot\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;IgnoreSIGPIPE\u0026#34;: \u0026#34;yes\u0026#34;, \u0026#34;InactiveEnterTimestampMonotonic\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;InactiveExitTimestamp\u0026#34;: \u0026#34;Tue 2016-11-29 15:33:51 JST\u0026#34;, \u0026#34;InactiveExitTimestampMonotonic\u0026#34;: \u0026#34;440841515\u0026#34;, \u0026#34;JobTimeoutAction\u0026#34;: \u0026#34;none\u0026#34;, \u0026#34;JobTimeoutUSec\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;KillMode\u0026#34;: \u0026#34;control-group\u0026#34;, \u0026#34;KillSignal\u0026#34;: \u0026#34;15\u0026#34;, \u0026#34;LimitAS\u0026#34;: \u0026#34;18446744073709551615\u0026#34;, \u0026#34;LimitCORE\u0026#34;: \u0026#34;18446744073709551615\u0026#34;, \u0026#34;LimitCPU\u0026#34;: \u0026#34;18446744073709551615\u0026#34;, \u0026#34;LimitDATA\u0026#34;: \u0026#34;18446744073709551615\u0026#34;, \u0026#34;LimitFSIZE\u0026#34;: \u0026#34;18446744073709551615\u0026#34;, \u0026#34;LimitLOCKS\u0026#34;: \u0026#34;18446744073709551615\u0026#34;, \u0026#34;LimitMEMLOCK\u0026#34;: \u0026#34;65536\u0026#34;, \u0026#34;LimitMSGQUEUE\u0026#34;: \u0026#34;819200\u0026#34;, \u0026#34;LimitNICE\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;LimitNOFILE\u0026#34;: \u0026#34;4096\u0026#34;, \u0026#34;LimitNPROC\u0026#34;: \u0026#34;1875\u0026#34;, \u0026#34;LimitRSS\u0026#34;: \u0026#34;18446744073709551615\u0026#34;, \u0026#34;LimitRTPRIO\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;LimitRTTIME\u0026#34;: \u0026#34;18446744073709551615\u0026#34;, \u0026#34;LimitSIGPENDING\u0026#34;: \u0026#34;1875\u0026#34;, \u0026#34;LimitSTACK\u0026#34;: \u0026#34;18446744073709551615\u0026#34;, \u0026#34;LoadState\u0026#34;: \u0026#34;loaded\u0026#34;, \u0026#34;MainPID\u0026#34;: \u0026#34;25933\u0026#34;, \u0026#34;MemoryAccounting\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;MemoryCurrent\u0026#34;: \u0026#34;18446744073709551615\u0026#34;, \u0026#34;MemoryLimit\u0026#34;: \u0026#34;18446744073709551615\u0026#34;, \u0026#34;MountFlags\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;Names\u0026#34;: \u0026#34;chronyd.service\u0026#34;, \u0026#34;NeedDaemonReload\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;Nice\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;NoNewPrivileges\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;NonBlocking\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;NotifyAccess\u0026#34;: \u0026#34;none\u0026#34;, \u0026#34;OOMScoreAdjust\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;OnFailureJobMode\u0026#34;: \u0026#34;replace\u0026#34;, \u0026#34;PIDFile\u0026#34;: \u0026#34;/var/run/chronyd.pid\u0026#34;, \u0026#34;PermissionsStartOnly\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;PrivateDevices\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;PrivateNetwork\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;PrivateTmp\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;ProtectHome\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;ProtectSystem\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;RefuseManualStart\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;RefuseManualStop\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;RemainAfterExit\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;Requires\u0026#34;: \u0026#34;basic.target\u0026#34;, \u0026#34;Restart\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;RestartUSec\u0026#34;: \u0026#34;100ms\u0026#34;, \u0026#34;Result\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;RootDirectoryStartOnly\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;RuntimeDirectoryMode\u0026#34;: \u0026#34;0755\u0026#34;, \u0026#34;SameProcessGroup\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;SecureBits\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;SendSIGHUP\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;SendSIGKILL\u0026#34;: \u0026#34;yes\u0026#34;, \u0026#34;Slice\u0026#34;: \u0026#34;system.slice\u0026#34;, \u0026#34;StandardError\u0026#34;: \u0026#34;inherit\u0026#34;, \u0026#34;StandardInput\u0026#34;: \u0026#34;null\u0026#34;, \u0026#34;StandardOutput\u0026#34;: \u0026#34;journal\u0026#34;, \u0026#34;StartLimitAction\u0026#34;: \u0026#34;none\u0026#34;, \u0026#34;StartLimitBurst\u0026#34;: \u0026#34;5\u0026#34;, \u0026#34;StartLimitInterval\u0026#34;: \u0026#34;10000000\u0026#34;, \u0026#34;StartupBlockIOWeight\u0026#34;: \u0026#34;18446744073709551615\u0026#34;, \u0026#34;StartupCPUShares\u0026#34;: \u0026#34;18446744073709551615\u0026#34;, \u0026#34;StatusErrno\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;StopWhenUnneeded\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;SubState\u0026#34;: \u0026#34;running\u0026#34;, \u0026#34;SyslogLevelPrefix\u0026#34;: \u0026#34;yes\u0026#34;, \u0026#34;SyslogPriority\u0026#34;: \u0026#34;30\u0026#34;, \u0026#34;SystemCallErrorNumber\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;TTYReset\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;TTYVHangup\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;TTYVTDisallocate\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;TimeoutStartUSec\u0026#34;: \u0026#34;1min 30s\u0026#34;, \u0026#34;TimeoutStopUSec\u0026#34;: \u0026#34;1min 30s\u0026#34;, \u0026#34;TimerSlackNSec\u0026#34;: \u0026#34;50000\u0026#34;, \u0026#34;Transient\u0026#34;: \u0026#34;no\u0026#34;, \u0026#34;Type\u0026#34;: \u0026#34;forking\u0026#34;, \u0026#34;UMask\u0026#34;: \u0026#34;0022\u0026#34;, \u0026#34;UnitFilePreset\u0026#34;: \u0026#34;enabled\u0026#34;, \u0026#34;UnitFileState\u0026#34;: \u0026#34;enabled\u0026#34;, \u0026#34;WantedBy\u0026#34;: \u0026#34;multi-user.target\u0026#34;, \u0026#34;Wants\u0026#34;: \u0026#34;system.slice\u0026#34;, \u0026#34;WatchdogTimestamp\u0026#34;: \u0026#34;Tue 2016-11-29 15:33:51 JST\u0026#34;, \u0026#34;WatchdogTimestampMonotonic\u0026#34;: \u0026#34;440870755\u0026#34;, \u0026#34;WatchdogUSec\u0026#34;: \u0026#34;0\u0026#34;}} PLAY RECAP ********************************************************************* host : ok=19 changed=15 unreachable=0 failed=0 host ã«ãƒ­ã‚°ã‚¤ãƒ³ 1 2 $ vagrant ssh host [vagrant@host ~]$ webã®playbookã‚’å®Ÿè¡Œ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 $ ansible-playbook -i /vagrant/development /vagrant/site.yml PLAY [web] ********************************************************************* TASK [setup] ******************************************************************* ok: [192.168.52.52] TASK [CentOS7.2 : yum update all] ********************************************** changed: [192.168.52.52] TASK [CentOS7.2 : check CentOS version] **************************************** changed: [192.168.52.52] TASK [CentOS7.2 : set LANG] **************************************************** changed: [192.168.52.52] TASK [CentOS7.2 : set keymap] ************************************************** changed: [192.168.52.52] TASK [CentOS7.2 : set timezone] ************************************************ changed: [192.168.52.52] TASK [CentOS7.2 : install chrony] ********************************************** changed: [192.168.52.52] TASK [CentOS7.2 : start chrony] ************************************************ changed: [192.168.52.52] TASK [CentOS7.2 : copy chrony.conf template] *********************************** changed: [192.168.52.52] TASK [CentOS7.2 : copy /etc/profile.d/alias.sh template] *********************** changed: [192.168.52.52] TASK [CentOS7.2 : install selinux util] **************************************** ok: [192.168.52.52] =\u0026gt; (item=[u\u0026#39;libselinux-python\u0026#39;, u\u0026#39;libselinux-utils\u0026#39;, u\u0026#39;selinux-policy\u0026#39;, u\u0026#39;selinux-policy-targeted\u0026#39;]) TASK [CentOS7.2 : disable selinux] ********************************************* changed: [192.168.52.52] RUNNING HANDLER [CentOS7.2 : restart chronyd] ********************************** changed: [192.168.52.52] PLAY RECAP ********************************************************************* 192.168.52.52 : ok=13 changed=11 unreachable=0 failed=0 web ã«ãƒ­ã‚°ã‚¤ãƒ³ 1 2 3 4 5 $ vagrant ssh web Last login: Tue Nov 29 15:41:16 2016 from 192.168.52.51 [vagrant@web ~]$ echo $LANG ja_JP.UTF-8 [vagrant@web ~]$ çµ‚äº†ã€‚\n","permalink":"https://techteco.github.io/2016/11/29/vagrant-ansible-local-2/","tags":["Ansible"],"title":"Vagrant+VirtualBox+Ansibleã§é–‹ç™ºç’°å¢ƒã‚’æ§‹ç¯‰ã™ã‚‹ï¼ˆãã®ï¼’ï¼‰"},{"categories":["Server"],"content":" ansibleå®Ÿè¡Œç”¨ã®hostã‚’vagrantã®ansible_localã§è¨­å®š â† ã“ã“ hostã‹ã‚‰ansibleã§centOS 7.2ã®åŸºæœ¬è¨­å®š å‰æ OS X El Capitan(10.11.6)\nVagrant ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿\n1 2 3 $ vagrant version Installed Version: 1.8.7 Latest Version: 1.8.7 VirtualBox ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ 1 2 $ VBoxManage -version 5.0.30r112061 1.ansibleå®Ÿè¡Œç”¨ã®hostã‚’vagrantã®ansible_localã§è¨­å®š vagrantã®åˆæœŸåŒ– Vagrantfileä½œæˆ 1 2 3 4 5 6 7 8 9 10 $ vagrant init A `Vagrantfile` has been placed in this directory. You are now ready to `vagrant up` your first virtual environment! Please read the comments in the Vagrantfile as well as documentation on `vagrantup.com` for more information on using Vagrant. $ tree . â””â”€â”€ Vagrantfile 0 directories, 1 file è¨­å®š å…¬å¼ãƒšãƒ¼ã‚¸ã‚’å‚è€ƒã«ç·¨é›†ansible_local ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ 1 2 3 4 5 6 7 8 9 $ tree . â”œâ”€â”€ Vagrantfile â”œâ”€â”€ ansible.cfg â””â”€â”€ provision â”œâ”€â”€ inventory â””â”€â”€ playbook.yml 1 directory, 4 files å„ãƒ•ã‚¡ã‚¤ãƒ« Vagrantfile 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 # -*- mode: ruby -*- # vi: set ft=ruby : # All Vagrant configuration is done below. The \u0026#34;2\u0026#34; in Vagrant.configure # configures the configuration version (we support older styles for # backwards compatibility). Please don\u0026#39;t change it unless you know what # you\u0026#39;re doing. Vagrant.configure(\u0026#34;2\u0026#34;) do |config| config.vm.define \u0026#34;host\u0026#34; do |node| node.vm.box = \u0026#34;bento/centos-7.2\u0026#34; node.vm.hostname = \u0026#34;host\u0026#34; node.vm.network :private_network, ip: \u0026#34;192.168.52.51\u0026#34; # Run Ansible from the Vagrant VM node.vm.provision :ansible_local do |ansible| ansible.playbook = \u0026#34;provision/playbook.yml\u0026#34; ansible.verbose = true ansible.install = true ansible.install_mode = :default ansible.limit = \u0026#34;all\u0026#34; # or only \u0026#34;nodes\u0026#34; group, etc. ansible.inventory_path = \u0026#34;provision/inventory\u0026#34; end end end ansible.cfg 1 2 3 4 5 [defaults] host_key_checking = no [ssh_connection] ssh_args = -o ControlMaster=auto -o ControlPersist=60s -o UserKnownHostsFile=/dev/null -o IdentitiesOnly=yes provision/inventory 1 host ansible_connection=local provision/playbook.yml 1 2 3 4 5 6 7 --- # file: ./provision/playbook.yml - hosts: host tasks: - name: provision test debug: msg=\u0026#34;provision test\u0026#34; vagrantã®å®Ÿè¡Œ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 234 235 236 237 238 239 240 241 242 243 244 245 246 247 248 249 250 251 252 253 254 255 256 257 258 259 260 261 262 263 264 265 266 267 268 269 270 271 272 273 274 275 276 277 278 279 280 281 282 283 284 285 286 287 288 289 290 291 292 293 294 295 296 297 298 299 300 301 302 303 304 305 306 307 308 309 310 311 312 313 314 315 316 317 318 319 320 321 322 323 324 325 326 327 328 329 330 331 332 333 334 335 336 337 338 339 340 341 342 343 344 345 346 347 348 349 350 351 352 353 354 355 356 357 $ vagrant up --provision Bringing machine \u0026#39;host\u0026#39; up with \u0026#39;virtualbox\u0026#39; provider... ==\u0026gt; host: Importing base box \u0026#39;bento/centos-7.2\u0026#39;... ==\u0026gt; host: Matching MAC address for NAT networking... ==\u0026gt; host: Checking if box \u0026#39;bento/centos-7.2\u0026#39; is up to date... ==\u0026gt; host: There was a problem while downloading the metadata for your box ==\u0026gt; host: to check for updates. This is not an error, since it is usually due ==\u0026gt; host: to temporary network problems. This is just a warning. The problem ==\u0026gt; host: encountered was: ==\u0026gt; host: ==\u0026gt; host: ==\u0026gt; host: ==\u0026gt; host: If you want to check for box updates, verify your network connection ==\u0026gt; host: is valid and try again. ==\u0026gt; host: Setting the name of the VM: vagrant_host_1480286713505_67653 ==\u0026gt; host: Clearing any previously set network interfaces... ==\u0026gt; host: Preparing network interfaces based on configuration... host: Adapter 1: nat host: Adapter 2: hostonly ==\u0026gt; host: Forwarding ports... host: 22 (guest) =\u0026gt; 2222 (host) (adapter 1) ==\u0026gt; host: Booting VM... ==\u0026gt; host: Waiting for machine to boot. This may take a few minutes... host: SSH address: 127.0.0.1:2222 host: SSH username: vagrant host: SSH auth method: private key host: Warning: Remote connection disconnect. Retrying... host: Warning: Remote connection disconnect. Retrying... host: Warning: Remote connection disconnect. Retrying... host: host: Vagrant insecure key detected. Vagrant will automatically replace host: this with a newly generated keypair for better security. host: host: Inserting generated public key within guest... host: Removing insecure key from the guest if it\u0026#39;s present... host: Key inserted! Disconnecting and reconnecting using new SSH key... ==\u0026gt; host: Machine booted and ready! [host] GuestAdditions versions on your host (5.0.30) and guest (5.0.26) do not match. Loaded plugins: fastestmirror ^@Determining fastest mirrors * base: ftp.tsukuba.wide.ad.jp * extras: ftp.tsukuba.wide.ad.jp * updates: ftp.tsukuba.wide.ad.jp Package binutils-2.23.52.0.1-55.el7.x86_64 already installed and latest version Package 1:make-3.82-21.el7.x86_64 already installed and latest version Package bzip2-1.0.6-13.el7.x86_64 already installed and latest version Resolving Dependencies --\u0026gt; Running transaction check ---\u0026gt; Package gcc.x86_64 0:4.8.5-4.el7 will be installed --\u0026gt; Processing Dependency: cpp = 4.8.5-4.el7 for package: gcc-4.8.5-4.el7.x86_64 --\u0026gt; Processing Dependency: glibc-devel \u0026gt;= 2.2.90-12 for package: gcc-4.8.5-4.el7.x86_64 ---\u0026gt; Package kernel-devel.x86_64 0:3.10.0-327.el7 will be installed ---\u0026gt; Package perl.x86_64 4:5.16.3-286.el7 will be installed --\u0026gt; Processing Dependency: perl-libs = 4:5.16.3-286.el7 for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(Socket) \u0026gt;= 1.3 for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(Scalar::Util) \u0026gt;= 1.10 for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl-macros for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl-libs for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(threads::shared) for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(threads) for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(constant) for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(Time::Local) for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(Time::HiRes) for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(Storable) for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(Socket) for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(Scalar::Util) for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(Pod::Simple::XHTML) for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(Pod::Simple::Search) for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(Getopt::Long) for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(Filter::Util::Call) for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(File::Temp) for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(File::Spec::Unix) for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(File::Spec::Functions) for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(File::Spec) for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(File::Path) for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(Exporter) for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(Cwd) for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: perl(Carp) for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Processing Dependency: libperl.so()(64bit) for package: 4:perl-5.16.3-286.el7.x86_64 --\u0026gt; Running transaction check ---\u0026gt; Package cpp.x86_64 0:4.8.5-4.el7 will be installed ---\u0026gt; Package glibc-devel.x86_64 0:2.17-106.el7_2.8 will be installed --\u0026gt; Processing Dependency: glibc-headers = 2.17-106.el7_2.8 for package: glibc-devel-2.17-106.el7_2.8.x86_64 --\u0026gt; Processing Dependency: glibc = 2.17-106.el7_2.8 for package: glibc-devel-2.17-106.el7_2.8.x86_64 --\u0026gt; Processing Dependency: glibc-headers for package: glibc-devel-2.17-106.el7_2.8.x86_64 ---\u0026gt; Package perl-Carp.noarch 0:1.26-244.el7 will be installed ---\u0026gt; Package perl-Exporter.noarch 0:5.68-3.el7 will be installed ---\u0026gt; Package perl-File-Path.noarch 0:2.09-2.el7 will be installed ---\u0026gt; Package perl-File-Temp.noarch 0:0.23.01-3.el7 will be installed ---\u0026gt; Package perl-Filter.x86_64 0:1.49-3.el7 will be installed ---\u0026gt; Package perl-Getopt-Long.noarch 0:2.40-2.el7 will be installed --\u0026gt; Processing Dependency: perl(Pod::Usage) \u0026gt;= 1.14 for package: perl-Getopt-Long-2.40-2.el7.noarch --\u0026gt; Processing Dependency: perl(Text::ParseWords) for package: perl-Getopt-Long-2.40-2.el7.noarch ---\u0026gt; Package perl-PathTools.x86_64 0:3.40-5.el7 will be installed ---\u0026gt; Package perl-Pod-Simple.noarch 1:3.28-4.el7 will be installed --\u0026gt; Processing Dependency: perl(Pod::Escapes) \u0026gt;= 1.04 for package: 1:perl-Pod-Simple-3.28-4.el7.noarch --\u0026gt; Processing Dependency: perl(Encode) for package: 1:perl-Pod-Simple-3.28-4.el7.noarch ---\u0026gt; Package perl-Scalar-List-Utils.x86_64 0:1.27-248.el7 will be installed ---\u0026gt; Package perl-Socket.x86_64 0:2.010-3.el7 will be installed ---\u0026gt; Package perl-Storable.x86_64 0:2.45-3.el7 will be installed ---\u0026gt; Package perl-Time-HiRes.x86_64 4:1.9725-3.el7 will be installed ---\u0026gt; Package perl-Time-Local.noarch 0:1.2300-2.el7 will be installed ---\u0026gt; Package perl-constant.noarch 0:1.27-2.el7 will be installed ---\u0026gt; Package perl-libs.x86_64 4:5.16.3-286.el7 will be installed ---\u0026gt; Package perl-macros.x86_64 4:5.16.3-286.el7 will be installed ---\u0026gt; Package perl-threads.x86_64 0:1.87-4.el7 will be installed ---\u0026gt; Package perl-threads-shared.x86_64 0:1.43-6.el7 will be installed --\u0026gt; Running transaction check ---\u0026gt; Package glibc.x86_64 0:2.17-105.el7 will be updated --\u0026gt; Processing Dependency: glibc = 2.17-105.el7 for package: glibc-common-2.17-105.el7.x86_64 ---\u0026gt; Package glibc.x86_64 0:2.17-106.el7_2.8 will be an update ---\u0026gt; Package glibc-headers.x86_64 0:2.17-106.el7_2.8 will be installed --\u0026gt; Processing Dependency: kernel-headers \u0026gt;= 2.2.1 for package: glibc-headers-2.17-106.el7_2.8.x86_64 --\u0026gt; Processing Dependency: kernel-headers for package: glibc-headers-2.17-106.el7_2.8.x86_64 ---\u0026gt; Package perl-Encode.x86_64 0:2.51-7.el7 will be installed ---\u0026gt; Package perl-Pod-Escapes.noarch 1:1.04-286.el7 will be installed ---\u0026gt; Package perl-Pod-Usage.noarch 0:1.63-3.el7 will be installed --\u0026gt; Processing Dependency: perl(Pod::Text) \u0026gt;= 3.15 for package: perl-Pod-Usage-1.63-3.el7.noarch --\u0026gt; Processing Dependency: perl-Pod-Perldoc for package: perl-Pod-Usage-1.63-3.el7.noarch ---\u0026gt; Package perl-Text-ParseWords.noarch 0:3.29-4.el7 will be installed --\u0026gt; Running transaction check ---\u0026gt; Package glibc-common.x86_64 0:2.17-105.el7 will be updated ---\u0026gt; Package glibc-common.x86_64 0:2.17-106.el7_2.8 will be an update ---\u0026gt; Package kernel-headers.x86_64 0:3.10.0-327.36.3.el7 will be installed ---\u0026gt; Package perl-Pod-Perldoc.noarch 0:3.20-4.el7 will be installed --\u0026gt; Processing Dependency: perl(parent) for package: perl-Pod-Perldoc-3.20-4.el7.noarch --\u0026gt; Processing Dependency: perl(HTTP::Tiny) for package: perl-Pod-Perldoc-3.20-4.el7.noarch ---\u0026gt; Package perl-podlators.noarch 0:2.5.1-3.el7 will be installed --\u0026gt; Running transaction check ---\u0026gt; Package perl-HTTP-Tiny.noarch 0:0.033-3.el7 will be installed ---\u0026gt; Package perl-parent.noarch 1:0.225-244.el7 will be installed --\u0026gt; Finished Dependency Resolution Dependencies Resolved ================================================================================ Package Arch Version Repository Size ================================================================================ Installing: gcc x86_64 4.8.5-4.el7 base 16 M kernel-devel x86_64 3.10.0-327.el7 base 11 M perl x86_64 4:5.16.3-286.el7 base 8.0 M Installing for dependencies: cpp x86_64 4.8.5-4.el7 base 5.9 M glibc-devel x86_64 2.17-106.el7_2.8 updates 1.0 M glibc-headers x86_64 2.17-106.el7_2.8 updates 663 k kernel-headers x86_64 3.10.0-327.36.3.el7 updates 3.2 M perl-Carp noarch 1.26-244.el7 base 19 k perl-Encode x86_64 2.51-7.el7 base 1.5 M perl-Exporter noarch 5.68-3.el7 base 28 k perl-File-Path noarch 2.09-2.el7 base 26 k perl-File-Temp noarch 0.23.01-3.el7 base 56 k perl-Filter x86_64 1.49-3.el7 base 76 k perl-Getopt-Long noarch 2.40-2.el7 base 56 k perl-HTTP-Tiny noarch 0.033-3.el7 base 38 k perl-PathTools x86_64 3.40-5.el7 base 82 k perl-Pod-Escapes noarch 1:1.04-286.el7 base 50 k perl-Pod-Perldoc noarch 3.20-4.el7 base 87 k perl-Pod-Simple noarch 1:3.28-4.el7 base 216 k perl-Pod-Usage noarch 1.63-3.el7 base 27 k perl-Scalar-List-Utils x86_64 1.27-248.el7 base 36 k perl-Socket x86_64 2.010-3.el7 base 49 k perl-Storable x86_64 2.45-3.el7 base 77 k perl-Text-ParseWords noarch 3.29-4.el7 base 14 k perl-Time-HiRes x86_64 4:1.9725-3.el7 base 45 k perl-Time-Local noarch 1.2300-2.el7 base 24 k perl-constant noarch 1.27-2.el7 base 19 k perl-libs x86_64 4:5.16.3-286.el7 base 687 k perl-macros x86_64 4:5.16.3-286.el7 base 43 k perl-parent noarch 1:0.225-244.el7 base 12 k perl-podlators noarch 2.5.1-3.el7 base 112 k perl-threads x86_64 1.87-4.el7 base 49 k perl-threads-shared x86_64 1.43-6.el7 base 39 k Updating for dependencies: glibc x86_64 2.17-106.el7_2.8 updates 3.6 M glibc-common x86_64 2.17-106.el7_2.8 updates 11 M Transaction Summary ================================================================================ Install 3 Packages (+30 Dependent packages) Upgrade ( 2 Dependent packages) Total download size: 64 M Downloading packages: Delta RPMs disabled because /usr/bin/applydeltarpm not installed. Public key for cpp-4.8.5-4.el7.x86_64.rpm is not installed warning: /var/cache/yum/x86_64/7/base/packages/cpp-4.8.5-4.el7.x86_64.rpm: Header V3 RSA/SHA256 Signature, key ID f4a80eb5: NOKEY Public key for glibc-2.17-106.el7_2.8.x86_64.rpm is not installed -------------------------------------------------------------------------------- Total 16 MB/s | 64 MB 00:04 Retrieving key from file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7 Importing GPG key 0xF4A80EB5: Userid : \u0026#34;CentOS-7 Key (CentOS 7 Official Signing Key) \u0026lt;security@centos.org\u0026gt;\u0026#34; Fingerprint: 6341 ab27 53d7 8a78 a7c2 7bb1 24c6 a8a7 f4a8 0eb5 Package : centos-release-7-2.1511.el7.centos.2.10.x86_64 (@anaconda) From : /etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7 Running transaction check Running transaction test Transaction test succeeded Running transaction Updating : glibc-2.17-106.el7_2.8.x86_64 1/37 Updating : glibc-common-2.17-106.el7_2.8.x86_64 2/37 Installing : 1:perl-parent-0.225-244.el7.noarch 3/37 Installing : perl-HTTP-Tiny-0.033-3.el7.noarch 4/37 Installing : perl-podlators-2.5.1-3.el7.noarch 5/37 Installing : perl-Pod-Perldoc-3.20-4.el7.noarch 6/37 Installing : 1:perl-Pod-Escapes-1.04-286.el7.noarch 7/37 Installing : perl-Text-ParseWords-3.29-4.el7.noarch 8/37 Installing : perl-Encode-2.51-7.el7.x86_64 9/37 Installing : perl-Pod-Usage-1.63-3.el7.noarch 10/37 Installing : 4:perl-libs-5.16.3-286.el7.x86_64 11/37 Installing : 4:perl-macros-5.16.3-286.el7.x86_64 12/37 Installing : perl-Storable-2.45-3.el7.x86_64 13/37 Installing : perl-Exporter-5.68-3.el7.noarch 14/37 Installing : perl-constant-1.27-2.el7.noarch 15/37 Installing : perl-Time-Local-1.2300-2.el7.noarch 16/37 Installing : perl-Socket-2.010-3.el7.x86_64 17/37 Installing : perl-Carp-1.26-244.el7.noarch 18/37 Installing : 4:perl-Time-HiRes-1.9725-3.el7.x86_64 19/37 Installing : perl-PathTools-3.40-5.el7.x86_64 20/37 Installing : perl-Scalar-List-Utils-1.27-248.el7.x86_64 21/37 Installing : perl-File-Temp-0.23.01-3.el7.noarch 22/37 Installing : perl-File-Path-2.09-2.el7.noarch 23/37 Installing : perl-threads-shared-1.43-6.el7.x86_64 24/37 Installing : perl-threads-1.87-4.el7.x86_64 25/37 Installing : perl-Filter-1.49-3.el7.x86_64 26/37 Installing : 1:perl-Pod-Simple-3.28-4.el7.noarch 27/37 Installing : perl-Getopt-Long-2.40-2.el7.noarch 28/37 Installing : 4:perl-5.16.3-286.el7.x86_64 29/37 Installing : cpp-4.8.5-4.el7.x86_64 30/37 Installing : kernel-headers-3.10.0-327.36.3.el7.x86_64 31/37 Installing : glibc-headers-2.17-106.el7_2.8.x86_64 32/37 Installing : glibc-devel-2.17-106.el7_2.8.x86_64 33/37 Installing : gcc-4.8.5-4.el7.x86_64 34/37^@ Installing : kernel-devel-3.10.0-327.el7.x86_64 35/37 Cleanup : glibc-2.17-105.el7.x86_64 36/37 Cleanup : glibc-common-2.17-105.el7.x86_64 37/37 Verifying : perl-HTTP-Tiny-0.033-3.el7.noarch 1/37 Verifying : gcc-4.8.5-4.el7.x86_64 2/37 Verifying : perl-threads-shared-1.43-6.el7.x86_64 3/37 Verifying : perl-Storable-2.45-3.el7.x86_64 4/37 Verifying : kernel-headers-3.10.0-327.36.3.el7.x86_64 5/37 Verifying : perl-Exporter-5.68-3.el7.noarch 6/37 Verifying : perl-constant-1.27-2.el7.noarch 7/37 Verifying : perl-PathTools-3.40-5.el7.x86_64 8/37 Verifying : 4:perl-libs-5.16.3-286.el7.x86_64 9/37 Verifying : 4:perl-macros-5.16.3-286.el7.x86_64 10/37 Verifying : 1:perl-Pod-Escapes-1.04-286.el7.noarch 11/37 Verifying : 1:perl-parent-0.225-244.el7.noarch 12/37 Verifying : 4:perl-5.16.3-286.el7.x86_64 13/37 Verifying : glibc-devel-2.17-106.el7_2.8.x86_64 14/37 Verifying : perl-File-Temp-0.23.01-3.el7.noarch 15/37 Verifying : 1:perl-Pod-Simple-3.28-4.el7.noarch 16/37 Verifying : glibc-headers-2.17-106.el7_2.8.x86_64 17/37 Verifying : perl-Time-Local-1.2300-2.el7.noarch 18/37 Verifying : glibc-common-2.17-106.el7_2.8.x86_64 19/37 Verifying : perl-Pod-Perldoc-3.20-4.el7.noarch 20/37 Verifying : perl-Socket-2.010-3.el7.x86_64 21/37 Verifying : perl-Carp-1.26-244.el7.noarch 22/37 Verifying : perl-podlators-2.5.1-3.el7.noarch 23/37 Verifying : 4:perl-Time-HiRes-1.9725-3.el7.x86_64 24/37 Verifying : perl-Scalar-List-Utils-1.27-248.el7.x86_64 25/37 Verifying : glibc-2.17-106.el7_2.8.x86_64 26/37 Verifying : perl-Pod-Usage-1.63-3.el7.noarch 27/37 Verifying : perl-Encode-2.51-7.el7.x86_64 28/37 Verifying : perl-Getopt-Long-2.40-2.el7.noarch 29/37 Verifying : kernel-devel-3.10.0-327.el7.x86_64 30/37 Verifying : cpp-4.8.5-4.el7.x86_64 31/37 Verifying : perl-File-Path-2.09-2.el7.noarch 32/37 Verifying : perl-threads-1.87-4.el7.x86_64 33/37 Verifying : perl-Filter-1.49-3.el7.x86_64 34/37 Verifying : perl-Text-ParseWords-3.29-4.el7.noarch 35/37 Verifying : glibc-common-2.17-105.el7.x86_64 36/37 Verifying : glibc-2.17-105.el7.x86_64 37/37 Installed: gcc.x86_64 0:4.8.5-4.el7 kernel-devel.x86_64 0:3.10.0-327.el7 perl.x86_64 4:5.16.3-286.el7 Dependency Installed: cpp.x86_64 0:4.8.5-4.el7 glibc-devel.x86_64 0:2.17-106.el7_2.8 glibc-headers.x86_64 0:2.17-106.el7_2.8 kernel-headers.x86_64 0:3.10.0-327.36.3.el7 perl-Carp.noarch 0:1.26-244.el7 perl-Encode.x86_64 0:2.51-7.el7 perl-Exporter.noarch 0:5.68-3.el7 perl-File-Path.noarch 0:2.09-2.el7 perl-File-Temp.noarch 0:0.23.01-3.el7 perl-Filter.x86_64 0:1.49-3.el7 perl-Getopt-Long.noarch 0:2.40-2.el7 perl-HTTP-Tiny.noarch 0:0.033-3.el7 perl-PathTools.x86_64 0:3.40-5.el7 perl-Pod-Escapes.noarch 1:1.04-286.el7 perl-Pod-Perldoc.noarch 0:3.20-4.el7 perl-Pod-Simple.noarch 1:3.28-4.el7 perl-Pod-Usage.noarch 0:1.63-3.el7 perl-Scalar-List-Utils.x86_64 0:1.27-248.el7 perl-Socket.x86_64 0:2.010-3.el7 perl-Storable.x86_64 0:2.45-3.el7 perl-Text-ParseWords.noarch 0:3.29-4.el7 perl-Time-HiRes.x86_64 4:1.9725-3.el7 perl-Time-Local.noarch 0:1.2300-2.el7 perl-constant.noarch 0:1.27-2.el7 perl-libs.x86_64 4:5.16.3-286.el7 perl-macros.x86_64 4:5.16.3-286.el7 perl-parent.noarch 1:0.225-244.el7 perl-podlators.noarch 0:2.5.1-3.el7 perl-threads.x86_64 0:1.87-4.el7 perl-threads-shared.x86_64 0:1.43-6.el7 Dependency Updated: glibc.x86_64 0:2.17-106.el7_2.8 glibc-common.x86_64 0:2.17-106.el7_2.8 Complete! Copy iso file /Applications/VirtualBox.app/Contents/MacOS/VBoxGuestAdditions.iso into the box /tmp/VBoxGuestAdditions.iso mount: /dev/loop0 is write-protected, mounting read-only Installing Virtualbox Guest Additions 5.0.30 - guest version is 5.0.26 Verifying archive integrity... All good. Uncompressing VirtualBox 5.0.30 Guest Additions for Linux............ VirtualBox Guest Additions installer Removing installed version 5.0.26 of VirtualBox Guest Additions... Removing existing VirtualBox non-DKMS kernel modules[ OK ] Copying additional installer modules ... Installing additional modules ... Removing existing VirtualBox non-DKMS kernel modules[ OK ] Building the VirtualBox Guest Additions kernel modules Building the main Guest Additions module^@[ OK ] Building the shared folder support module[ OK ] Building the graphics driver module[ OK ] Doing non-kernel setup of the Guest Additions[ OK ] You should restart your guest to make sure the new modules are actually used ==\u0026gt; host: Checking for guest additions in VM... ==\u0026gt; host: Setting hostname... ==\u0026gt; host: Configuring and enabling network interfaces... ^@==\u0026gt; host: Mounting shared folders... host: /vagrant =\u0026gt; /Users/XXXXX/development/vagrant ==\u0026gt; host: Running provisioner: ansible_local... host: Installing Ansible... host: Running ansible-playbook... cd /vagrant \u0026amp;\u0026amp; PYTHONUNBUFFERED=1 ANSIBLE_FORCE_COLOR=true ansible-playbook --limit=\u0026#34;all\u0026#34; --inventory-file=provision/inventory -v provision/playbook.yml Using /vagrant/ansible.cfg as config file PLAY [host] ******************************************************************** TASK [setup] ******************************************************************* ok: [host] TASK [provision test] ********************************************************** ok: [host] =\u0026gt; { \u0026#34;msg\u0026#34;: \u0026#34;provision test\u0026#34; } PLAY RECAP ********************************************************************* host : ok=2 changed=0 unreachable=0 failed=0 vagrant èµ·å‹•ç¢ºèª 1 2 3 4 5 6 $ vagrant ssh host [vagrant@host ~]$ ansible --version ansible 2.2.0.0 config file = /etc/ansible/ansible.cfg configured module search path = Default w/o overrides [vagrant@host ~]$ ssh å‡ºæ¥ã¦ã€ansibleã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒç¢ºèªã§ããŸã‚‰ã“ã“ã¾ã§ã¯å®Œäº†ã€‚\n","permalink":"https://techteco.github.io/2016/11/28/vagrant-ansible-local-1/","tags":["Ansible"],"title":"Vagrant+VirtualBox+Ansibleã§é–‹ç™ºç’°å¢ƒã‚’æ§‹ç¯‰ã™ã‚‹ï¼ˆãã®ï¼‘ï¼‰"},{"categories":["AWS"],"content":"AWS CLIã‚’ã¤ã‹ã£ã¦S3ã«ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ hugoã§å‡ºåŠ›ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’S3ã«ã‚¢ãƒƒãƒ—ã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ã®ãƒ¡ãƒ¢ å‰æ awscliã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆ å¯¾è±¡ã®ãƒã‚±ãƒƒãƒˆã®ã‚¢ã‚¯ã‚»ã‚¹ãƒãƒªã‚·ãƒ¼è¨­å®šæ¸ˆ ã‚³ãƒãƒ³ãƒ‰ publicé…ä¸‹ã‚’ã€å…¬é–‹ç”¨ã®S3ãƒã‚±ãƒƒãƒˆã«syncã™ã‚‹\n1 $ aws s3 sync ~/techte.co/public/ s3://techte.co --exact-timestamps åŒæœŸã—ãŸããªã„ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é™¤å¤–ã™ã‚‹ã«ã¯ã€\u0026ndash;excludeã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ã¤ã‘ã‚‹ä¸‹ã®ä¾‹ã¯ã€.ã‹ã‚‰å§‹ã¾ã‚‹éš ã—ãƒ•ã‚¡ã‚¤ãƒ«ã‚„.gitãªã©ã‚’é™¤å¤–ã™ã‚‹\n1 $ aws s3 sync ~/techte.co/public/ s3://techte.co --exact-timestamps --exclude \u0026#34;.*\u0026#34; ","permalink":"https://techteco.github.io/2016/11/22/s3-sync/","tags":["S3","AWS CLI"],"title":"ã€ãƒ¡ãƒ¢ã€‘AWS CLIã‚’ã¤ã‹ã£ã¦S3ã«ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰"},{"categories":["Note"],"content":"Hugoã®åŸºæœ¬çš„ãªä½¿ã„æ–¹ãƒ¡ãƒ¢ bloggerã‹ã‚‰hugoã«ç§»è¡Œã«ã—ãŸã®ã§ã€ç°¡å˜ã«ä½¿ã„æ–¹ã®ãƒ¡ãƒ¢ ç’°å¢ƒ OS X El Capitan 10.11.6 Homebrew è¨­å®šæ¸ˆã¿ golangã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ 1 2 $ go version go version go1.7.3 darwin/amd64 ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« 1 $ brew install hugo ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ 1 $ hugo new site co.techte ãƒ†ãƒ¼ãƒé©ç”¨(HugoMDL) ã“ã®ã‚µã‚¤ãƒˆã§ä½¿ã£ãŸãƒ†ãƒ¼ãƒ 1 2 $ cd co.techte/themes/ $ git clone https://github.com/jchatkinson/HugoMDL ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ 1 $ hugo server --watch --buildDrafts ãƒ“ãƒ«ãƒ‰ 1 $ hugo ","permalink":"https://techteco.github.io/2016/11/22/hugo-install/","tags":["Hugo"],"title":"ã€ãƒ¡ãƒ¢ã€‘Hugoã®åŸºæœ¬çš„ãªä½¿ã„æ–¹"},{"categories":["AWS"],"content":"Macã«AWS CLIã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« AWS å…¬å¼ï¼šInstalling the AWS Command Line Interface AWS å…¬å¼ï¼šConfiguring the AWS Command Line Interface ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆ pip ã®ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã‹ã‚‰ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—å®Ÿè¡Œã—ã¾ã™ã€‚\n1 2 3 4 5 6 $ curl \u0026#34;https://bootstrap.pypa.io/get-pip.py\u0026#34; -o \u0026#34;get-pip.py\u0026#34; $ pip -V pip 8.1.2 from /usr/local/lib/python2.7/site-packages (python 2.7) $ sudo python get-pip.py AWS CLI ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« 1 2 3 4 $ sudo pip install awscli $ aws --version aws-cli/1.11.13 Python/2.7.12 Darwin/15.6.0 botocore/1.4.70 AWS CLI è¨­å®š 1 2 3 4 5 $ aws configure AWS Access Key ID [None]: AK********************** AWS Secret Access Key [None]: wJa**************************** Default region name [None]: us-west-2 Default output format [None]: ENTER è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«\n1 2 3 4 5 6 $ tree .aws .aws â”œâ”€â”€ config â””â”€â”€ credentials 0 directories, 2 files ","permalink":"https://techteco.github.io/2016/11/19/aws-cli-install/","tags":["AWS CLI"],"title":"Macã«AWS CLIã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«"},{"categories":["PHP"],"content":"ã€FuelPHPã€‘ãƒ­ã‚°ã®å‡ºåŠ›å…ˆã‚’å¤‰æ›´ã™ã‚‹ FuelPHPã‚’ä½¿ã„å§‹ã‚ã¦ï¼’å¹´ä»¥ä¸ŠçµŒã¡ã¾ã—ãŸãŒã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒ­ã‚°å‡ºåŠ›ãŒä½¿ã„ã¥ã‚‰ã„ãªã¨æ€ã„ã¤ã¤æ”¾ç½®ã—ã¦ãŸã®ã‚’ã‚ˆã†ã‚„ãå¤‰æ›´ã€‚ã¨ã„ã£ã¦ã‚‚ã€ã¨ã£ã¦ã‚‚ç°¡å˜ã§ã—ãŸã€‚\nå…¬å¼ã‚µã‚¤ãƒˆ FuelPHP ã“ã®æ™‚ç‚¹ã§ã®æœ€æ–°ç‰ˆã¯1.72ã§ã™ã­ã€‚\nFuelPHPã®logå‡ºåŠ›å…ˆã®è¨­å®š logå‡ºåŠ›å…ˆã®ä½œæˆ logrotateã®è¨­å®š FuelPHPã®logå‡ºåŠ›å…ˆã®è¨­å®š app/config/config.phpã«ï¼’è¡Œè¿½åŠ ã™ã‚‹ã ã‘ã§ã™\n1 2 \u0026#39;log_path\u0026#39; =\u0026gt; \u0026#39;/var/log/fuelphp/\u0026#39;, \u0026#39;log_file\u0026#39; =\u0026gt; \u0026#39;fuelphp.log\u0026#39;, å®Ÿè¡Œã—ãŸã‚‰ã€æ€’ã‚‰ã‚ŒãŸã€‚äº‹å‰ã«ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ä½œã£ã¦ãŠã‹ãªã„ãƒ€ãƒ¡ãƒ‡ã‚¹ã­ã€‚\n1 2 Fuel\\Core\\FuelException [ Error ]: Unable to create or write to the log file. Please check the permissions on /var/log/fuelphp/. (mkdir(): è¨±å¯ãŒã‚ã‚Šã¾ã›ã‚“) logå‡ºåŠ›å…ˆã®ä½œæˆ æ™®é€šã«ã€ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œã£ã¦ãƒ‘ãƒ¼ãƒŸãƒƒã‚·ãƒ§ãƒ³ã¨ã‹è¨­å®šã™ã‚‹ã€‚â€»ä¾‹ã¯ã€nginxã§å‹•ä½œã—ã¦ã„ã‚‹ç’°å¢ƒ\n1 2 3 4 5 $ sudo mkdir /var/log/fuelphp $ sudo chown nginx:nginx /var/log/fuelphp $ sudo chmod 775 /var/log/fuelphp $ ll | grep fuelphp drwxrwxr-x 2 nginx nginx 24 1æœˆ 7 13:08 fuelphp logrotateã®è¨­å®š ã“ã®ã¾ã¾ã ã¨logãŒãƒ‘ãƒ³ã‚¯ã—ã¦ã—ã¾ã†ã®ã§ã€logrotateã®è¨­å®šã‚‚ã—ã¦ãŠã/etc/logrotate.d/fuelphpã‚’ä½œæˆã€‚ä¸­èº«ã¯ä¸‹ã®ã¨ãŠã‚Šã€‚\n1 2 3 4 5 6 7 8 /var/log/fuelphp/*.log { daily missingok rotate 30 compress notifempty create 664 nginx nginx } ä»¥ä¸Šã§ã™ã€‚ç°¡å˜ã§ã—ãŸã­ã€‚\n","permalink":"https://techteco.github.io/2016/01/07/fuelphp-log/","tags":null,"title":"ã€FuelPHPã€‘ãƒ­ã‚°ã®å‡ºåŠ›å…ˆã‚’å¤‰æ›´ã™ã‚‹"},{"categories":["Note"],"content":"wgetã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« ä»Šæ›´ãªãŒã‚‰macã«wgetãŒå…¥ã£ã¦ãªã„ã“ã¨ã«æ°—ã¥ãã€‚ã€‚ã¨ã†ã„ã†ã‚ã‘ã§ã€macã«wgetã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã¿ã‚‹\nå…¬å¼ã‚µã‚¤ãƒˆ wget ã“ã®æ™‚ç‚¹ã§ã®æœ€æ–°ç‰ˆã¯1.16ã§ã™ã­ã€‚\nã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ‰‹é † 1 2 3 4 5 6 7 $ cd /tmp $ curl -O http://ftp.gnu.org/pub/gnu/wget/wget-1.16.tar.gz $ tar xvzf wget-1.16.tar.gz $ cd wget-1.16 $ sudo ./configure --with-ssl=openssl $ sudo make $ sudo make install ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ç¢ºèª 1 2 $ which wget /usr/local/bin/wget ","permalink":"https://techteco.github.io/2015/09/28/mac-wget/","tags":null,"title":"ã€ãƒ¡ãƒ¢ã€‘MACã«wgetã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«"},{"categories":["Note"],"content":"é€£ç•ªã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆ ä½œæ¥­ç”¨ã«ã€ã¨ã«ã‹ãé€£ç•ªã§ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œã‚ŠãŸã„ã“ã¨ãŒã‚ã£ã¦ã€ä¾¿åˆ©ãªã‚³ãƒãƒ³ãƒ‰ã•ãŒã—ã¦ãŸã‚‰ã¨ã¦ã‚‚ç°¡å˜ã‚“ã ã£ãŸã®ã§ãƒ¡ãƒ¢ã€‚ 1ã‹ã‚‰10ã¾ã§ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œã‚‹å ´åˆ\nã‚³ãƒãƒ³ãƒ‰ 1 $ mkdir {1..10} å®Ÿè¡Œçµæœ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 $ tree ./ ./ â”œâ”€â”€ 1 â”œâ”€â”€ 10 â”œâ”€â”€ 2 â”œâ”€â”€ 3 â”œâ”€â”€ 4 â”œâ”€â”€ 5 â”œâ”€â”€ 6 â”œâ”€â”€ 7 â”œâ”€â”€ 8 â””â”€â”€ 9 10 directories, 0 files ","permalink":"https://techteco.github.io/2015/09/10/seq-dir/","tags":null,"title":"ã€å°ãƒã‚¿ã€‘ç°¡å˜ã«é€£ç•ªã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œã‚‹æ–¹æ³•"},{"categories":["Front"],"content":"jsãƒ•ã‚¡ã‚¤ãƒ«ã‚’minifyã™ã‚‹ãŸã‚ã®gulupè¨­å®š å‰å›ä½œæˆã—ãŸã€typescriptç’°å¢ƒã«javascriptã®minifyã‚’è¿½åŠ ã—ã¦ã¿ã‚‹ã€‚ã¤ã„ã§ã«ã€npm installã‚‚è©¦ã—ã¦ã¿ã‚‹\nå‰å› gulpã§typescriptç’°å¢ƒã‚’æ§‹ç¯‰ã™ã‚‹ package.json æ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆã—ã¦ã€ãã“ã«å‰å›åˆ©ç”¨ã—ãŸpackage.jsonã‚’ç½®ã\n1 2 $ ls package.json npm installã§ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« npm installã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€package.jsonã®å†…å®¹ã‹ã‚‰ã€å¿…è¦ãªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã‚‹\n1 $ npm install ã“ã‚“ãªæ„Ÿã˜ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹\n1 2 3 4 5 6 7 8 9 10 $ tree -L 2 . â”œâ”€â”€ node_modules â”‚Â â”œâ”€â”€ gulp â”‚Â â”œâ”€â”€ gulp-typescript â”‚Â â”œâ”€â”€ gulp-watch â”‚Â â””â”€â”€ require-dir â””â”€â”€ package.json 5 directories, 1 file ã‚ã¨ã¯ã€å‰å›ä½œæˆã—ãŸãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ä»¥å¤–ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒã£ã¦ãã‚‹\ngulp-uglify javascriptãƒ•ã‚¡ã‚¤ãƒ«ã‚’minifyã™ã‚‹ãŸã‚ã®ã€gulp-uglifyã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹\nnpm gulp-uglify 1 $ npm install --save-dev gulp-uglify /gulp/tasks/tsc.jsã®å†…å®¹å‰å›ä½œæˆã—ãŸtsc.jsã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«ç·¨é›†ã™ã‚‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 var gulp = require(\u0026#34;gulp\u0026#34;); var ts = require(\u0026#34;gulp-typescript\u0026#34;); var uglify = require(\u0026#39;gulp-uglify\u0026#39;); var config = require(\u0026#34;../config\u0026#34;); gulp.task(\u0026#34;tsc\u0026#34;, function() { gulp.src(config.ts.src) .pipe(ts(config.ts.options)) .js .pipe(gulp.dest(config.ts.dest)) .pipe(uglify(config.uglify.options)) .pipe(gulp.dest(config.uglify.dest)); }); ./gulp/config.js\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 module.exports = { ts: { src: \u0026#34;./src/ts/**/*.ts\u0026#34;, dest: \u0026#34;./src/js\u0026#34;, options: { removeComments: true, noImplicitAny: true, noLib: false, onoEmitOnErrorut: false, target: \u0026#34;ES5\u0026#34; } }, // for gulp-uglify uglify: { dest: \u0026#34;./src/js/min\u0026#34;, options: { beautify:true, preserveComments: \u0026#39;some\u0026#39; } } }; ã“ã‚Œã§gulpã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€é€šå¸¸ã®jsãƒ•ã‚¡ã‚¤ãƒ«ã¨minifyã•ã‚ŒãŸjsãƒ•ã‚¡ã‚¤ãƒ«ãŒã§ãã¾ã—ãŸã­ã€‚\n1 2 3 4 5 $ ls -R ./src/js min sample.js ./src/js/min: sample.js ","permalink":"https://techteco.github.io/2015/09/04/gulp-minify-js/","tags":["gulp","TypeScript"],"title":"gulpã§typescriptã‹ã‚‰å‡ºåŠ›ã•ã‚ŒãŸjavascriptã‚’minifyã™ã‚‹"},{"categories":["Front"],"content":"typescriptã‚’ã‚„ã£ã¦ã¿ã‚‹ å…¬å¼ã‚µã‚¤ãƒˆ typescript typescriptã§ã‚‚è§¦ã£ã¦ã¿ã‚ˆã†ã¨ã„ã†ã“ã¨ã§ã€gulpã§ç’°å¢ƒã‚’ã¤ãã£ã¦ã¿ã¾ã™\nã‚´ãƒ¼ãƒ«ã¯ã€\ntsãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç›£è¦–ã—ã¦ã€ãƒ•ã‚¡ã‚¤ãƒ«ãŒæ›´æ–°ã•ã‚ŒãŸã‚‰ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦jsãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‡ºåŠ›ã™ã‚‹ æ§‹ç¯‰ package.jsonã‚’ä½œæˆ npm init ã‚³ãƒãƒ³ãƒ‰ã§package.jsonã®ã²ãªå½¢ã‚’ä½œæˆã€‚å…¥åŠ›å†…å®¹ã¯é©å½“ã«ã€‚\n1 $ npm init ã¨ã‚Šã‚ãˆãšã€ã“ã‚“ãªæ„Ÿã˜ã«ã—ã¦ãŠãã€‚\n1 2 3 4 5 6 7 8 9 { \u0026#34;name\u0026#34;: \u0026#34;gulp_typescript\u0026#34;, \u0026#34;version\u0026#34;: \u0026#34;1.0.0\u0026#34;, \u0026#34;description\u0026#34;: \u0026#34;gulp for typescript\u0026#34;, \u0026#34;main\u0026#34;: \u0026#34;gulpfile.js\u0026#34;, \u0026#34;scripts\u0026#34;: { \u0026#34;test\u0026#34;: \u0026#34;echo \\\u0026#34;Error: no test specified\\\u0026#34; \u0026amp;\u0026amp; exit 1\u0026#34; } } gulpã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« ãƒ­ãƒ¼ã‚«ãƒ«ã‚¤ãƒ³ãƒˆãƒ¼ãƒ«ã§ã€\u0026ndash;save-devã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§package.jsonã‚’æ›´æ–°ã™ã‚‹\n1 $ npm install --save-dev gulp gulpfile.jsã‚’ä½œæˆ ã‚¿ã‚¹ã‚¯ã‚’ãƒ•ã‚¡ã‚¤ãƒ«åˆ†å‰²ã—ã¦ç®¡ç†å‡ºæ¥ã‚‹ã‚ˆã†ã«require-dirã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\nnpm require-dir 1 $ npm install --save-dev require-dir gulpfile.js\n1 2 3 4 var dir = require(\u0026#39;require-dir\u0026#39;); dir(\u0026#39;./gulp/tasks\u0026#39;, { recurse: true }); default.jsã‚’ä½œæˆ gulpã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œæ™‚ã«æœ€åˆã«èª­ã¿è¾¼ã‚€ã‚¿ã‚¹ã‚¯ãƒ•ã‚¡ã‚¤ãƒ« gulpã®ã‚¿ã‚¹ã‚¯ã‚’ä¿å­˜ã—ã¦ã„ã ./gulp/tasks ã¨typescriptç”¨ ./src/ts ã¨å®Ÿè¡Œå¾Œã®javascriptç”¨ ./src/js ã‚’ä½œæˆ\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 $ tree -L 2 . â”œâ”€â”€ gulp â”‚Â â””â”€â”€ tasks â”œâ”€â”€ gulpfile.js â”œâ”€â”€ node_modules â”‚Â â”œâ”€â”€ gulp â”‚Â â””â”€â”€ require-dir â”œâ”€â”€ package.json â””â”€â”€ src â”œâ”€â”€ js â””â”€â”€ ts 7 directories, 2 files ./gulp/tasks/default.jsã®å†…å®¹ \u0026quot;watch\u0026quot;ã‚¿ã‚¹ã‚¯ã‚’å®Ÿè¡Œã—ã¾ã™ã‚ˆã£ã¦ã“ã¨ãªã®ã§ã€æ¬¡ã«watchã‚¿ã‚¹ã‚¯ã‚’ã¤ãã‚‹\n./gulp/tasks/default.js\n1 2 3 var gulp = require(\u0026#34;gulp\u0026#34;); gulp.task(\u0026#34;default\u0026#34;, [\u0026#34;watch\u0026#34;]); watch.jsã‚’ä½œæˆ ãƒ•ã‚¡ã‚¤ãƒ«ç›£è¦–ã™ã‚‹ãŸã‚ã«gulp-watchã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\nnpm gulp-watch 1 $ npm install --save-dev gulp-watch ./gulp/tasks/watch.jsã®å†…å®¹å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«ã«å¤‰æ›´ãŒã‚ã£ãŸã‚‰ã€\u0026quot;tsc\u0026quot;ã‚¿ã‚¹ã‚¯ã‚’å®Ÿè¡Œã—ã¾ã™ã‚ˆã£ã¦ã“ã¨ å¯¾è±¡ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯ã€configã‹ã‚‰èª­ã¿ã“ã‚€ã‚ˆã†ã«ã™ã‚‹\n./gulp/tasks/watch.js\n1 2 3 4 5 6 7 8 9 var gulp = require(\u0026#34;gulp\u0026#34;); var watch = require(\u0026#34;gulp-watch\u0026#34;); var config = require(\u0026#34;../config\u0026#34;); gulp.task(\u0026#34;watch\u0026#34;, function() { watch(config.ts.src, function() { gulp.start([\u0026#34;tsc\u0026#34;]); }); }); ./gulp/config.js\n1 2 3 4 5 module.exports = { ts: { src: \u0026#34;./src/ts/**/*.ts\u0026#34;, } }; tsc.js typescriptã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã¨ã—ã¦gulp-typescriptã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\nnpm gulp-typescript 1 $ npm install --save-dev gulp-typescript ./gulp/config.jsã«è¨­å®šè¿½åŠ \n1 2 3 4 5 6 7 8 9 10 11 12 13 module.exports = { ts: { src: \u0026#34;./src/ts/**/*.ts\u0026#34;, dest: \u0026#34;./src/js\u0026#34;, options: { removeComments: true, noImplicitAny: true, noLib: false, noEmitOnError: false, target: \u0026#34;ES5\u0026#34; } } }; ./gulp/tsc.js\n1 2 3 4 5 6 7 8 9 10 var gulp = require(\u0026#34;gulp\u0026#34;); var ts = require(\u0026#34;gulp-typescript\u0026#34;); var config = require(\u0026#34;../config\u0026#34;); gulp.task(\u0026#34;tsc\u0026#34;, function() { gulp.src(config.ts.src) .pipe(ts(config.ts.options)) .js .pipe(gulp.dest(config.ts.dest)); }); gulpã‚’å®Ÿè¡Œã™ã‚‹ ãªã‚“ã‹watchã—ã¦ã‚‹ã£ã½ã„\n1 2 3 4 5 6 $ gulp [17:03:52] Using gulpfile ~/gulpfile.js [17:03:52] Starting \u0026#39;watch\u0026#39;... [17:03:52] Finished \u0026#39;watch\u0026#39; after 6.91 ms [17:03:52] Starting \u0026#39;default\u0026#39;... [17:03:52] Finished \u0026#39;default\u0026#39; after 10 Î¼s é©å½“ãªtypescriptã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãŠã„ã¦ã¿ã‚‹\n./src/ts/sample.ts\n1 2 3 4 5 6 7 8 class Greeter { constructor(public greeting: string) { } greet() { return \u0026amp;quot;\u0026amp;lt;h1\u0026amp;gt;\u0026amp;quot; + this.greeting + \u0026amp;quot;\u0026amp;lt;/h1\u0026amp;gt;\u0026amp;quot;; } }; var greeter = new Greeter(\u0026amp;quot;Hello, world!\u0026amp;quot;); document.body.innerHTML = greeter.greet(); ./src/js/sample.js ãŒã§ãã¦ã¾ã™ã­\n1 2 3 4 5 6 7 8 9 10 11 12 var Greeter = (function () { function Greeter(greeting) { this.greeting = greeting; } Greeter.prototype.greet = function () { return \u0026amp;quot;\u0026amp;lt;h1\u0026amp;gt;\u0026amp;quot; + this.greeting + \u0026amp;quot;\u0026amp;lt;/h1\u0026amp;gt;\u0026amp;quot;; }; return Greeter; })(); ; var greeter = new Greeter(\u0026amp;quot;Hello, world!\u0026amp;quot;); document.body.innerHTML = greeter.greet(); ","permalink":"https://techteco.github.io/2015/09/02/gulp-typescript/","tags":["gulp","TypeScript"],"title":"gulpã§typescriptç’°å¢ƒã‚’æ§‹ç¯‰ã™ã‚‹"},{"categories":["Front"],"content":"browserifyã§hello world æœ€è¿‘ã€è©±é¡Œï¼Ÿã®browserifyã‚’è§¦ã£ã¦ã¿ã‚‹ã€‚ã¨ã‚Šã‚ãˆãšã€å…¬å¼ã‚µã‚¤ãƒˆã®hello worldã‚’è©¦ã—ã¦ã¿ã‚‹ã“ã¨ã«\nå…¬å¼ã‚µã‚¤ãƒˆ Browserify browserifyã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« browserifyã‚’globalã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n1 $ npm install -g browserify ã‚µãƒ³ãƒ—ãƒ«ã§å‹•ã‹ã™javascript main.js 1 2 3 var unique = require(\u0026#39;uniq\u0026#39;); var data = [1, 2, 2, 3, 4, 5, 5, 5, 6]; console.log(unique(data)); ã‚µãƒ³ãƒ—ãƒ«ã§åˆ©ç”¨ã™ã‚‹uniqãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« 1 $ npm install --save--dev uniq bundle.jsã‚’å‡ºåŠ› 1 $ browserify main.js -o bundle.js å‡ºåŠ›ã•ã‚ŒãŸbundle.jsã®ä¸­ã¯ã“ã‚“ãªæ„Ÿã˜ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\u0026amp;quot;function\u0026amp;quot;\u0026amp;amp;\u0026amp;amp;require;if(!u\u0026amp;amp;\u0026amp;amp;a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\u0026amp;quot;Cannot find module \u0026amp;#039;\u0026amp;quot;+o+\u0026amp;quot;\u0026amp;#039;\u0026amp;quot;);throw f.code=\u0026amp;quot;MODULE_NOT_FOUND\u0026amp;quot;,f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\u0026amp;quot;function\u0026amp;quot;\u0026amp;amp;\u0026amp;amp;require;for(var o=0;o\u0026amp;lt;r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){ var unique = require(\u0026amp;#039;uniq\u0026amp;#039;); var data = [1, 2, 2, 3, 4, 5, 5, 5, 6]; console.log(unique(data)); },{\u0026amp;quot;uniq\u0026amp;quot;:2}],2:[function(require,module,exports){ \u0026amp;quot;use strict\u0026amp;quot; function unique_pred(list, compare) { var ptr = 1 , len = list.length , a=list[0], b=list[0] for(var i=1; i\u0026amp;lt;len; ++i) { b = a a = list[i] if(compare(a, b)) { if(i === ptr) { ptr++ continue } list[ptr++] = a } } list.length = ptr return list } function unique_eq(list) { var ptr = 1 , len = list.length , a=list[0], b = list[0] for(var i=1; i\u0026amp;lt;len; ++i, b=a) { b = a a = list[i] if(a !== b) { if(i === ptr) { ptr++ continue } list[ptr++] = a } } list.length = ptr return list } function unique(list, compare, sorted) { if(list.length === 0) { return list } if(compare) { if(!sorted) { list.sort(compare) } return unique_pred(list, compare) } if(!sorted) { list.sort() } return unique_eq(list) } module.exports = unique },{}]},{},[1]); ãªã‚“ã‹ä¸Šæ‰‹ãã„ã£ã¦ãã†ã§ã™ã€‚\n","permalink":"https://techteco.github.io/2015/08/28/try-browserify/","tags":["Node.js"],"title":"æœ€è¿‘ã€è©±é¡Œï¼Ÿã®browserifyã‚’è§¦ã£ã¦ã¿ã‚‹"},{"categories":["Front"],"content":" nodebrewã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« Node.jsã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« gulpã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« â† ã“ã“ 3. gulpã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« gulpã¯ã€npmã‚’ä½¿ã£ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹\nå…¬å¼ã‚µã‚¤ãƒˆ gulp å…¬å¼ã‚µã‚¤ãƒˆ npm npm npmã¯ã€Node.jsã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ™‚ã«ã€åŒæ™‚ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹\nnpmã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¢ºèª 1 2 3 4 5 6 7 8 9 $ npm version { npm: \u0026#39;2.11.3\u0026#39;, http_parser: \u0026#39;2.3\u0026#39;, modules: \u0026#39;14\u0026#39;, node: \u0026#39;0.12.7\u0026#39;, openssl: \u0026#39;1.0.1p\u0026#39;, uv: \u0026#39;1.6.1\u0026#39;, v8: \u0026#39;3.28.71.19\u0026#39;, zlib: \u0026#39;1.2.8\u0026#39; } npmã‚’æœ€æ–°ã«æ›´æ–°ã™ã‚‹ 1 2 3 4 5 6 7 8 9 10 11 $ npm upgrade -g npm $ npm version { npm: \u0026#39;2.14.0\u0026#39;, http_parser: \u0026#39;2.3\u0026#39;, modules: \u0026#39;14\u0026#39;, node: \u0026#39;0.12.7\u0026#39;, openssl: \u0026#39;1.0.1p\u0026#39;, uv: \u0026#39;1.6.1\u0026#39;, v8: \u0026#39;3.28.71.19\u0026#39;, zlib: \u0026#39;1.2.8\u0026#39; } $ gulp å…¬å¼ã‚µã‚¤ãƒˆ gulp(GitHub) npmã§gulpã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« 1 2 3 4 5 6 $ npm install --global gulp $ npm install --save-dev gulp $ gulp -v [15:10:53] CLI version 3.9.0 [15:10:53] Local version 3.9.0 $ gulpã‚’å‹•ã‹ã—ã¦ã¿ã‚‹ ãŠæ±ºã¾ã‚Šã®hello worldã§ã™ã­ã€‚é©å½“ãªãƒ•ã‚©ãƒ«ãƒ€ã«gulpfile.jsã‚’ä½œæˆã™ã‚‹ã€‚\n1 2 3 4 5 var gulp = require(\u0026#39;gulp\u0026#39;); gulp.task(\u0026#39;default\u0026#39;, function() { console.log(\u0026#39;Hello World!\u0026#39;); }); åŒã˜ãƒ•ã‚©ãƒ«ãƒ€ã§gulpã‚’å®Ÿè¡Œã™ã‚‹\n1 2 3 4 5 $ gulp [15:27:54] Using gulpfile ~/path_to_project/gulpfile.js [15:27:54] Starting \u0026#39;default\u0026#39;... Hello World! [15:27:54] Finished \u0026#39;default\u0026#39; after 98 Î¼s å‹•ãã¾ã—ãŸã­ã€‚\n","permalink":"https://techteco.github.io/2015/08/27/macgulp3/","tags":["gulp","Node.js","nodebrew"],"title":"Macã§gulpã‚’å‹•ã‹ãã† #3 gulpã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«"},{"categories":["Front"],"content":" nodebrewã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« Node.jsã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« â† ã“ã“ gulpã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« 2. Node.jsã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« å…¬å¼ã‚µã‚¤ãƒˆ Node.js æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯ã€latestã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã§æœ€æ–°ç‰ˆã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã€‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¾Œã¯ã€lsã§ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¢ºèª\n1 2 3 4 5 6 $ nodebrew install latest $ nodebrew ls v0.12.7 current: none $ currentã®æŒ‡å®š ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸã ã‘ã ã¨ã€current: noneã¨ãªã£ã¦ã„ã‚‹ã‚ˆã†ã«ã€ä½¿ãˆã¾ã›ã‚“\n1 2 3 4 5 $ nodebrew use v0.12.7 use v0.12.7 $ node -v v0.12.7 $ ","permalink":"https://techteco.github.io/2015/08/27/macgulp2/","tags":["gulp","Node.js","nodebrew"],"title":"Macã§gulpã‚’å‹•ã‹ãã† #2 Node.jsã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«"},{"categories":["Front"],"content":" nodebrewã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« â† ã“ã“ Node.jsã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« gulpã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« 1. nodebrewã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã®ç´°ã‹ã„æ‰‹é †ã¯ã€å…¬å¼ã‚µã‚¤ãƒˆã«è©³ã—ãæ›¸ã„ã¦ã‚ã‚‹ã®ã§ã€ã–ã£ãã‚Šã¨ã€‚\nå…¬å¼ã‚µã‚¤ãƒˆ PATHã‚’è¨­å®š .bashrcã«ä¸‹è¨˜ã®ã¨ãŠã‚ŠPATHã‚’è¨­å®šã™ã‚‹\n1 $ export PATH=$HOME/.nodebrew/current/bin:$PATH è¨­å®šã®åæ˜  1 $ source ~/.bashrc ä½¿ã„æ–¹ 1 $ nodebrew help ","permalink":"https://techteco.github.io/2015/08/27/macgulp1/","tags":["gulp","Node.js","nodebrew"],"title":"Macã§gulpã‚’å‹•ã‹ãã† #1 nodebrewã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«"},{"categories":["Note"],"content":"treeã‚³ãƒãƒ³ãƒ‰ ã‚³ãƒãƒ³ãƒ‰ã§ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã‚’è¡¨ç¤ºã™ã‚‹æ–¹æ³•ã•ãŒã—ã¦ãŸã‚‰ã€ä¾¿åˆ©ãªã®ãŒã‚ã‚Šã¾ã—ãŸã€‚ã¦ã„ã†ã‹ã€çŸ¥ã‚‰ãªã„ã®ãŒæ¥ãšã‹ã—ã„ãƒ¬ãƒ™ãƒ«ãªã®ã‹ã€‚ã€‚\nã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« macã«brewã‚’ä½¿ã£ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹\n1 2 3 $ brew install tree $ tree --version tree v1.7.0 (c) 1996 - 2014 by Steve Baker, Thomas Moore, Francesc Rocher, Florian Sesser, Kyosuke Tokoro ç°¡å˜ãªä½¿ã„æ–¹ è¡¨ç¤ºã—ãŸã„pathã«ç§»å‹•ã—ã¦\n1 2 3 4 5 6 7 8 9 10 $ tree . â”œâ”€â”€ test1 â”‚Â â””â”€â”€ test.txt â”œâ”€â”€ test2 â”‚Â â””â”€â”€ test.txt â””â”€â”€ test3 â””â”€â”€ test.txt 3 directories, 3 files ","permalink":"https://techteco.github.io/2015/08/26/mac-tree-command/","tags":null,"title":"Macã«treeã‚³ãƒãƒ³ãƒ‰ã‚’ã„ã‚Œã‚‹"},{"categories":null,"content":"","permalink":"https://techteco.github.io/manifest.json","tags":null,"title":""},{"categories":null,"content":"","permalink":"https://techteco.github.io/search/_index.de/","tags":null,"title":""},{"categories":null,"content":"","permalink":"https://techteco.github.io/search/_index.en/","tags":null,"title":""},{"categories":null,"content":"","permalink":"https://techteco.github.io/search/_index.es/","tags":null,"title":""},{"categories":null,"content":"","permalink":"https://techteco.github.io/search/_index.fr/","tags":null,"title":""},{"categories":null,"content":"","permalink":"https://techteco.github.io/search/_index.hi/","tags":null,"title":""},{"categories":null,"content":"","permalink":"https://techteco.github.io/search/_index.jp/","tags":null,"title":""},{"categories":null,"content":"","permalink":"https://techteco.github.io/search/_index.nl/","tags":null,"title":""},{"categories":null,"content":"","permalink":"https://techteco.github.io/search/_index.pl/","tags":null,"title":""},{"categories":null,"content":"","permalink":"https://techteco.github.io/search/_index.ru/","tags":null,"title":""},{"categories":null,"content":"","permalink":"https://techteco.github.io/search/_index.zh-cn/","tags":null,"title":""}]